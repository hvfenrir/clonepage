/*! autogenerated by gruntfile.js in the root directory of the project */

"object"!=typeof HM?HM={hypeHelper:{}}:"object"==typeof HM&&"object"!=typeof HM.hypeHelper&&(HM.hypeHelper={}),HM.hypeHelper.isEmbed=function(){return HM.getParameter("innerFrame")||HM.getParameter("outerFrame")?!HM.hypeHelper.isEditorViewer()&&top!==self.parent:!/\/(app\/|admin)/.test(HM.referer)&&top!==self},HM.hypeHelper.isEditorViewer=function(){var e=new RegExp(HM.bootstrap.profile.user_name+"/edit","i");if(HM.getParameter("innerFrame")||HM.getParameter("outerFrame"))try{return!top.isEmbedPreview&&e.test(top.location.href)}catch(e){}return!1},HM="undefined"==typeof HM?{}:HM,HM.CompatiblePostMessage=function(){function e(e){try{return JSON.parse(e),!0}catch(e){return!1}}function t(e,t){var o=void 0===window.addEventListener?"attachEvent":"addEventListener";window[o](e,t,!1)}function o(e,t){var o=void 0===window.removeEventListener?"detachEvent":"removeEventListener";window[o](e,t,!1)}return{listenTo:function(o,n){var r=function(t){if(e(t.data)){var r=JSON.parse(t.data);r.message==o&&n(r,t)}};return t("message",r),r},stopListeningTo:function(e){o("message",e)},trigger:function(e,t,o){(o=o||{}).message=t,e.postMessage(JSON.stringify(o),"*")}}}(),"undefined"==typeof HM&&(HM={}),HM.PostModalManager={initialized:!1,callbacks:[],init:function(e,t){if(this.BASE_URL=e,this.EMBED_URL=t,!this.initialized){this.initialized=!0;var o=this;HM.CompatiblePostMessage.listenTo("_71n7_modal_close",function(){o.getElement().then(function(e){e.style.display="none";for(var t in o.callbacks)o.callbacks[t]();o.callbacks=[]})}),HM.hypeHelper.isEmbed()||HM.PostModalManager.createElement()}},hide:function(){this.getElement().then(function(e){HM.CompatiblePostMessage.trigger(e.contentWindow,"hide")})},show:function(e,t,o,n,r){HM.PostModalManager.getElement().then(function(i){var a=i.contentWindow;HM.CompatiblePostMessage.trigger(a,"bootstrap",{posts:t,profile:o,onEditor:!!(HM&&HM.hypeHelper&&HM.hypeHelper.onEditor&&HM.hypeHelper.onEditor())}),setTimeout(function(){HM.CompatiblePostMessage.trigger(a,"show",{index:e,fromEditMode:!!n,fromPostHighlight:!!r})},0),i.style.display="block",a.focus()})},rejectPost:function(e){HM.PostModalManager.getElement().then(function(t){var o=t.contentWindow;HM.CompatiblePostMessage.trigger(o,"postRejected",{post_id:e})})},listen:function(e){this.callbacks.push(e)},FRAME_ID:"_71n7_modal_frame",FRAME_STYLE:{display:"none",position:"fixed",left:0,right:0,top:0,bottom:0,width:"100%",height:"100%",border:"none",zIndex:/edit/.test(window.location.href)?999:99999999},getElement:function(){return this.createElementPromise||this.createElement()},createElementPromise:null,createElement:function(){var e=document.createElement("iframe");e.id=HM.PostModalManager.FRAME_ID;var t=this.copyUrlParameters(this.BASE_URL+"/raw/popUpModalEndpoint");e.src=t;var o=this.createElementPromise=new this.Promise;e.onload=function(){o.resolve(e)};for(var n in HM.PostModalManager.FRAME_STYLE)e.style[n]=HM.PostModalManager.FRAME_STYLE[n];return/edit/.test(window.location.href)&&(e.style.left="315px",e.style.top="60px",e.style.width="calc(100% - 315px)",e.style.height="calc(100% - 60px)"),document.body.appendChild(e),o},copyUrlParameters:function(e){var t=-1===e.indexOf("?")?"?":"&",o=this;return["notrack","forceBundle","debug","touchscreen"].forEach(function(n){var r=HM.getParameter(n,o.EMBED_URL);r&&(e+=t+n+"="+encodeURIComponent(r),t="&")}),e},Promise:function(){var e=null,t=[];return this.resolve=function(o){e=o;for(var n in t)t[n](e)},this.then=function(o){return e?o(e):(t.push(o),this)},this}},function(){function e(e){return Array.prototype.slice.call(document.querySelectorAll(e))}function t(e,t,o){var n=document.querySelector(e);n.setAttribute("style",t+":"+o+"; "+n.getAttribute("style"))}function o(){if("undefined"==typeof HM&&(HM={}),!HM.embedReady){var o=/android.+mobile|ip(hone|[oa]d)/i.test(navigator.userAgent);HM.console={},HM.console.log=function(e){/log=true/.test(window.location.href)&&console.log(e)},HM._secr=String.fromCharCode(46,116,105,110,116,117,112),HM.init=function(){window.console||(console={log:function(){}});var t=e("div"+HM._secr+", div.a5b5e4")[0].getAttribute("data-baseurl");t?HM.baseUrl=t:e(".a5b5e4").length>0?HM.baseUrl="https://www.71n7.com":HM.baseUrl="https"+String.fromCharCode(58,47,47,99,100,110,46,104,121,112,101,109,97,114,107,115,46,99,111,109)},HM.resize=function(){e(HM._secr+" iframe, .a5b5e4 iframe").forEach(function(e,t){HM.debug=e;var o,n=e.parentNode;n.className.match(/-inner$/)&&(o="100%"===(n=n.parentNode).style.width?n.parentNode.clientWidth:n.getBoundingClientRect().width);var r="resize|"+o+"|"+n.clientHeight;HM.console.log("sending "+r,HM.baseUrl),e.contentWindow.postMessage(r,HM.baseUrl)})},HM.listenForMessages=function(o){HM.CompatiblePostMessage.listenTo("showPopupModal",function(e,t){try{HM.PostModalManager.show(e.index,e.posts,e.profile),HM.PostModalManager.listen(function(){HM.CompatiblePostMessage.trigger(t.source,"_71n7_modal_close")})}catch(t){window.location=e.posts[e.index].url}}),window.onmessage=function(n){if(HM.console.log("71n7embed: processExternalEvent: "),HM.console.log(n.data),"string"==typeof n.data){var r=o.filter(function(e,t){return e.querySelector("iframe").contentWindow===n.source});if(0!==r.length){r=r[0];var i=n.data.split("|"),a=i[0];if("resizeHeight"===a)s=i[1],r.style.height=s+"px";else if("resizeHeightInner"===a){HM.console.log("internal resize event called with "),HM.console.log(i);var s=i[1];e(".a5b5e4-inner",r)[0].style.height=s}else""===a||("iosSafariScrollToTop"===a?(HM.console.log("iosSafariScrollToTop"),window.scrollTop=r.offsetTop):"changeEmbedParentStyle"===a?(HM.console.log("changeEmbedParentStyle"),t(i[1],i[2],i[3])):"notifyParentOfTheme"===a?"hypeTemplate_horizontal"===i[1]&&navigator.userAgent.match(/ip(hone|ad)/i)&&(e("div"+HM._secr+", div.a5b5e4").forEach(function(e,t){var o=e.querySelector(".a5b5e4-inner");o.style.height="100%",o.style.width=e.querySelector("iframe").offsetWidth}),HM.resize()):"finishedLoadingMorePosts"===a&&setTimeout(function(){r.dataset.finishedloadingmoreposts="true"},250))}}else HM.console.log("71n7embed: not processing external event")}.bind(this)},HM.getParameter=function(e,t){try{var o,n,r=t.split("?")[1].split("&");for(o=0;o<r.length;o++)if((n=r[o].split("="))[0]==e)return unescape(n[1]);return null}catch(e){return null}},HM.finishedLoadingMorePosts=!0,HM.shouldBindExpand=function(e){return!o&&"true"===HM.getParameter("expand",e)&&"true"!==HM.getParameter("paginate",e)&&"true"!==HM.getParameter("clickForMore",e)},HM.bindExpand=function(e){var o=function(){e.querySelector("iframe").contentWindow.postMessage("loadMorePosts|",HM.baseUrl)},n=function(){var e=document.body,t=document.documentElement;return{windowHeight:function(){var e=window,t=document,o=t.documentElement,n=t.getElementsByTagName("body")[0];return e.innerHeight||o.clientHeight||n.clientHeight}(),scrollTop:window.pageYOffset,documentHeight:Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}};e.dataset.finishedloadingmoreposts=!0;var r=0;window.addEventListener("scroll",function(){var t=n(),i=void 0!==HM.scrollOffsetOverride?HM.scrollOffsetOverride:400,a="true"!=e.getAttribute("data-paginate")&&"true"!=e.getAttribute("data-clickformore");t.scrollTop+t.windowHeight>=t.documentHeight-i&&r<=t.scrollTop&&a&&"true"===e.dataset.finishedloadingmoreposts&&(e.dataset.finishedloadingmoreposts="false",o()),r=t.scrollTop}),t("div"+HM._secr+", div.a5b5e4","-webkit-overflow-scrolling","")},HM.bind=function(){window.onresize=function(e,t){function o(){r=null,i&&n()}function n(){r?i=!0:(e(),i=!1,r=setTimeout(o,t))}var r,i;return n}(HM.resize,2e3)},HM.render=function(){function t(e,t){var n=HM.baseUrl.replace("www","api").replace("staging","staging.api")+"/v1/embed/"+t;return e.style.position="relative","true"===e.getAttribute("data-mobilescroll")&&o&&(e.style.overflowX="scroll",e.style.overflowY="scroll",e.style.webkitOverflowScrolling="touch",e.style.overflow="scroll"),r(n,e)}function n(e,t){var n=e.getAttribute("data-columns"),i=e.getAttribute("data-clickformore"),a=e.getAttribute("data-infinitescroll"),s=e.getAttribute("data-paginate"),l=e.getAttribute("data-noButtons"),d=e.getAttribute("data-expand"),c=e.getAttribute("data-noimages"),u=e.getAttribute("data-slideshowctrl"),g=e.getAttribute("data-nopopup"),f=e.getAttribute("data-noimagescaling"),m=e.getAttribute("data-mobilescroll"),p=e.getAttribute("data-nomobilerender"),M=e.getAttribute("data-nomobilenavmenu"),h=e.getAttribute("data-count"),H=e.getAttribute("data-offset"),b=e.getAttribute("data-query"),v=e.getAttribute("data-nocache"),w="",y="",E=e.getAttribute("data-personalization-id"),A=e.getAttribute("data-notrack"),P=e.getAttribute("data-touchscreen"),_=e.getAttribute("data-append-utm-to-cta"),S=e.getAttribute("data-utm-passthrough"),T={campaign:e.getAttribute("data-utm-campaign"),source:e.getAttribute("data-utm-source"),medium:e.getAttribute("data-utm-medium"),content:e.getAttribute("data-utm-content"),term:e.getAttribute("data-utm-term")};if(e.style.position="relative",o&&(e.style.overflowY="scroll",e.style.webkitOverflowScrolling="",e.style.overflow="visible"),n=n?"&cols="+n:"",c="true"===c?"&noimages=true":"",u="true"===u?"&slideshowctrl=true":"",i="true"===i?"&clickForMore=true":"",a="true"===a?"&infiniteScroll=true":"",s="true"===s?"&paginate=true":"",l="true"===l?"&noButtons=true":"",v="true"===v?"&nocache=true":"","true"===d?(d="&expand=true",o||HM.bindExpand(e)):d="",g="true"===g?"&noPopup=true":"",f="true"===f?"&noimagescaling=true":"",h=h?"&count="+h:"",H=H?"&offset="+H:"",b=b?"&query="+encodeURIComponent(b):"",M=M?"&nomobilenavmenu="+M:"",null!==HM.getParameter("log",window.location.href)&&(w="&log="+HM.getParameter("log",window.location.href)),null!==HM.getParameter("debug",window.location.href)&&(y="&debug="+HM.getParameter("debug",window.location.href)),"true"===m&&o?(m="&mobilescroll=true",e.style.overflowX="scroll",e.style.overflowY="scroll",e.style.webkitOverflowScrolling="touch",e.style.overflow="scroll"):m="","true"!==p||!o){E=E?"&personalization_id="+E:"",A=A?"&notrack=true":"",P=P?"&touchscreen=true":"";var x="?";/\?/.test(t)&&(x="&"),S&&window.location.search.replace(/utm_([^=]+)=([^&]+)/g,function(e,t,o){T[t]=o});var C="";for(var U in T)T[U]&&(C+="&utm_"+U+"="+encodeURIComponent(T[U]));var L="";return _&&(L="&cta_append="+encodeURIComponent(C)),r(HM.baseUrl+"/t/"+t+x+"width="+e.clientWidth+n+d+c+u+g+s+i+a+l+f+h+m+H+b+v+M+w+y+E+A+P+C+L,e)}}function r(e,t){var n='scrolling="no"';(/Mac.*Safari/i.test(navigator.userAgent)||/Chrome/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent))&&(n='scrolling="yes"');var r='<iframe src="'+e+'" style="border:none;height:100%;width:100%;" '+n+' frameborder="0" allowtransparency="true" title="Social Feed" data-embed-id="'+(t.getAttribute("data-embed-id")||"")+'"></iframe>',i=document.createElement("div");i.className="a5b5e4-inner",i.setAttribute("style","height: 100%; width: 100%;"),i.innerHTML=r,o||(i.style.overflow="hidden"),t.appendChild(i),HM.PostModalManager.init(HM.baseUrl,e)}e("div"+HM._secr+", div.a5b5e4").forEach(function(e,o){var r=e.getAttribute("data-id");return r?n(e,r):t(e,e.getAttribute("data-embed-id"))}),HM.listenForMessages(e("div"+HM._secr+", div.a5b5e4"))},HM.init(),HM.render(),HM.bind(),e("div"+HM._secr+", div.a5b5e4")[0].querySelector("iframe").addEventListener("load",function(){HM.resize();var t=(window.location.hostname+window.location.pathname).replace(/\/+$/,"").replace(/^www\./,""),o=this.getAttribute("data-embed-id");try{var n=this.src;if(o&&HM.shouldBindExpand(n)){var r=e("div"+HM._secr+", div.a5b5e4")[0];HM.bindExpand(r)}}catch(e){}this.contentWindow.postMessage("recordEmbedLocation|"+t+"|"+o,HM.baseUrl)}),HM.embedReady=!0}}"interactive"===document.readyState||"complete"===document.readyState?o():document.addEventListener("DOMContentLoaded",o)}();