if(function(){var t=this,e=t._,i={},n=Array.prototype,o=Object.prototype,r=Function.prototype,s=n.push,a=n.slice,l=n.concat,u=o.toString,c=o.hasOwnProperty,h=n.forEach,d=n.map,p=n.reduce,f=n.reduceRight,m=n.filter,g=n.every,_=n.some,v=n.indexOf,y=n.lastIndexOf,w=Array.isArray,b=Object.keys,x=r.bind,k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):t._=k,k.VERSION="1.6.0";var E=k.each=k.forEach=function(t,e,n){if(null==t)return t;if(h&&t.forEach===h)t.forEach(e,n);else if(t.length===+t.length){for(var o=0,r=t.length;o<r;o++)if(e.call(n,t[o],o,t)===i)return}else for(var s=k.keys(t),o=0,r=s.length;o<r;o++)if(e.call(n,t[s[o]],s[o],t)===i)return;return t};k.map=k.collect=function(t,e,i){var n=[];return null==t?n:d&&t.map===d?t.map(e,i):(E(t,function(t,o,r){n.push(e.call(i,t,o,r))}),n)};var M="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,i,n){var o=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return n&&(e=k.bind(e,n)),o?t.reduce(e,i):t.reduce(e);if(E(t,function(t,r,s){o?i=e.call(n,i,t,r,s):(i=t,o=!0)}),!o)throw new TypeError(M);return i},k.reduceRight=k.foldr=function(t,e,i,n){var o=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return n&&(e=k.bind(e,n)),o?t.reduceRight(e,i):t.reduceRight(e);var r=t.length;if(r!==+r){var s=k.keys(t);r=s.length}if(E(t,function(a,l,u){l=s?s[--r]:--r,o?i=e.call(n,i,t[l],l,u):(i=t[l],o=!0)}),!o)throw new TypeError(M);return i},k.find=k.detect=function(t,e,i){var n;return T(t,function(t,o,r){if(e.call(i,t,o,r))return n=t,!0}),n},k.filter=k.select=function(t,e,i){var n=[];return null==t?n:m&&t.filter===m?t.filter(e,i):(E(t,function(t,o,r){e.call(i,t,o,r)&&n.push(t)}),n)},k.reject=function(t,e,i){return k.filter(t,function(t,n,o){return!e.call(i,t,n,o)},i)},k.every=k.all=function(t,e,n){e||(e=k.identity);var o=!0;return null==t?o:g&&t.every===g?t.every(e,n):(E(t,function(t,r,s){if(!(o=o&&e.call(n,t,r,s)))return i}),!!o)};var T=k.some=k.any=function(t,e,n){e||(e=k.identity);var o=!1;return null==t?o:_&&t.some===_?t.some(e,n):(E(t,function(t,r,s){if(o||(o=e.call(n,t,r,s)))return i}),!!o)};k.contains=k.include=function(t,e){return null!=t&&(v&&t.indexOf===v?-1!=t.indexOf(e):T(t,function(t){return t===e}))},k.invoke=function(t,e){var i=a.call(arguments,2),n=k.isFunction(e);return k.map(t,function(t){return(n?e:t[e]).apply(t,i)})},k.pluck=function(t,e){return k.map(t,k.property(e))},k.where=function(t,e){return k.filter(t,k.matches(e))},k.findWhere=function(t,e){return k.find(t,k.matches(e))},k.max=function(t,e,i){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var n=-1/0,o=-1/0;return E(t,function(t,r,s){var a=e?e.call(i,t,r,s):t;a>o&&(n=t,o=a)}),n},k.min=function(t,e,i){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var n=1/0,o=1/0;return E(t,function(t,r,s){var a=e?e.call(i,t,r,s):t;a<o&&(n=t,o=a)}),n},k.shuffle=function(t){var e,i=0,n=[];return E(t,function(t){e=k.random(i++),n[i-1]=n[e],n[e]=t}),n},k.sample=function(t,e,i){return null==e||i?(t.length!==+t.length&&(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,e))};var S=function(t){return null==t?k.identity:k.isFunction(t)?t:k.property(t)};k.sortBy=function(t,e,i){return e=S(e),k.pluck(k.map(t,function(t,n,o){return{value:t,index:n,criteria:e.call(i,t,n,o)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var C=function(t){return function(e,i,n){var o={};return i=S(i),E(e,function(r,s){var a=i.call(n,r,s,e);t(o,a,r)}),o}};k.groupBy=C(function(t,e,i){k.has(t,e)?t[e].push(i):t[e]=[i]}),k.indexBy=C(function(t,e,i){t[e]=i}),k.countBy=C(function(t,e){k.has(t,e)?t[e]++:t[e]=1}),k.sortedIndex=function(t,e,i,n){for(var o=(i=S(i)).call(n,e),r=0,s=t.length;r<s;){var a=r+s>>>1;i.call(n,t[a])<o?r=a+1:s=a}return r},k.toArray=function(t){return t?k.isArray(t)?a.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:e<0?[]:a.call(t,0,e)},k.initial=function(t,e,i){return a.call(t,0,t.length-(null==e||i?1:e))},k.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},k.rest=k.tail=k.drop=function(t,e,i){return a.call(t,null==e||i?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var H=function(t,e,i){return e&&k.every(t,k.isArray)?l.apply(i,t):(E(t,function(t){k.isArray(t)||k.isArguments(t)?e?s.apply(i,t):H(t,e,i):i.push(t)}),i)};k.flatten=function(t,e){return H(t,e,[])},k.without=function(t){return k.difference(t,a.call(arguments,1))},k.partition=function(t,e){var i=[],n=[];return E(t,function(t){(e(t)?i:n).push(t)}),[i,n]},k.uniq=k.unique=function(t,e,i,n){k.isFunction(e)&&(n=i,i=e,e=!1);var o=i?k.map(t,i,n):t,r=[],s=[];return E(o,function(i,n){(e?n&&s[s.length-1]===i:k.contains(s,i))||(s.push(i),r.push(t[n]))}),r},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(t){var e=a.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.contains(e,t)})})},k.difference=function(t){var e=l.apply(n,a.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){for(var t=k.max(k.pluck(arguments,"length").concat(0)),e=new Array(t),i=0;i<t;i++)e[i]=k.pluck(arguments,""+i);return e},k.object=function(t,e){if(null==t)return{};for(var i={},n=0,o=t.length;n<o;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},k.indexOf=function(t,e,i){if(null==t)return-1;var n=0,o=t.length;if(i){if("number"!=typeof i)return n=k.sortedIndex(t,e),t[n]===e?n:-1;n=i<0?Math.max(0,o+i):i}if(v&&t.indexOf===v)return t.indexOf(e,i);for(;n<o;n++)if(t[n]===e)return n;return-1},k.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=null!=i;if(y&&t.lastIndexOf===y)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var o=n?i:t.length;o--;)if(t[o]===e)return o;return-1},k.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),o=0,r=new Array(n);o<n;)r[o++]=t,t+=i;return r};var I=function(){};k.bind=function(t,e){var i,n;if(x&&t.bind===x)return x.apply(t,a.call(arguments,1));if(!k.isFunction(t))throw new TypeError;return i=a.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,i.concat(a.call(arguments)));I.prototype=t.prototype;var o=new I;I.prototype=null;var r=t.apply(o,i.concat(a.call(arguments)));return Object(r)===r?r:o}},k.partial=function(t){var e=a.call(arguments,1);return function(){for(var i=0,n=e.slice(),o=0,r=n.length;o<r;o++)n[o]===k&&(n[o]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return t.apply(this,n)}},k.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return E(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var i={};return e||(e=k.identity),function(){var n=e.apply(this,arguments);return k.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},k.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(a.call(arguments,1)))},k.throttle=function(t,e,i){var n,o,r,s=null,a=0;i||(i={});var l=function(){a=!1===i.leading?0:k.now(),s=null,r=t.apply(n,o),n=o=null};return function(){var u=k.now();a||!1!==i.leading||(a=u);var c=e-(u-a);return n=this,o=arguments,c<=0?(clearTimeout(s),s=null,a=u,r=t.apply(n,o),n=o=null):s||!1===i.trailing||(s=setTimeout(l,c)),r}},k.debounce=function(t,e,i){var n,o,r,s,a,l=function(){var u=k.now()-s;u<e?n=setTimeout(l,e-u):(n=null,i||(a=t.apply(r,o),r=o=null))};return function(){r=this,o=arguments,s=k.now();var u=i&&!n;return n||(n=setTimeout(l,e)),u&&(a=t.apply(r,o),r=o=null),a}},k.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},k.wrap=function(t,e){return k.partial(e,t)},k.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},k.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},k.keys=function(t){if(!k.isObject(t))return[];if(b)return b(t);var e=[];for(var i in t)k.has(t,i)&&e.push(i);return e},k.values=function(t){for(var e=k.keys(t),i=e.length,n=new Array(i),o=0;o<i;o++)n[o]=t[e[o]];return n},k.pairs=function(t){for(var e=k.keys(t),i=e.length,n=new Array(i),o=0;o<i;o++)n[o]=[e[o],t[e[o]]];return n},k.invert=function(t){for(var e={},i=k.keys(t),n=0,o=i.length;n<o;n++)e[t[i[n]]]=i[n];return e},k.functions=k.methods=function(t){var e=[];for(var i in t)k.isFunction(t[i])&&e.push(i);return e.sort()},k.extend=function(t){return E(a.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},k.pick=function(t){var e={},i=l.apply(n,a.call(arguments,1));return E(i,function(i){i in t&&(e[i]=t[i])}),e},k.omit=function(t){var e={},i=l.apply(n,a.call(arguments,1));for(var o in t)k.contains(i,o)||(e[o]=t[o]);return e},k.defaults=function(t){return E(a.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t};var A=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var o=u.call(t);if(o!=u.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=i.length;r--;)if(i[r]==t)return n[r]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;i.push(t),n.push(e);var l=0,c=!0;if("[object Array]"==o){if(l=t.length,c=l==e.length)for(;l--&&(c=A(t[l],e[l],i,n)););}else{for(var h in t)if(k.has(t,h)&&(l++,!(c=k.has(e,h)&&A(t[h],e[h],i,n))))break;if(c){for(h in e)if(k.has(e,h)&&!l--)break;c=!l}}return i.pop(),n.pop(),c};k.isEqual=function(t,e){return A(t,e,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=w||function(t){return"[object Array]"==u.call(t)},k.isObject=function(t){return t===Object(t)},E(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(t){return"function"==typeof t}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==u.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return c.call(t,e)},k.noConflict=function(){return t._=e,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.property=function(t){return function(e){return e[t]}},k.matches=function(t){return function(e){if(e===t)return!0;for(var i in t)if(t[i]!==e[i])return!1;return!0}},k.times=function(t,e,i){for(var n=Array(Math.max(0,t)),o=0;o<t;o++)n[o]=e.call(i,o);return n},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},k.now=Date.now||function(){return(new Date).getTime()};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=k.invert(P.escape);var O={escape:new RegExp("["+k.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(P.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){return null==e?"":(""+e).replace(O[t],function(e){return P[t][e]})}}),k.result=function(t,e){if(null!=t){var i=t[e];return k.isFunction(i)?i.call(t):i}},k.mixin=function(t){E(k.functions(t),function(e){var i=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),$.call(this,i.apply(k,t))}})};var D=0;k.uniqueId=function(t){var e=++D+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,i){var n;i=k.defaults({},i,k.templateSettings);var o=new RegExp([(i.escape||z).source,(i.interpolate||z).source,(i.evaluate||z).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(o,function(e,i,n,o,a){return s+=t.slice(r,a).replace(F,function(t){return"\\"+N[t]}),i&&(s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),r=a+e.length,e}),s+="';\n",i.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(i.variable||"obj","_",s)}catch(t){throw t.source=s,t}if(e)return n(e,k);var a=function(t){return n.call(this,t,k)};return a.source="function("+(i.variable||"obj")+"){\n"+s+"}",a},k.chain=function(t){return k(t).chain()};var $=function(t){return this._chain?k(t).chain():t};k.mixin(k),E(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];k.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],$.call(this,i)}}),E(["concat","join","slice"],function(t){var e=n[t];k.prototype[t]=function(){return $.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,o){t.Backbone=e(t,o,i,n)});else if("undefined"!=typeof exports){var i=require("underscore");e(t,exports,i)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,i,n){var o=t.Backbone,r=[],s=r.slice;e.VERSION="1.1.2",e.$=n,e.noConflict=function(){return t.Backbone=o,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,i){return u(this,"on",t,[e,i])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:i,ctx:i||this}),this):this},once:function(t,e,n){if(!u(this,"once",t,[e,n])||!e)return this;var o=this,r=i.once(function(){o.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var o,r,s,a,l,c,h,d;if(!this._events||!u(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(l=0,c=(a=t?[t]:i.keys(this._events)).length;l<c;l++)if(t=a[l],s=this._events[t]){if(this._events[t]=o=[],e||n)for(h=0,d=s.length;h<d;h++)r=s[h],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&o.push(r);o.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!u(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&c(i,e),n&&c(n,arguments),this},stopListening:function(t,e,n){var o=this._listeningTo;if(!o)return this;var r=!e&&!n;n||"object"!=typeof e||(n=this),t&&((o={})[t._listenId]=t);for(var s in o)(t=o[s]).off(e,n,this),(r||i.isEmpty(t._events))&&delete this._listeningTo[s];return this}},l=/\s+/,u=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var o in i)t[e].apply(t,[o,i[o]].concat(n));return!1}if(l.test(i)){for(var r=i.split(l),s=0,a=r.length;s<a;s++)t[e].apply(t,[r[s]].concat(n));return!1}return!0},c=function(t,e){var i,n=-1,o=t.length,r=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++n<o;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<o;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<o;)(i=t[n]).callback.call(i.ctx,r,s);return;case 3:for(;++n<o;)(i=t[n]).callback.call(i.ctx,r,s,a);return;default:for(;++n<o;)(i=t[n]).callback.apply(i.ctx,e);return}},h={listenTo:"on",listenToOnce:"once"};i.each(h,function(t,e){a[e]=function(e,n,o){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=i.uniqueId("l"))]=e,o||"object"!=typeof n||(o=this),e[t](n,o,this),this}}),a.bind=a.on,a.unbind=a.off,i.extend(e,a);var d=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(d.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var o,r,s,a,l,u,c,h;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;s=n.unset,l=n.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=i.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(o in r)e=r[o],i.isEqual(h[o],e)||a.push(o),i.isEqual(c[o],e)?delete this.changed[o]:this.changed[o]=e,s?delete h[o]:h[o]=e;if(!l){a.length&&(this._pending=n);for(var d=0,p=a.length;d<p;d++)this.trigger("change:"+a[d],this,h[a[d]],n)}if(u)return this;if(!l)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e,n=!1,o=this._changing?this._previousAttributes:this.attributes;for(var r in t)i.isEqual(o[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){void 0===(t=t?i.clone(t):{}).parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){if(!e.set(e.parse(i,t),t))return!1;n&&n(e,i,t),e.trigger("sync",e,i,t)},N(this,t),this.sync("read",this,t)},save:function(t,e,n){var o,r,s,a=this.attributes;if(null==t||"object"==typeof t?(o=t,n=e):(o={})[t]=e,n=i.extend({validate:!0},n),o&&!n.wait){if(!this.set(o,n))return!1}else if(!this._validate(o,n))return!1;o&&n.wait&&(this.attributes=i.extend({},a,o)),void 0===n.parse&&(n.parse=!0);var l=this,u=n.success;return n.success=function(t){l.attributes=a;var e=l.parse(t,n);if(n.wait&&(e=i.extend(o||{},e)),i.isObject(e)&&!l.set(e,n))return!1;u&&u(l,t,n),l.trigger("sync",l,t,n)},N(this,n),"patch"===(r=this.isNew()?"create":n.patch?"patch":"update")&&(n.attrs=o),s=this.sync(r,this,n),o&&n.wait&&(this.attributes=a),s},destroy:function(t){var e=this,n=(t=t?i.clone(t):{}).success,o=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&o(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;N(this,t);var r=this.sync("delete",this,t);return t.wait||o(),r},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||z();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var p=["keys","values","pairs","invert","pick","omit"];i.each(p,function(t){d.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),i[t].apply(i,e)}});var f=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};i.extend(f.prototype,a,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,g))},remove:function(t,e){var n=!i.isArray(t);t=n?[t]:i.clone(t),e||(e={});var o,r,s,a;for(o=0,r=t.length;o<r;o++)(a=t[o]=this.get(t[o]))&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,e.silent||(e.index=s,a.trigger("remove",a,this,e)),this._removeReference(a,e));return n?t[0]:t},set:function(t,e){(e=i.defaults({},e,m)).parse&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?t?[t]:[]:i.clone(t);var o,r,s,a,l,u,c,h=e.at,p=this.model,f=this.comparator&&null==h&&!1!==e.sort,g=i.isString(this.comparator)?this.comparator:null,_=[],v=[],y={},w=e.add,b=e.merge,x=e.remove,k=!(f||!w||!x)&&[];for(o=0,r=t.length;o<r;o++){if(l=t[o]||{},s=l instanceof d?a=l:l[p.prototype.idAttribute||"id"],u=this.get(s))x&&(y[u.cid]=!0),b&&(l=l===a?a.attributes:l,e.parse&&(l=u.parse(l,e)),u.set(l,e),f&&!c&&u.hasChanged(g)&&(c=!0)),t[o]=u;else if(w){if(!(a=t[o]=this._prepareModel(l,e)))continue;_.push(a),this._addReference(a,e)}a=u||a,!k||!a.isNew()&&y[a.id]||k.push(a),y[a.id]=!0}if(x){for(o=0,r=this.length;o<r;++o)y[(a=this.models[o]).cid]||v.push(a);v.length&&this.remove(v,e)}if(_.length||k&&k.length)if(f&&(c=!0),this.length+=_.length,null!=h)for(o=0,r=_.length;o<r;o++)this.models.splice(h+o,0,_[o]);else{k&&(this.models.length=0);var E=k||_;for(o=0,r=E.length;o<r;o++)this.models.push(E[o])}if(c&&this.sort({silent:!0}),!e.silent){for(o=0,r=_.length;o<r;o++)(a=_[o]).trigger("add",a,this,e);(c||k&&k.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,o=this.models.length;n<o;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return i.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){void 0===(t=t?i.clone(t):{}).parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var o=t.reset?"reset":"set";n[o](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},N(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?i.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,o=e.success;return e.success=function(t,i){e.wait&&n.add(t,e),o&&o(t,i,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof d)return t;(e=e?i.clone(e):{}).collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(_,function(t){f.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),i[t].apply(i,e)}});var v=["groupBy","countBy","sortBy","indexBy"];i.each(v,function(t){f.prototype[t]=function(e,n){var o=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,o,n)}});var y=e.View=function(t){this.cid=i.uniqueId("view"),t||(t={}),i.extend(this,i.pick(t,b)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,b=["model","collection","el","id","attributes","className","tagName","events"];i.extend(y.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],!1!==i&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=i.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[t[e]]),n){var o=e.match(w),r=o[1],s=o[2];n=i.bind(n,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,n):this.$el.on(r,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className"));var n=e.$("<"+i.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,o){var r=k[t];i.defaults(o||(o={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:r,dataType:"json"};if(o.url||(s.url=i.result(n,"url")||z()),null!=o.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||n.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",o.emulateJSON&&(s.data._method=r);var a=o.beforeSend;o.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",r),a)return a.apply(this,arguments)}}"GET"===s.type||o.emulateJSON||(s.processData=!1),"PATCH"===s.type&&x&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=o.xhr=e.ajax(i.extend(s,o));return n.trigger("request",n,l,o),l};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var E=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,S=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(E.prototype,a,{initialize:function(){},route:function(t,n,o){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(o=n,n=""),o||(o=this[n]);var r=this;return e.history.route(t,function(i){var s=r._extractParameters(t,i);r.execute(o,s),r.trigger.apply(r,["route:"+n].concat(s)),r.trigger("route",n,s),e.history.trigger("route",r,n,s)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(C,"\\$&").replace(M,"(?:$1)?").replace(T,function(t,e){return e?t:"([^/?]+)"}).replace(S,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var H=e.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,P=/msie [\w.]+/,O=/\/$/,D=/#.*$/;H.started=!1,i.extend(H.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(O,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(I,"")},start:function(t){if(H.started)throw new Error("Backbone.history has already been started");H.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),o=document.documentMode,r=P.exec(navigator.userAgent.toLowerCase())&&(!o||o<=7);if(this.root=("/"+this.root+"/").replace(A,"/"),r&&this._wantsHashChange){var s=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),H.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return t=this.fragment=this.getFragment(t),i.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})},navigate:function(t,e){if(!H.started)return!1;e&&!0!==e||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(D,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new H;d.extend=f.extend=E.extend=y.extend=H.extend=function(t,e){var n,o=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},i.extend(n,o,e);var r=function(){this.constructor=n};return r.prototype=o.prototype,n.prototype=new r,t&&i.extend(n.prototype,t),n.__super__=o.prototype,n};var z=function(){throw new Error('A "url" property or function must be specified')},N=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}};return e}),function(t,e){"object"==typeof exports&&exports?module.exports=e:"function"==typeof define&&define.amd?define(e):t.Mustache=e}(this,function(){function t(t,e){return _.call(t,e)}function e(e){return!t(p,e)}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function n(t){this.string=t,this.tail=t,this.pos=0}function o(t,e){this.view=t,this.parent=e,this._cache={}}function r(){this.clearCache()}function s(t,e,i,n){for(var o,r,a,l="",u=0,h=t.length;u<h;++u)switch(o=t[u],r=o[1],o[0]){case"#":if("object"==typeof(a=i.lookup(r)))if(y(a))for(var d=0,p=a.length;d<p;++d)l+=s(o[4],e,i.push(a[d]),n);else a&&(l+=s(o[4],e,i.push(a),n));else if("function"==typeof a){var f=null==n?null:n.slice(o[3],o[5]);null!=(a=a.call(i.view,f,function(t){return e.render(t,i)}))&&(l+=a)}else a&&(l+=s(o[4],e,i,n));break;case"^":(!(a=i.lookup(r))||y(a)&&0===a.length)&&(l+=s(o[4],e,i,n));break;case">":"function"==typeof(a=e.getPartial(r))&&(l+=a(i));break;case"&":null!=(a=i.lookup(r))&&(l+=a);break;case"name":null!=(a=i.lookup(r))&&(l+=c.escape(a));break;case"text":l+=r}return l}function a(t){for(var e,i=[],n=i,o=[],r=0,s=t.length;r<s;++r)switch((e=t[r])[0]){case"#":case"^":o.push(e),n.push(e),n=e[4]=[];break;case"/":o.pop()[5]=e[2],n=o.length>0?o[o.length-1][4]:i;break;default:n.push(e)}return i}function l(t){for(var e,i,n=[],o=0,r=t.length;o<r;++o)(e=t[o])&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(i=e,n.push(e)));return n}function u(t){return[new RegExp(i(t[0])+"\\s*"),new RegExp("\\s*"+i(t[1]))]}var c={};c.name="mustache.js",c.version="0.7.2",c.tags=["{{","}}"],c.Scanner=n,c.Context=o,c.Writer=r;var h=/\s*/,d=/\s+/,p=/\S/,f=/\s*=/,m=/\s*\}/,g=/#|\^|\/|>|\{|&|=|!/,_=RegExp.prototype.test,v=Object.prototype.toString,y=Array.isArray||function(t){return"[object Array]"===v.call(t)},w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};c.escape=function(t){return String(t).replace(/[&<>"'\/]/g,function(t){return w[t]})},n.prototype.eos=function(){return""===this.tail},n.prototype.scan=function(t){var e=this.tail.match(t);return e&&0===e.index?(this.tail=this.tail.substring(e[0].length),this.pos+=e[0].length,e[0]):""},n.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i),this.pos+=i}return e},o.make=function(t){return t instanceof o?t:new o(t)},o.prototype.push=function(t){return new o(t,this)},o.prototype.lookup=function(t){var e=this._cache[t];if(!e){if("."==t)e=this.view;else for(var i=this;i;){if(t.indexOf(".")>0){e=i.view;for(var n=t.split("."),o=0;e&&o<n.length;)e=e[n[o++]]}else e=i.view[t];if(null!=e)break;i=i.parent}this._cache[t]=e}return"function"==typeof e&&(e=e.call(this.view)),e},r.prototype.clearCache=function(){this._cache={},this._partialCache={}},r.prototype.compile=function(t,e){var i=this._cache[t];if(!i){var n=c.parse(t,e);i=this._cache[t]=this.compileTokens(n,t)}return i},r.prototype.compilePartial=function(t,e,i){var n=this.compile(e,i);return this._partialCache[t]=n,n},r.prototype.getPartial=function(t){return t in this._partialCache||!this._loadPartial||this.compilePartial(t,this._loadPartial(t)),this._partialCache[t]},r.prototype.compileTokens=function(t,e){var i=this;return function(n,r){if(r)if("function"==typeof r)i._loadPartial=r;else for(var a in r)i.compilePartial(a,r[a]);return s(t,i,o.make(n),e)}},r.prototype.render=function(t,e,i){return this.compile(t)(e,i)},c.parse=function(t,o){if(t=t||"","string"==typeof(o=o||c.tags)&&(o=o.split(d)),2!==o.length)throw new Error("Invalid tags: "+o.join(", "));for(var r,s,p,_,v,y=u(o),w=new n(t),b=[],x=[],k=[],E=!1,M=!1;!w.eos();){if(r=w.pos,p=w.scanUntil(y[0]))for(var T=0,S=p.length;T<S;++T)e(_=p.charAt(T))?k.push(x.length):M=!0,x.push(["text",_,r,r+1]),r+=1,"\n"==_&&function(){if(E&&!M)for(;k.length;)delete x[k.pop()];else k=[];E=!1,M=!1}();if(!w.scan(y[0]))break;if(E=!0,s=w.scan(g)||"name",w.scan(h),"="===s?(p=w.scanUntil(f),w.scan(f),w.scanUntil(y[1])):"{"===s?(p=w.scanUntil(new RegExp("\\s*"+i("}"+o[1]))),w.scan(m),w.scanUntil(y[1]),s="&"):p=w.scanUntil(y[1]),!w.scan(y[1]))throw new Error("Unclosed tag at "+w.pos);if(v=[s,p,r,w.pos],x.push(v),"#"===s||"^"===s)b.push(v);else if("/"===s){if(0===b.length)throw new Error('Unopened section "'+p+'" at '+r);if((C=b.pop())[1]!==p)throw new Error('Unclosed section "'+C[1]+'" at '+r)}else if("name"===s||"{"===s||"&"===s)M=!0;else if("="===s){if(2!==(o=p.split(d)).length)throw new Error("Invalid tags at "+r+": "+o.join(", "));y=u(o)}}var C=b.pop();if(C)throw new Error('Unclosed section "'+C[1]+'" at '+w.pos);return x=l(x),a(x)};var b=new r;return c.clearCache=function(){return b.clearCache()},c.compile=function(t,e){return b.compile(t,e)},c.compilePartial=function(t,e,i){return b.compilePartial(t,e,i)},c.compileTokens=function(t,e){return b.compileTokens(t,e)},c.render=function(t,e,i){return b.render(t,e,i)},c.to_html=function(t,e,i,n){var o=c.render(t,e,i);if("function"!=typeof n)return o;n(o)},c}()),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){if(!t.contains(document.documentElement,this))return t(this).timeago("dispose"),this;var e=i(this),s=r.settings;return isNaN(e.datetime)||(0==s.cutoff||Math.abs(o(e.datetime))<s.cutoff)&&t(this).text(n(e.datetime)),this}function i(e){if(!(e=t(e)).data("timeago")){e.data("timeago",{datetime:r.datetime(e)});var i=t.trim(e.text());r.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(i.length>0)||r.isTime(e)&&e.attr("title")||e.attr("title",i)}return e.data("timeago")}function n(t){return r.inWords(o(t))}function o(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return n(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var r=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function i(i,o){var r=t.isFunction(i)?i(o,e):i,s=n.numbers&&n.numbers[o]||o;return r.replace(/%d/i,s)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var n=this.settings.strings,o=n.prefixAgo,r=n.suffixAgo;if(this.settings.allowFuture&&e<0&&(o=n.prefixFromNow,r=n.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var s=Math.abs(e)/1e3,a=s/60,l=a/60,u=l/24,c=u/365,h=s<45&&i(n.seconds,Math.round(s))||s<90&&i(n.minute,1)||a<45&&i(n.minutes,Math.round(a))||a<90&&i(n.hour,1)||l<24&&i(n.hours,Math.round(l))||l<42&&i(n.day,1)||u<30&&i(n.days,Math.round(u))||u<45&&i(n.month,1)||u<365&&i(n.months,Math.round(u/30))||c<1.5&&i(n.year,1)||i(n.years,Math.round(c)),d=n.wordSeparator||"";return void 0===n.wordSeparator&&(d=" "),t.trim([o,h,r].join(d))},parse:function(e){var i=t.trim(e);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),i=i.replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(e){var i=r.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return r.parse(i)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var s={init:function(){var i=t.proxy(e,this);i();var n=r.settings;n.refreshMillis>0&&(this._timeagoInterval=setInterval(i,n.refreshMillis))},update:function(i){var n=r.parse(i);t(this).data("timeago",{datetime:n}),r.settings.localeTitle&&t(this).attr("title",n.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:r.parse(r.isTime(this)?t(this).attr("datetime"):t(this).attr("title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var i=t?s[t]:s.init;if(!i)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){i.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),jQuery.timeago.settings.locales={},jQuery.timeago.settings.locales["en-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1mo",months:"%dmo",year:"1yr",years:"%dyr",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales["de-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"s",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1T.",days:"%dT.",month:"1Mt.",months:"%dMt.",year:"1J.",years:"%dJ.",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales["fr-short"]={prefixAgo:"il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"une minute",minutes:"%d minutes",hour:"une heure",hours:"%d heures",day:"un jour",days:"%d jours",month:"un mois",months:"%d mois",year:"un an",years:"%d ans"},jQuery.timeago.settings.locales["pt-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1M",months:"%dM",year:"1a",years:"%da",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales["es-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1me",months:"%dme",year:"1a",years:"%da",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales.da={prefixAgo:"for",prefixFromNow:"om",suffixAgo:"siden",suffixFromNow:"",seconds:"mindre end et minut",minute:"ca. et minut",minutes:"%d minutter",hour:"ca. en time",hours:"ca. %d timer",day:"en dag",days:"%d dage",month:"ca. en måned",months:"%d måneder",year:"ca. et år",years:"%d år"},jQuery.timeago.settings.locales.de={prefixAgo:"vor",prefixFromNow:"in",suffixAgo:"",suffixFromNow:"",seconds:"wenigen Sekunden",minute:"etwa einer Minute",minutes:"%d Minuten",hour:"etwa einer Stunde",hours:"%d Stunden",day:"etwa einem Tag",days:"%d Tagen",month:"etwa einem Monat",months:"%d Monaten",year:"etwa einem Jahr",years:"%d Jahren"},jQuery.timeago.settings.locales.en={prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales.es={prefixAgo:"hace",prefixFromNow:"dentro de",suffixAgo:"",suffixFromNow:"",seconds:"menos de un minuto",minute:"un minuto",minutes:"unos %d minutos",hour:"una hora",hours:"%d horas",day:"un día",days:"%d días",month:"un mes",months:"%d meses",year:"un año",years:"%d años"},jQuery.timeago.settings.locales.fi={prefixAgo:null,prefixFromNow:null,suffixAgo:"sitten",suffixFromNow:"tulevaisuudessa",seconds:"alle minuutti",minute:"minuutti",minutes:"%d minuuttia",hour:"tunti",hours:"%d tuntia",day:"päivä",days:"%d päivää",month:"kuukausi",months:"%d kuukautta",year:"vuosi",years:"%d vuotta"},jQuery.timeago.settings.locales.fr={prefixAgo:"il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"environ une minute",minutes:"environ %d minutes",hour:"environ une heure",hours:"environ %d heures",day:"environ un jour",days:"environ %d jours",month:"environ un mois",months:"environ %d mois",year:"un an",years:"%d ans"},jQuery.timeago.settings.locales.ja={prefixAgo:"",prefixFromNow:"今から",suffixAgo:"前",suffixFromNow:"後",seconds:"1 分未満",minute:"約 1 分",minutes:"%d 分",hour:"約 1 時間",hours:"約 %d 時間",day:"約 1 日",days:"約 %d 日",month:"約 1 ヶ月",months:"約 %d ヶ月",year:"約 1 年",years:"約 %d 年",wordSeparator:""},jQuery.timeago.settings.locales.nl={prefixAgo:null,prefixFromNow:"over",suffixAgo:"geleden",suffixFromNow:null,seconds:"minder dan een minuut",minute:"ongeveer een minuut",minutes:"%d minuten",hour:"ongeveer een uur",hours:"ongeveer %d uur",day:"een dag",days:"%d dagen",month:"ongeveer een maand",months:"%d maanden",year:"ongeveer een jaar",years:"%d jaar",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales.no={prefixAgo:"for",prefixFromNow:"om",suffixAgo:"siden",suffixFromNow:"",seconds:"mindre enn et minutt",minute:"ca. et minutt",minutes:"%d minutter",hour:"ca. en time",hours:"ca. %d timer",day:"en dag",days:"%d dager",month:"ca. en måned",months:"%d måneder",year:"ca. et år",years:"%d år"},jQuery.timeago.settings.locales["pt-br"]={prefixAgo:"há",prefixFromNow:"em",suffixAgo:null,suffixFromNow:null,seconds:"alguns segundos",minute:"um minuto",minutes:"%d minutos",hour:"uma hora",hours:"%d horas",day:"um dia",days:"%d dias",month:"um mês",months:"%d meses",year:"um ano",years:"%d anos"},jQuery.timeago.settings.locales.pt={suffixAgo:"atrás",suffixFromNow:"a partir de agora",seconds:"menos de um minuto",minute:"cerca de um minuto",minutes:"%d minutos",hour:"cerca de uma hora",hours:"cerca de %d horas",day:"um dia",days:"%d dias",month:"cerca de um mês",months:"%d meses",year:"cerca de um ano",years:"%d anos"},jQuery.timeago.settings.locales.sv={prefixAgo:"för",prefixFromNow:"om",suffixAgo:"sedan",suffixFromNow:"",seconds:"mindre än en minut",minute:"ungefär en minut",minutes:"%d minuter",hour:"ungefär en timme",hours:"ungefär %d timmar",day:"en dag",days:"%d dagar",month:"ungefär en månad",months:"%d månader",year:"ungefär ett år",years:"%d år"},jQuery.timeago.settings.locales["zh-CN"]={prefixAgo:null,prefixFromNow:"从现在开始",suffixAgo:"之前",suffixFromNow:null,seconds:"不到1分钟",minute:"大约1分钟",minutes:"%d分钟",hour:"大约1小时",hours:"大约%d小时",day:"1天",days:"%d天",month:"大约1个月",months:"%d月",year:"大约1年",years:"%d年",numbers:[],wordSeparator:""},jQuery.timeago.settings.locales["zh-TW"]={prefixAgo:null,prefixFromNow:"從現在開始",suffixAgo:"之前",suffixFromNow:null,seconds:"不到1分鐘",minute:"大約1分鐘",minutes:"%d分鐘",hour:"大約1小時",hours:"%d小時",day:"大約1天",days:"%d天",month:"大約1個月",months:"%d個月",year:"大約1年",years:"%d年",numbers:[],wordSeparator:""},function(){function t(t,e){return e[plural=0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5]}jQuery.timeago.settings.locales.ar={prefixAgo:"منذ",prefixFromNow:"بعد",suffixAgo:null,suffixFromNow:null,second:function(e){return t(e,["أقل من ثانية","ثانية واحدة","ثانيتين","%d ثوانٍ","%d ثانية","%d ثانية"])},seconds:function(e){return t(e,["أقل من ثانية","ثانية واحدة","ثانيتين","%d ثوانٍ","%d ثانية","%d ثانية"])},minute:function(e){return t(e,["أقل من دقيقة","دقيقة واحدة","دقيقتين","%d دقائق","%d دقيقة","دقيقة"])},minutes:function(e){return t(e,["أقل من دقيقة","دقيقة واحدة","دقيقتين","%d دقائق","%d دقيقة","دقيقة"])},hour:function(e){return t(e,["أقل من ساعة","ساعة واحدة","ساعتين","%d ساعات","%d ساعة","%d ساعة"])},hours:function(e){return t(e,["أقل من ساعة","ساعة واحدة","ساعتين","%d ساعات","%d ساعة","%d ساعة"])},day:function(e){return t(e,["أقل من يوم","يوم واحد","يومين","%d أيام","%d يومًا","%d يوم"])},days:function(e){return t(e,["أقل من يوم","يوم واحد","يومين","%d أيام","%d يومًا","%d يوم"])},month:function(e){return t(e,["أقل من شهر","شهر واحد","شهرين","%d أشهر","%d شهرًا","%d شهر"])},months:function(e){return t(e,["أقل من شهر","شهر واحد","شهرين","%d أشهر","%d شهرًا","%d شهر"])},year:function(e){return t(e,["أقل من عام","عام واحد","%d عامين","%d أعوام","%d عامًا"])},years:function(e){return t(e,["أقل من عام","عام واحد","عامين","%d أعوام","%d عامًا","%d عام"])}}}(),jQuery.timeago.settings.locales.languages=[["da","Danish"],["de","German"],["en","English"],["es","Spanish"],["fi","Finnish"],["fr","French"],["ja","Japanese"],["nl","Dutch"],["no","Norwegian"],["pt-br","Brazilian Portuguese"],["pt","Portuguese"],["sv","Swedish"],["zh-CN","Simplified Chinese"],["zh-TW","Traditional Chinese"],["ar",""]],function(){function t(t,e,i){var n=t%10;return n>1&&n<5&&(t>20||t<10)?e:i}jQuery.timeago.settings.locales.pl={prefixAgo:null,prefixFromNow:"za",suffixAgo:"temu",suffixFromNow:null,seconds:"mniej niż minutę",minute:"minutę",minutes:function(e){return t(e,"%d minuty","%d minut")},hour:"godzinę",hours:function(e){return t(e,"%d godziny","%d godzin")},day:"dzień",days:"%d dni",month:"miesiąc",months:function(e){return t(e,"%d miesiące","%d miesięcy")},year:"rok",years:function(e){return t(e,"%d lata","%d lat")}}}(),function(t){t.cookie=function(e,i,n){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(i))||null===i||void 0===i)){if(n=t.extend({},n),null!==i&&void 0!==i||(n.expires=-1),"number"==typeof n.expires){var o=n.expires,r=n.expires=new Date;r.setDate(r.getDate()+o)}return i=String(i),document.cookie=[encodeURIComponent(e),"=",n.raw?i:encodeURIComponent(i),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var s,a=(n=i||{}).raw?function(t){return t}:decodeURIComponent,l=document.cookie.split("; "),u=0;s=l[u]&&l[u].split("=");u++)if(a(s[0])===e)return a(s[1]||"");return null}}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.viewportUnitsBuggyfill=e()}(this,function(){"use strict";function t(t,e){var i;return function(){var n=this,o=arguments;clearTimeout(i),i=setTimeout(function(){t.apply(n,o)},e)}}function e(){try{return window.self!==window.top}catch(t){return!0}}function i(){_.textContent=s(),_.parentNode.appendChild(_),window.dispatchEvent(new S("viewport-units-buggyfill-style"))}function n(){v&&(o(),setTimeout(function(){i()},1))}function o(){return g=[],b.call(document.styleSheets,function(t){"patched-viewport"!==t.ownerNode.id&&t.cssRules&&"ignore"!==t.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(t.media&&t.media.mediaText&&window.matchMedia&&!window.matchMedia(t.media.mediaText).matches||b.call(t.cssRules,r))}),g}function r(t){if(7===t.type){var e;try{e=t.cssText}catch(t){return}return w.lastIndex=0,void(w.test(e)&&(g.push([t,null,e]),f.hacks&&f.hacks.findDeclarations(g,t,null,e)))}if(t.style)b.call(t.style,function(e){var i=t.style.getPropertyValue(e);t.style.getPropertyPriority(e)&&(i+=" !important"),w.lastIndex=0,w.test(i)&&(g.push([t,e,i]),f.hacks&&f.hacks.findDeclarations(g,t,e,i))});else{if(!t.cssRules)return;b.call(t.cssRules,function(t){r(t)})}}function s(){m=u();var t,e,i=[],n=[];return g.forEach(function(o){var r=a.apply(null,o),s=r.selector.length?r.selector.join(" {\n")+" {\n":"",l=new Array(r.selector.length+1).join("\n}");if(!s||s!==t)return n.length&&(i.push(t+n.join("\n")+e),n.length=0),void(s?(t=s,e=l,n.push(r.content)):(i.push(r.content),t=null,e=null));s&&!t&&(t=s,e=l),n.push(r.content)}),n.length&&i.push(t+n.join("\n")+e),E&&i.push("* { content: normal !important; }"),i.join("\n\n")}function a(t,e,i){var n,o=[];n=i.replace(w,l),f.hacks&&(n=f.hacks.overwriteDeclaration(t,e,n)),e&&(o.push(t.selectorText),n=e+": "+n+";");for(var r=t.parentRule;r;)o.unshift("@media "+r.media.mediaText),r=r.parentRule;return{selector:o,content:n}}function l(t,e,i){var n=m[i];return parseFloat(e)/100*n+"px"}function u(){var t=window.innerHeight,e=window.innerWidth;return{vh:t,vw:e,vmax:Math.max(e,t),vmin:Math.min(e,t)}}function c(t){var e=0,i=function(){--e||t()};b.call(document.styleSheets,function(t){t.href&&h(t.href)!==h(location.href)&&"ignore"!==t.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(e++,d(t.ownerNode,i))}),e||t()}function h(t){return t.slice(0,t.indexOf("/",t.indexOf("://")+3))}function d(t,e){p(t.href,function(){var i=document.createElement("style");i.media=t.media,i.setAttribute("data-href",t.href),i.textContent=this.responseText,t.parentNode.replaceChild(i,t),e()},e)}function p(t,e,i){var n=new XMLHttpRequest;if("withCredentials"in n)n.open("GET",t,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");(n=new XDomainRequest).open("GET",t)}return n.onload=e,n.onerror=i,n.send(),n}var f,m,g,_,v=!1,y=window.navigator.userAgent,w=/([+-]?[0-9.]+)(vh|vw|vmin|vmax)/g,b=[].forEach,x=/MSIE [0-9]\./i.test(y),k=/MSIE [0-8]\./i.test(y),E=y.indexOf("Opera Mini")>-1,M=/(iPhone|iPod|iPad).+AppleWebKit/i.test(y)&&function(){var t=y.match(/OS (\d)/);return t&&t.length>1&&parseInt(t[1])<8}(),T=y.indexOf(" Android ")>-1&&(y.indexOf("Version/")>-1&&parseFloat((y.match("Android ([0-9.]+)")||[])[1])<=4.4);x||(x=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./));try{new S("test")}catch(t){var S=function(t,e){var i;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(i=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i};S.prototype=window.Event.prototype,window.CustomEvent=S}return{version:"0.5.5",findProperties:o,getCss:s,init:function(i){if(!v){if(!0===i&&(i={force:!0}),f=i||{},f.isMobileSafari=M,f.isBadStockAndroid=T,k||!f.force&&!M&&!x&&!T&&!E&&(!f.hacks||!f.hacks.required(f)))return window.console&&k&&console.info("viewport-units-buggyfill requires a proper CSSOM and basic viewport unit support, which are not available in IE8 and below"),{init:function(){}};window.dispatchEvent(new S("viewport-units-buggyfill-init")),f.hacks&&f.hacks.initialize(f),v=!0,(_=document.createElement("style")).id="patched-viewport",document.head.appendChild(_),c(function(){var i=t(n,f.refreshDebounceWait||100);window.addEventListener("orientationchange",i,!0),window.addEventListener("pageshow",i,!0),(f.force||x||e())&&(window.addEventListener("resize",i,!0),f._listeningToResize=!0),f.hacks&&f.hacks.initializeEvents(f,n,i),n()})}},refresh:n}}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){function e(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function i(e,i){var n=!0;return t.each(e,function(t,o){return void 0===i[t]||e[t]!==i[t]?(n=!1,!1):void 0}),n}function n(e){var i=e.attr("id"),n=i?s.window.document.getElementById(i):null;return n?n===e[0]:t.contains(s.window.document.body,e[0])}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},r="undefined"!=typeof window?window:null,s={hasTouchCapability:!(!r||!("ontouchstart"in r||r.DocumentTouch&&r.document instanceof r.DocumentTouch||r.navigator.maxTouchPoints)),hasTransitions:function(){if(!r)return!1;var t=(r.document.body||r.document.documentElement).style,e="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof t[i[n]+e])return!0;return!1}(),IE:!1,semVer:"4.2.5",window:r},a=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=s};a.prototype={__bridge:function(e,i,n){if(!i[n]){var r=function(){};r.prototype=e;var s=new r;s.__init&&s.__init(i),t.each(e,function(t,e){0!=t.indexOf("__")&&(i[t]?o.debug&&console.log("The "+t+" method of the "+n+" plugin conflicts with another plugin or native methods"):(i[t]=function(){return s[t].apply(s,Array.prototype.slice.apply(arguments))},i[t].bridged=s))}),i[n]=s}return this},__setWindow:function(t){return s.window=t,this},_getRuler:function(t){return new e(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){var i=this;if("string"==typeof e){var n=e,o=null;return n.indexOf(".")>0?o=i.__plugins[n]:t.each(i.__plugins,function(t,e){return e.name.substring(e.name.length-n.length-1)=="."+n?(o=e,!1):void 0}),o}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return i.__plugins[e.name]=e,e.core&&i.__bridge(e.core,i,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var i=[];return t(e||".tooltipstered").each(function(){var e=t(this),n=e.data("tooltipster-ns");n&&t.each(n,function(t,n){i.push(e.data(n))})}),i},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return t.extend(o,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new a,t.Tooltipster=function(e,i){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,i)},t.Tooltipster.prototype={__init:function(e,i){var n=this;if(n._$origin=t(e),n.__options=t.extend(!0,{},o,i),n.__optionsFormat(),!s.IE||s.IE>=n.__options.IEmin){var r=null;if(void 0===n._$origin.data("tooltipster-initialTitle")&&(void 0===(r=n._$origin.attr("title"))&&(r=null),n._$origin.data("tooltipster-initialTitle",r)),null!==n.__options.content)n.__contentSet(n.__options.content);else{var a,l=n._$origin.attr("data-tooltip-content");l&&(a=t(l)),a&&a[0]?n.__contentSet(a.first()):n.__contentSet(r)}n._$origin.removeAttr("title").addClass("tooltipstered"),n.__prepareOrigin(),n.__prepareGC(),t.each(n.__options.plugins,function(t,e){n._plug(e)}),s.hasTouchCapability&&t(s.window.document.body).on("touchmove."+n.__namespace+"-triggerOpen",function(t){n._touchRecordEvent(t)}),n._on("created",function(){n.__prepareTooltip()})._on("repositioned",function(t){n.__lastPosition=t.position})}else n.__options.disabled=!0},__contentInsert:function(){var t=this,e=t._$tooltip.find(".tooltipster-content"),i=t.__Content;return t._trigger({type:"format",content:t.__Content,format:function(t){i=t}}),t.__options.functionFormat&&(i=t.__options.functionFormat.call(t,t,{origin:t._$origin[0]},t.__Content)),"string"!=typeof i||t.__options.contentAsHTML?e.empty().append(i):e.text(i),t},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this,i=e._$origin,n=e._$origin.is("area");if(n){var o=e._$origin.parent().attr("name");i=t('img[usemap="#'+o+'"]')}var r=i[0].getBoundingClientRect(),a=t(s.window.document),l=t(s.window),u=i,c={available:{document:null,window:null},document:{size:{height:a.height(),width:a.width()}},window:{scroll:{left:s.window.scrollX||s.window.document.documentElement.scrollLeft,top:s.window.scrollY||s.window.document.documentElement.scrollTop},size:{height:l.height(),width:l.width()}},origin:{fixedLineage:!1,offset:{},size:{height:r.bottom-r.top,width:r.right-r.left},usemapImage:n?i[0]:null,windowOffset:{bottom:r.bottom,left:r.left,right:r.right,top:r.top}}};if(n){var h=e._$origin.attr("shape"),d=e._$origin.attr("coords");if(d&&(d=d.split(","),t.map(d,function(t,e){d[e]=parseInt(t)})),"default"!=h)switch(h){case"circle":var p=d[0],f=d[1],m=d[2],g=f-m,_=p-m;c.origin.size.height=2*m,c.origin.size.width=c.origin.size.height,c.origin.windowOffset.left+=_,c.origin.windowOffset.top+=g;break;case"rect":var v=d[0],y=d[1],w=d[2],b=d[3];c.origin.size.height=b-y,c.origin.size.width=w-v,c.origin.windowOffset.left+=v,c.origin.windowOffset.top+=y;break;case"poly":for(var x=0,k=0,E=0,M=0,T="even",S=0;S<d.length;S++){var C=d[S];"even"==T?(C>E&&(E=C,0===S&&(x=E)),x>C&&(x=C),T="odd"):(C>M&&(M=C,1==S&&(k=M)),k>C&&(k=C),T="even")}c.origin.size.height=M-k,c.origin.size.width=E-x,c.origin.windowOffset.left+=x,c.origin.windowOffset.top+=k}}for(e._trigger({type:"geometry",edit:function(t){c.origin.size.height=t.height,c.origin.windowOffset.left=t.left,c.origin.windowOffset.top=t.top,c.origin.size.width=t.width},geometry:{height:c.origin.size.height,left:c.origin.windowOffset.left,top:c.origin.windowOffset.top,width:c.origin.size.width}}),c.origin.windowOffset.right=c.origin.windowOffset.left+c.origin.size.width,c.origin.windowOffset.bottom=c.origin.windowOffset.top+c.origin.size.height,c.origin.offset.left=c.origin.windowOffset.left+c.window.scroll.left,c.origin.offset.top=c.origin.windowOffset.top+c.window.scroll.top,c.origin.offset.bottom=c.origin.offset.top+c.origin.size.height,c.origin.offset.right=c.origin.offset.left+c.origin.size.width,c.available.document={bottom:{height:c.document.size.height-c.origin.offset.bottom,width:c.document.size.width},left:{height:c.document.size.height,width:c.origin.offset.left},right:{height:c.document.size.height,width:c.document.size.width-c.origin.offset.right},top:{height:c.origin.offset.top,width:c.document.size.width}},c.available.window={bottom:{height:Math.max(c.window.size.height-Math.max(c.origin.windowOffset.bottom,0),0),width:c.window.size.width},left:{height:c.window.size.height,width:Math.max(c.origin.windowOffset.left,0)},right:{height:c.window.size.height,width:Math.max(c.window.size.width-Math.max(c.origin.windowOffset.right,0),0)},top:{height:Math.max(c.origin.windowOffset.top,0),width:c.window.size.width}};"html"!=u[0].tagName.toLowerCase();){if("fixed"==u.css("position")){c.origin.fixedLineage=!0;break}u=u.parent()}return c},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=t(s.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var i=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,function(t,e){return i-t.time>6e4}),n(e._$origin)||e.close(function(){e.destroy()})},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),s.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&s.hasTouchCapability){e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&s.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&s.hasTouchCapability){e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&s.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&s.hasTouchCapability){var e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&s.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var e=this,i=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":i,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,function(t,i){e._$tooltip.removeClass(i)}),t.each(e.__options.theme,function(t,i){e._$tooltip.addClass(i)}),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){var i=this;if(i.__options.triggerClose.scroll)i._close(e);else if(n(i._$origin)&&n(i._$tooltip)){var o=null;if(e.target===s.window.document)i.__Geometry.origin.fixedLineage||i.__options.repositionOnScroll&&i.reposition(e);else{o=i.__geometry();var r=!1;if("fixed"!=i._$origin.css("position")&&i.__$originParents.each(function(e,i){var n=t(i),s=n.css("overflow-x"),a=n.css("overflow-y");if("visible"!=s||"visible"!=a){var l=i.getBoundingClientRect();if("visible"!=s&&(o.origin.windowOffset.left<l.left||o.origin.windowOffset.right>l.right))return r=!0,!1;if("visible"!=a&&(o.origin.windowOffset.top<l.top||o.origin.windowOffset.bottom>l.bottom))return r=!0,!1}return"fixed"!=n.css("position")&&void 0}),r)i._$tooltip.css("visibility","hidden");else if(i._$tooltip.css("visibility","visible"),i.__options.repositionOnScroll)i.reposition(e);else{var a=o.origin.offset.left-i.__Geometry.origin.offset.left,l=o.origin.offset.top-i.__Geometry.origin.offset.top;i._$tooltip.css({left:i.__lastPosition.coord.left+a,top:i.__lastPosition.coord.top+l})}}i._trigger({type:"scroll",event:e,geo:o})}return i},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,e){clearTimeout(e)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(n(t._$origin)&&n(t._$tooltip)){if(t.__options.trackOrigin){var o=t.__geometry(),r=!1;i(o.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?i(o.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(r=!0):i(o.origin.offset,t.__Geometry.origin.offset)&&(r=!0)),r||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var s=e[0].getBoundingClientRect();s.height===t.__contentBcr.height&&s.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=s)}}else t._close()},t.__options.trackerInterval),t},_close:function(e,i,n){var o=this,r=!0;if(o._trigger({type:"close",event:e,stop:function(){r=!1}}),r||n){i&&o.__callbacks.close.push(i),o.__callbacks.open=[],o.__timeoutsClear();var a=function(){t.each(o.__callbacks.close,function(t,i){i.call(o,o,{event:e,origin:o._$origin[0]})}),o.__callbacks.close=[]};if("closed"!=o.__state){var l=!0,u=(new Date).getTime()+o.__options.animationDuration[1];if("disappearing"==o.__state&&u>o.__closingTime&&o.__options.animationDuration[1]>0&&(l=!1),l){o.__closingTime=u,"disappearing"!=o.__state&&o.__stateSet("disappearing");var c=function(){clearInterval(o.__tracker),o._trigger({type:"closing",event:e}),o._$tooltip.off("."+o.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(s.window).off("."+o.__namespace+"-triggerClose"),o.__$originParents.each(function(e,i){t(i).off("scroll."+o.__namespace+"-triggerClose")}),o.__$originParents=null,t(s.window.document.body).off("."+o.__namespace+"-triggerClose"),o._$origin.off("."+o.__namespace+"-triggerClose"),o._off("dismissable"),o.__stateSet("closed"),o._trigger({type:"after",event:e}),o.__options.functionAfter&&o.__options.functionAfter.call(o,o,{event:e,origin:o._$origin[0]}),a()};s.hasTransitions?(o._$tooltip.css({"-moz-animation-duration":o.__options.animationDuration[1]+"ms","-ms-animation-duration":o.__options.animationDuration[1]+"ms","-o-animation-duration":o.__options.animationDuration[1]+"ms","-webkit-animation-duration":o.__options.animationDuration[1]+"ms","animation-duration":o.__options.animationDuration[1]+"ms","transition-duration":o.__options.animationDuration[1]+"ms"}),o._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),o.__options.animationDuration[1]>0&&o._$tooltip.delay(o.__options.animationDuration[1]),o._$tooltip.queue(c)):o._$tooltip.stop().fadeOut(o.__options.animationDuration[1],c)}}else a()}return o},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,i){var o=this;if(!o.__destroying&&n(o._$origin)&&o.__enabled){var r=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:e,stop:function(){r=!1}}),r&&o.__options.functionBefore&&(r=o.__options.functionBefore.call(o,o,{event:e,origin:o._$origin[0]}))),!1!==r&&null!==o.__Content){i&&o.__callbacks.open.push(i),o.__callbacks.close=[],o.__timeoutsClear();var a,l=function(){"stable"!=o.__state&&o.__stateSet("stable"),t.each(o.__callbacks.open,function(t,e){e.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}),o.__callbacks.open=[]};if("closed"!==o.__state)a=0,"disappearing"===o.__state?(o.__stateSet("appearing"),s.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l)):o._$tooltip.stop().fadeIn(l)):"stable"==o.__state&&l();else{if(o.__stateSet("appearing"),a=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(e,!0),s.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l))},0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],l),o.__trackerStart(),t(s.window).on("resize."+o.__namespace+"-triggerClose",function(e){var i=t(document.activeElement);(i.is("input")||i.is("textarea"))&&t.contains(o._$tooltip[0],i[0])||o.reposition(e)}).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)}),o.__$originParents=o._$origin.parents(),o.__$originParents.each(function(e,i){t(i).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)})}),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&s.hasTouchCapability){o._on("dismissable",function(t){t.dismissable?t.delay?(d=setTimeout(function(){o._close(t.event)},t.delay),o.__timeouts.close.push(d)):o._close(t):clearTimeout(d)});var u=o._$origin,c="",h="",d=null;o.__options.interactive&&(u=u.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(c+="mouseenter."+o.__namespace+"-triggerClose ",h+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&s.hasTouchCapability&&(c+="touchstart."+o.__namespace+"-triggerClose",h+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),u.on(h,function(t){if(o._touchIsTouchEvent(t)||!o._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}}).on(c,function(t){!o._touchIsTouchEvent(t)&&o._touchIsEmulatedEvent(t)||o._trigger({dismissable:!1,event:t,type:"dismissable"})})}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",function(t){o._touchIsTouchEvent(t)||o._touchIsEmulatedEvent(t)||o._close(t)}),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&s.hasTouchCapability)&&setTimeout(function(){if("closed"!=o.__state){var e="",i=t(s.window.document.body);o.__options.triggerClose.click&&(e+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&s.hasTouchCapability&&(e+="touchend."+o.__namespace+"-triggerClose"),i.on(e,function(e){o._touchIsMeaningfulEvent(e)&&(o._touchRecordEvent(e),o.__options.interactive&&t.contains(o._$tooltip[0],e.target)||o._close(e))}),o.__options.triggerClose.tap&&s.hasTouchCapability&&i.on("touchstart."+o.__namespace+"-triggerClose",function(t){o._touchRecordEvent(t)})}},0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}if(o.__options.timer>0){d=setTimeout(function(){o._close()},o.__options.timer+a);o.__timeouts.close.push(d)}}}return o},_openShortly:function(t){var e=this,i=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){i=!1}}),i)){var n=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;n[0]?e.__timeouts.open=setTimeout(function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")},n[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,i){var n=this,o=t.extend(!0,{},i),r=n.__options[e];return r||(r={},t.each(i,function(t,e){var i=n.__options[t];void 0!==i&&(r[t]=i)})),t.each(o,function(e,i){void 0!==r[e]&&("object"!=typeof i||i instanceof Array||null==i||"object"!=typeof r[e]||r[e]instanceof Array||null==r[e]?o[e]=r[e]:t.extend(o[e],r[e]))}),o},_plug:function(e){var i=t.tooltipster._plugin(e);if(!i)throw new Error('The "'+e+'" plugin is not defined');return i.instance&&t.tooltipster.__bridge(i.instance,this,i.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,i=(new Date).getTime(),n=this.__touchEvents.length-1;n>=0;n--){var o=this.__touchEvents[n];if(!(i-o.time<500))break;o.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,i=this.__touchEvents.length-1;i>=0;i--){var n=this.__touchEvents[i];if("touchmove"==n.type){e=!0;break}if("touchstart"==n.type&&t===n.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var i=this;if(i[e]){var n=t.tooltipster._plugin(e);n.instance&&t.each(n.instance,function(t,n){i[t]&&i[t].bridged===i[e]&&delete i[t]}),i[e].__destroy&&i[e].__destroy(),delete i[e]}return i},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(s.hasTransitions){var i=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+i),setTimeout(function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+i)},1e3)}else e._$tooltip.fadeTo(200,.5,function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)})}else e._close();return e},destroy:function(){var e=this;if(e.__destroyed)e.__destroyError();else{"closed"!=e.__state?e.option("animationDuration",0)._close(null,null,!0):e.__timeoutsClear(),e._trigger("destroy"),e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t(s.window.document.body).off("."+e.__namespace+"-triggerOpen");var i=e._$origin.data("tooltipster-ns");if(i)if(1===i.length){var n=null;"previous"==e.__options.restoration?n=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(n="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),n&&e._$origin.attr("title",n),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else i=t.grep(i,function(t,i){return t!==e.__namespace}),e._$origin.data("tooltipster-ns",i);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t,i){return e!==t}),clearInterval(e.__garbageCollector)}return e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(e,i){return void 0===i?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=i,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){var i=this;return i.__destroyed?i.__destroyError():"closed"!=i.__state&&n(i._$origin)&&(e||n(i._$tooltip))&&(e||i._$tooltip.detach(),i.__Geometry=i.__geometry(),i._trigger({type:"reposition",event:t,helper:{geo:i.__Geometry}})),i},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var e=Array.prototype.slice.apply(arguments),i="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof e[0]){var n="#*$~&";return this.each(function(){var o=t(this).data("tooltipster-ns"),r=o?t(this).data(o[0]):null;if(!r)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof r[e[0]])throw new Error('Unknown method "'+e[0]+'"');this.length>1&&"content"==e[0]&&(e[1]instanceof t||"object"==typeof e[1]&&null!=e[1]&&e[1].tagName)&&!r.__options.contentCloning&&r.__options.debug&&console.log(i);var s=r[e[0]](e[1],e[2]);return s!==r||"instance"===e[0]?(n=s,!1):void 0}),"#*$~&"!==n?n:this}t.tooltipster.__instancesLatestArr=[];var r=e[0]&&void 0!==e[0].multiple,s=r&&e[0].multiple||!r&&o.multiple,a=e[0]&&void 0!==e[0].content,l=a&&e[0].content||!a&&o.content,u=e[0]&&void 0!==e[0].contentCloning,c=u&&e[0].contentCloning||!u&&o.contentCloning,h=e[0]&&void 0!==e[0].debug,d=h&&e[0].debug||!h&&o.debug;return this.length>1&&(l instanceof t||"object"==typeof l&&null!=l&&l.tagName)&&!c&&d&&console.log(i),this.each(function(){var i=!1,n=t(this),o=n.data("tooltipster-ns"),r=null;o?s?i=!0:d&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):i=!0,i&&(r=new t.Tooltipster(this,e[0]),o||(o=[]),o.push(r.__namespace),n.data("tooltipster-ns",o),n.data(r.__namespace,r),r.__options.functionInit&&r.__options.functionInit.call(r,r,{origin:this}),r._trigger("init")),t.tooltipster.__instancesLatestArr.push(r)}),this},e.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(s.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};if(this.constraints){var i=this.__$tooltip.find(".tooltipster-content"),n=this.__$tooltip.outerHeight(),o=i[0].getBoundingClientRect(),r={height:n<=this.constraints.height,width:t.width<=this.constraints.width&&o.width>=i[0].scrollWidth-1};e.fits=r.height&&r.width}return s.IE&&s.IE<=11&&e.size.width!==s.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var l=navigator.userAgent.toLowerCase();-1!=l.indexOf("msie")?s.IE=parseInt(l.split("msie")[1]):-1!==l.toLowerCase().indexOf("trident")&&-1!==l.indexOf(" rv:11")?s.IE=11:-1!=l.toLowerCase().indexOf("edge/")&&(s.IE=parseInt(l.toLowerCase().split("edge/")[1]));var u="tooltipster.sideTip";return t.tooltipster._plugin({name:u,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state}),e.__instance._on("options."+e.__namespace,function(){e.__optionsFormat()}),e.__instance._on("reposition."+e.__namespace,function(t){e.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var e=this;if(e.__options=e.__instance._optionsExtract(u,e.__defaults()),e.__options.position&&(e.__options.side=e.__options.position),"object"!=typeof e.__options.distance&&(e.__options.distance=[e.__options.distance]),e.__options.distance.length<4&&(void 0===e.__options.distance[1]&&(e.__options.distance[1]=e.__options.distance[0]),void 0===e.__options.distance[2]&&(e.__options.distance[2]=e.__options.distance[0]),void 0===e.__options.distance[3]&&(e.__options.distance[3]=e.__options.distance[1]),e.__options.distance={top:e.__options.distance[0],right:e.__options.distance[1],bottom:e.__options.distance[2],left:e.__options.distance[3]}),"string"==typeof e.__options.side){var i={top:"bottom",right:"left",bottom:"top",left:"right"};e.__options.side=[e.__options.side,i[e.__options.side]],"left"==e.__options.side[0]||"right"==e.__options.side[0]?e.__options.side.push("top","bottom"):e.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==e.__options.arrow&&(e.__options.arrow=!1)},__reposition:function(e,i){var n,o=this,r=o.__targetFind(i),s=[];o.__instance._$tooltip.detach();var a=o.__instance._$tooltip.clone(),l=t.tooltipster._getRuler(a),u=!1,c=o.__instance.option("animation");switch(c&&a.removeClass("tooltipster-"+c),t.each(["window","document"],function(n,c){var h=null;if(o.__instance._trigger({container:c,helper:i,satisfied:u,takeTest:function(t){h=t},results:s,type:"positionTest"}),1==h||0!=h&&0==u&&("window"!=c||o.__options.viewportAware))for(var n=0;n<o.__options.side.length;n++){var d={horizontal:0,vertical:0},p=o.__options.side[n];"top"==p||"bottom"==p?d.vertical=o.__options.distance[p]:d.horizontal=o.__options.distance[p],o.__sideChange(a,p),t.each(["natural","constrained"],function(t,n){if(h=null,o.__instance._trigger({container:c,event:e,helper:i,mode:n,results:s,satisfied:u,side:p,takeTest:function(t){h=t},type:"positionTest"}),1==h||0!=h&&0==u){var a={container:c,distance:d,fits:null,mode:n,outerSize:null,side:p,size:null,target:r[p],whole:null},f=("natural"==n?l.free():l.constrain(i.geo.available[c][p].width-d.horizontal,i.geo.available[c][p].height-d.vertical)).measure();if(a.size=f.size,a.outerSize={height:f.size.height+d.vertical,width:f.size.width+d.horizontal},"natural"==n?i.geo.available[c][p].width>=a.outerSize.width&&i.geo.available[c][p].height>=a.outerSize.height?a.fits=!0:a.fits=!1:a.fits=f.fits,"window"==c&&(a.fits?a.whole="top"==p||"bottom"==p?i.geo.origin.windowOffset.right>=o.__options.minIntersection&&i.geo.window.size.width-i.geo.origin.windowOffset.left>=o.__options.minIntersection:i.geo.origin.windowOffset.bottom>=o.__options.minIntersection&&i.geo.window.size.height-i.geo.origin.windowOffset.top>=o.__options.minIntersection:a.whole=!1),s.push(a),a.whole)u=!0;else if("natural"==a.mode&&(a.fits||a.size.width<=i.geo.available[c][p].width))return!1}})}}),o.__instance._trigger({edit:function(t){s=t},event:e,helper:i,results:s,type:"positionTested"}),s.sort(function(t,e){if(t.whole&&!e.whole)return-1;if(!t.whole&&e.whole)return 1;if(t.whole&&e.whole){i=o.__options.side.indexOf(t.side);return(n=o.__options.side.indexOf(e.side))>i?-1:i>n?1:"natural"==t.mode?-1:1}if(t.fits&&!e.fits)return-1;if(!t.fits&&e.fits)return 1;if(t.fits&&e.fits){var i=o.__options.side.indexOf(t.side),n=o.__options.side.indexOf(e.side);return n>i?-1:i>n?1:"natural"==t.mode?-1:1}return"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1}),n=s[0],n.coord={},n.side){case"left":case"right":n.coord.top=Math.floor(n.target-n.size.height/2);break;case"bottom":case"top":n.coord.left=Math.floor(n.target-n.size.width/2)}switch(n.side){case"left":n.coord.left=i.geo.origin.windowOffset.left-n.outerSize.width;break;case"right":n.coord.left=i.geo.origin.windowOffset.right+n.distance.horizontal;break;case"top":n.coord.top=i.geo.origin.windowOffset.top-n.outerSize.height;break;case"bottom":n.coord.top=i.geo.origin.windowOffset.bottom+n.distance.vertical}"window"==n.container?"top"==n.side||"bottom"==n.side?n.coord.left<0?i.geo.origin.windowOffset.right-this.__options.minIntersection>=0?n.coord.left=0:n.coord.left=i.geo.origin.windowOffset.right-this.__options.minIntersection-1:n.coord.left>i.geo.window.size.width-n.size.width&&(i.geo.origin.windowOffset.left+this.__options.minIntersection<=i.geo.window.size.width?n.coord.left=i.geo.window.size.width-n.size.width:n.coord.left=i.geo.origin.windowOffset.left+this.__options.minIntersection+1-n.size.width):n.coord.top<0?i.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?n.coord.top=0:n.coord.top=i.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:n.coord.top>i.geo.window.size.height-n.size.height&&(i.geo.origin.windowOffset.top+this.__options.minIntersection<=i.geo.window.size.height?n.coord.top=i.geo.window.size.height-n.size.height:n.coord.top=i.geo.origin.windowOffset.top+this.__options.minIntersection+1-n.size.height):(n.coord.left>i.geo.window.size.width-n.size.width&&(n.coord.left=i.geo.window.size.width-n.size.width),n.coord.left<0&&(n.coord.left=0)),o.__sideChange(a,n.side),i.tooltipClone=a[0],i.tooltipParent=o.__instance.option("parent").parent[0],i.mode=n.mode,i.whole=n.whole,i.origin=o.__instance._$origin[0],i.tooltip=o.__instance._$tooltip[0],delete n.container,delete n.fits,delete n.mode,delete n.outerSize,delete n.whole,n.distance=n.distance.horizontal||n.distance.vertical;var h=t.extend(!0,{},n);if(o.__instance._trigger({edit:function(t){n=t},event:e,helper:i,position:h,type:"position"}),o.__options.functionPosition){var d=o.__options.functionPosition.call(o,o.__instance,i,h);d&&(n=d)}l.destroy();var p,f;"top"==n.side||"bottom"==n.side?(p={prop:"left",val:n.target-n.coord.left},f=n.size.width-this.__options.minIntersection):(p={prop:"top",val:n.target-n.coord.top},f=n.size.height-this.__options.minIntersection),p.val<this.__options.minIntersection?p.val=this.__options.minIntersection:p.val>f&&(p.val=f);var m;m=i.geo.origin.fixedLineage?i.geo.origin.windowOffset:{left:i.geo.origin.windowOffset.left+i.geo.window.scroll.left,top:i.geo.origin.windowOffset.top+i.geo.window.scroll.top},n.coord={left:m.left+(n.coord.left-i.geo.origin.windowOffset.left),top:m.top+(n.coord.top-i.geo.origin.windowOffset.top)},o.__sideChange(o.__instance._$tooltip,n.side),i.geo.origin.fixedLineage?o.__instance._$tooltip.css("position","fixed"):o.__instance._$tooltip.css("position",""),o.__instance._$tooltip.css({left:n.coord.left,top:n.coord.top,height:n.size.height,width:n.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(p.prop,p.val),o.__instance._$tooltip.appendTo(o.__instance.option("parent")),o.__instance._trigger({type:"repositioned",event:e,position:n})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},i=this.__instance._$origin[0].getClientRects();if(i.length>1&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),i=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)),i.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var n=i[0];e.top=Math.floor(n.left+(n.right-n.left)/2),n=i.length>2?i[Math.ceil(i.length/2)-1]:i[0],e.right=Math.floor(n.top+(n.bottom-n.top)/2),n=i[i.length-1],e.bottom=Math.floor(n.left+(n.right-n.left)/2),n=i.length>2?i[Math.ceil((i.length+1)/2)-1]:i[i.length-1],e.left=Math.floor(n.top+(n.bottom-n.top)/2)}return e}}}),t}),require=function(){function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){return o(e[s][1][t]||t)},c,c.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}return t}()({"./editor/moderation/hotspots/hotspot-collection":[function(t,e,i){"use strict";e.exports=Backbone.Collection.extend({model:t("./hotspot-model")})},{"./hotspot-model":"./editor/moderation/hotspots/hotspot-model"}],"./editor/moderation/hotspots/hotspot-item":[function(t,e,i){"use strict";e.exports=BaseView.extend({template:t("./hotspot-item.handlebars"),tagName:"div",className:"hotspot",animationDuration:500,events:{"click .inline-hotspots-view":"addHotspot","click .edit":"addHotspot",dragstop:"adjustHotspot","click .fa-times":"removeHotspot","click .fa-pencil":"editCta","click .fa-arrows-alt":"dragHotspot"},initialize:function(e){this.user=e.user,this.hotspot_x=e.hotspot.get("x"),this.hotspot_y=e.hotspot.get("y"),this.hotspot=e.hotspot,this.should_close=!1,this.editing=e.editing,this.post=e.post,this.parentView=e.parent,t("./hotspot-item.css")},dragHotspot:function(t){this.$el.draggable({containment:"parent"}),this.$el.find(".option-panel").addClass("hidden"),this.$el.find(".directions").removeClass("hidden")},removeHotspot:function(t){var e=this;this.$(".directions").removeClass("hidden"),this.$(".directions").text("Removing...."),$.ajax({url:HM.apiBaseUrl+"users/"+this.user.get("id")+"/ctas/"+this.hotspot.get("cta_lookup_id")+"/hotspots",type:"DELETE"}).done(function(){HM.showAlert("Hotspot Removed Successfully",{type:"info"}),e.has_hotspot=!1,e.hotspot.destroy(),e.remove()}).fail(function(){HM.showAlert("There was an error removing your CTA",{type:"error"})}).always(function(){})},editCta:function(){this.parentView.renderCtaFormView(this.hotspot.toJSON())},renderOptionPanel:function(){this.$(".option-panel").removeClass("hidden"),this.$(".tooltiptext").addClass("hidden")},adjustHotspot:function(t){this.$el.find(".directions").removeClass("hidden"),this.$el.find(".directions").text("Saving...."),this.$el.find(".hotspot").draggable("disable");var e=(t.clientX-t.target.parentElement.getBoundingClientRect().x)/t.target.parentElement.getBoundingClientRect().width*100,i=(t.clientY-t.target.parentElement.getBoundingClientRect().y)/t.target.parentElement.getBoundingClientRect().height*100;this.hotspot.set("x",e),this.hotspot.set("y",i);var n={x:e,y:i};this.renderOptionPanel();$.ajax({url:HM.apiBaseUrl+"users/"+this.user.get("id")+"/ctas/"+this.hotspot.get("cta_id")+"/apply",data:{associated_id:this.post.numericId(),associated_type:"Post",hotspot:n},type:"POST"}).done(function(){HM.showAlert("Hotspot Moved Successfully",{type:"info"})}).fail(function(){HM.showAlert("There was an error applying your Hotspot",{type:"error"})}).always(function(){})},render:function(){if(this.hotspot.has("x")&&this.hotspot.has("y"))return this.$el.html(this.template(this.serializeData())),this.$el.css({top:this.hotspot_y+"%",left:this.hotspot_x+"%"}),this.$el.attr("data-cta-id",this.hotspot.get("cta_id")),this.model&&this.model.ctas&&this.model.ctas.length>0&&this.hotspot.get("cta_id")==this.model.ctas[0].cta_id&&this.$el.addClass("glow"),this;this.remove()},direction:function(){var t="";return parseInt(this.hotspot.get("y"))>75&&(t+="top"),parseInt(this.hotspot.get("x"))>75?t+=" left":parseInt(this.hotspot.get("x"))<25&&(t+=" right"),t},serializeData:function(){return _.extend(this.hotspot.attributes,{editing:this.editing,direction:this.direction()})}})},{"./hotspot-item.css":24,"./hotspot-item.handlebars":25}],"./editor/moderation/hotspots/hotspot-model":[function(t,e,i){"use strict";e.exports=Backbone.Model.extend({})},{}],"./utils/accessibility":[function(t,e,i){"use strict";function n(t){return t.is_custom?"":"to ".concat(t.network_title)}e.exports={modal:function(t){return{close:"Close",next:"Next",previous:"Previous",post:"".concat(t.title,". Posted by ").concat(t.acct_name_full," ").concat(n(t)," ").concat(t.timeago)}},post:function(t){return{name_label:"Post from ".concat(t.acct_name_full),username_label:"Posted ".concat(n(t)," by ").concat(t.acct_name),post_title:t.title,timeago:"Posted ".concat(t.timeago),twitter:{reply:"Reply to this tweet. Opens in new window.",retweet:"Re-tweet this tweet. Opens in new window.",like:"Like this tweet. Opens in new window."}}}}},{}],"./video/player":[function(t,e,i){"use strict";var n=t("./youtube"),o=t("./facebook"),r=t("./vine"),s=t("./vimeo"),a=t("./video"),l={embedData:function(t){var e=t;"function"==typeof t.toJSON&&(e=t.toJSON());var i={};return i.postJSON=e,i.youtubeRegex=/youtube.com\/watch\?.*v=([a-z0-9A-Z_\-]+)|youtu.be\/([a-z0-9A-Z_\-]+)/g,i.vimeoRegex=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,i.youtubeMatches=i.youtubeRegex.exec(e.url),i.embed=function(t){var i=!1;try{i=JSON.parse(e.embed)}catch(t){}return i}(e.embed),i.vimeoMatches=i.vimeoRegex.exec(e.url)||i.vimeoRegex.exec(i.embed&&i.embed.url),i.isNotChromecast=!/CrKey/.test(window.navigator.userAgent),i.isYoutube=!!i.youtubeMatches,i.isVimeo=!!i.vimeoMatches,i.isVine=/\/\/vine\.co\/v/.test(e.url),i.isVideo=i.embed&&/\.mp4/.test(i.embed.html),i.isCustomVideo=i.embed&&/filepicker\.io|filestackcontent\.com/.test(i.embed.html),i.isTwitterVideo=i.embed&&i.embed.video_data,i.isFacebookAPIVideo=e.source==HM.Hype.SOURCES.FACEBOOK&&i.embed,i.postJSON=e,i.isEmbeddableVideo=i.isYoutube||i.isVimeo||i.isVine||i.isFacebookAPIVideo||i.isNotChromecast&&(i.isTwitterVideo||i.isCustomVideo||i.isVideo),i},view:function(t,e){var i,a=l.embedData(t);if(a.isYoutube)i=n;else if(a.isVimeo)i=s;else if(a.isVine)i=r;else if(a.isTwitterVideo&&a.isNotChromecast)i=this.video(a.embed.video_data.url,e,a.postJSON);else if(a.isCustomVideo&&a.isNotChromecast)i=this.video(a.embed.html,e,a.postJSON);else if(a.isVideo&&a.isNotChromecast){var u;void 0!==a.embed.object?u=a.embed.object.html:"undefined"!==a.embed.html&&(u=a.embed.html),i=this.video(u,e,a.postJSON)}else{if(!a.isFacebookAPIVideo)return!1;i=o}return i instanceof Backbone.View?i:new i({options:e,embedData:a})},video:function(t,e,i){return new a({embedData:{url:t,postJSON:i},options:e})}};e.exports=l},{"./facebook":31,"./video":32,"./vimeo":33,"./vine":34,"./youtube":35}],1:[function(t,e,i){(function(t,n){!function(t,n){"object"==typeof i&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):(t.Vimeo=t.Vimeo||{},t.Vimeo.Player=n())}(this,function(){"use strict";function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t,e,i){var n=E.get(t.element)||{};e in n||(n[e]=[]),n[e].push(i),E.set(t.element,n)}function o(t,e){return(E.get(t.element)||{})[e]||[]}function r(t,e,i){var n=E.get(t.element)||{};if(!n[e])return!0;if(!i)return n[e]=[],E.set(t.element,n),!0;var o=n[e].indexOf(i);return-1!==o&&n[e].splice(o,1),E.set(t.element,n),n[e]&&0===n[e].length}function s(t,e){var i=o(t,e);if(i.length<1)return!1;var n=i.shift();return r(t,e,n),n}function a(t,e){var i=E.get(t);E.set(e,i),E.delete(t)}function l(t,e){return 0===t.indexOf(e.toLowerCase())?t:""+e.toLowerCase()+t.substr(0,1).toUpperCase()+t.substr(1)}function u(t){return t instanceof window.HTMLElement}function c(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function h(t){return/^(https?:)?\/\/((player|www).)?vimeo.com(?=$|\/)/.test(t)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=t.url,n=e||i;if(!n)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(c(n))return"https://vimeo.com/"+n;if(h(n))return n.replace("http:","https:");if(e)throw new TypeError("“"+e+"” is not a valid video id.");throw new TypeError("“"+n+"” is not a vimeo.com url.")}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M.reduce(function(e,i){var n=t.getAttribute("data-vimeo-"+i);return(n||""===n)&&(e[i]=""===n?1:n),e},e)}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(i,n){if(!h(t))throw new TypeError("“"+t+"” is not a vimeo.com url.");var o="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(t);for(var r in e)e.hasOwnProperty(r)&&(o+="&"+r+"="+encodeURIComponent(e[r]));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",o,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var e=JSON.parse(s.responseText);i(e)}catch(t){n(t)}else n(new Error("“"+t+"” is not embeddable."));else n(new Error("“"+t+"” was not found."))},s.onerror=function(){var t=s.status?" ("+s.status+")":"";n(new Error("There was an error fetching the embed code from Vimeo"+t+"."))},s.send()})}function m(t,e){var i=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=i,e.appendChild(n.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function g(t){return"string"==typeof t&&(t=JSON.parse(t)),t}function _(t,e,i){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var n={method:e};void 0!==i&&(n.value=i);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(n=JSON.stringify(n)),t.element.contentWindow.postMessage(n,t.origin)}}function v(t,e){var i=[],n=void 0;if((e=g(e)).event)"error"===e.event&&o(t,e.data.method).forEach(function(i){var n=new Error(e.data.message);n.name=e.data.name,i.reject(n),r(t,e.data.method,i)}),i=o(t,"event:"+e.event),n=e.data;else if(e.method){var a=s(t,e.method);a&&(i.push(a),n=e.value)}i.forEach(function(e){try{if("function"==typeof e)return void e.call(t,n);e.resolve(n)}catch(t){}})}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var w=void 0!==Array.prototype.indexOf,b=void 0!==window.postMessage;if(!w||!b)throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var x="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},k=(e(function(t,e){!function(t){function e(t,e){function n(t){if(!this||this.constructor!==n)return new n(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&i.call(this,t)}return e||g(t,"size",{get:p}),t.constructor=n,n.prototype=t,n}function i(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function n(t){return this.has(t)&&(this._keys.splice(m,1),this._values.splice(m,1),this._itp.forEach(function(t){m<t[0]&&t[0]--})),-1<m}function o(t){return this.has(t)?this._values[m]:void 0}function r(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(m=t.length;m--&&!_(t[m],e););else m=t.indexOf(e);return-1<m}function s(t){return r.call(this,this._values,t)}function a(t){return r.call(this,this._keys,t)}function l(t,e){return this.has(t)?this._values[m]=e:this._values[this._keys.push(t)-1]=e,this}function u(t){return this.has(t)||this._values.push(t),this}function c(){(this._keys||0).length=this._values.length=0}function h(){return d(this._itp,this._values)}function d(t,e,i){var n=[0],o=!1;return t.push(n),{next:function(){var r,s=n[0];return!o&&s<e.length?(r=i?[e[s],i[s]]:e[s],n[0]++):(o=!0,t.splice(t.indexOf(n),1)),{done:o,value:r}}}}function p(){return this._values.length}function f(t,e){for(var i=this.entries();;){var n=i.next();if(n.done)break;t.call(e,n.value[1],n.value[0],this)}}var m,g=Object.defineProperty,_=function(t,e){return t===e||t!==t&&e!==e};"undefined"==typeof WeakMap&&(t.WeakMap=e({delete:n,clear:c,get:o,has:a,set:l},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(t.Map=e({delete:n,has:a,get:o,set:l,keys:function(){return d(this._itp,this._keys)},values:h,entries:function(){return d(this._itp,this._keys,this._values)},forEach:f,clear:c})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(t.Set=e({has:s,add:u,delete:n,clear:c,keys:h,values:h,entries:function(){return d(this._itp,this._values,this._values)},forEach:f})),"undefined"==typeof WeakSet&&(t.WeakSet=e({delete:n,add:u,clear:c,has:s},!0))}(void 0!==x?x:window)}),e(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e,i,n){i[e]=i[e]||n(),t.exports&&(t.exports=i[e])}("Promise",x,function(){function t(t,e){f.add(t,e),p||(p=g(f.drain))}function i(t){var i,n=void 0===t?"undefined":e(t);return null==t||"object"!=n&&"function"!=n||(i=t.then),"function"==typeof i&&i}function o(){for(var t=0;t<this.chain.length;t++)r(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function r(t,e,n){var o,r;try{!1===e?n.reject(t.msg):(o=!0===e?t.msg:e.call(void 0,t.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(r=i(o))?r.call(o,n.resolve,n.reject):n.resolve(o)}catch(t){n.reject(t)}}function s(e){var n,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(n=i(e))?t(function(){var t=new u(r);try{n.call(e,function(){s.apply(t,arguments)},function(){a.apply(t,arguments)})}catch(e){a.call(t,e)}}):(r.msg=e,r.state=1,r.chain.length>0&&t(o,r))}catch(t){a.call(new u(r),t)}}}function a(e){var i=this;i.triggered||(i.triggered=!0,i.def&&(i=i.def),i.msg=e,i.state=2,i.chain.length>0&&t(o,i))}function l(t,e,i,n){for(var o=0;o<e.length;o++)!function(o){t.resolve(e[o]).then(function(t){i(o,t)},n)}(o)}function u(t){this.def=t,this.triggered=!1}function c(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var i=new c(this);this.then=function(e,n){var r={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return r.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");r.resolve=t,r.reject=e}),i.chain.push(r),0!==i.state&&t(o,i),r.promise},this.catch=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){s.call(i,t)},function(t){a.call(i,t)})}catch(t){a.call(i,t)}}var d,p,f,m=Object.prototype.toString,g=void 0!==n?function(t){return n(t)}:setTimeout;try{Object.defineProperty({},"x",{}),d=function(t,e,i,n){return Object.defineProperty(t,e,{value:i,writable:!0,configurable:!1!==n})}}catch(t){d=function(t,e,i){return t[e]=i,t}}f=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,i,n;return{add:function(o,r){n=new t(o,r),i?i.next=n:e=n,i=n,n=void 0},drain:function(){var t=e;for(e=i=p=void 0;t;)t.fn.call(t.self),t=t.next}}}();var _=d({},"constructor",h,!1);return h.prototype=_,d(_,"__NPO__",0,!1),d(h,"resolve",function(t){var i=this;return t&&"object"==(void 0===t?"undefined":e(t))&&1===t.__NPO__?t:new i(function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");e(t)})}),d(h,"reject",function(t){return new this(function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");i(t)})}),d(h,"all",function(t){var e=this;return"[object Array]"!=m.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");var o=t.length,r=Array(o),s=0;l(e,t,function(t,e){r[t]=e,++s===o&&i(r)},n)})}),d(h,"race",function(t){var e=this;return"[object Array]"!=m.call(t)?e.reject(TypeError("Not an array")):new e(function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");l(e,t,function(t,e){i(e)},n)})}),h})})),E=new WeakMap,M=["id","url","width","maxwidth","height","maxheight","portrait","title","byline","color","autoplay","autopause","loop","responsive","speed"],T=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),S=new WeakMap,C=new WeakMap,H=function(){function t(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"string"==typeof e&&(e=document.getElementById(e)),!u(e))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==e.nodeName){var o=e.querySelector("iframe");o&&(e=o)}if("IFRAME"===e.nodeName&&!h(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(S.has(e))return S.get(e);this.element=e,this.origin="*";var r=new k(function(t,o){var r=function(e){if(h(e.origin)&&i.element.contentWindow===e.source){"*"===i.origin&&(i.origin=e.origin);var n=g(e.data),o="event"in n&&"ready"===n.event,r="method"in n&&"ping"===n.method;if(o||r)return i.element.setAttribute("data-ready","true"),void t();v(i,n)}};if(window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent&&window.attachEvent("onmessage",r),"IFRAME"!==i.element.nodeName){var s=p(e,n);f(d(s),s).then(function(t){var n=m(t,e);return i.element=n,a(e,n),S.set(i.element,i),t}).catch(function(t){return o(t)})}});return C.set(this,r),S.set(this.element,this),"IFRAME"===this.element.nodeName&&_(this,"ping"),this}return T(t,[{key:"callMethod",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new k(function(o,r){return e.ready().then(function(){i(e,t,{resolve:o,reject:r}),_(e,t,n)})})}},{key:"get",value:function(t){var e=this;return new k(function(n,o){return t=l(t,"get"),e.ready().then(function(){i(e,t,{resolve:n,reject:o}),_(e,t)})})}},{key:"set",value:function(t,e){var n=this;return k.resolve(e).then(function(e){if(t=l(t,"set"),void 0===e||null===e)throw new TypeError("There must be a value to set.");return n.ready().then(function(){return new k(function(o,r){i(n,t,{resolve:o,reject:r}),_(n,t,e)})})})}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===o(this,"event:"+t).length&&this.callMethod("addEventListener",t).catch(function(){}),i(this,"event:"+t,e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");r(this,"event:"+t,e)&&this.callMethod("removeEventListener",t).catch(function(t){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=C.get(this);return k.resolve(t)}},{key:"addCuePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}]),t}();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: "+t)};[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")).forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var i=p(t);f(d(i),i).then(function(e){return m(e,t)}).catch(e)}catch(t){e(t)}})}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=function(e){if(h(e.origin)&&e.data&&"spacechange"===e.data.event)for(var i=t.querySelectorAll("iframe"),n=0;n<i.length;n++)if(i[n].contentWindow===e.source){var o=i[n].parentElement;o&&-1!==o.className.indexOf("vimeo-space")&&(o.style.paddingBottom=e.data.data[0].bottom+"px");break}};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}(),H})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{timers:3}],2:[function(t,e,i){"use strict";var n=[],o=function(t,e){var i=document.head||document.getElementsByTagName("head")[0],o=n[n.length-1];if(e=e||{},e.insertAt=e.insertAt||"bottom","top"===e.insertAt)o?o.nextSibling?i.insertBefore(t,o.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),n.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}};e.exports={createLink:function(t,e){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=t,n.rel="stylesheet";for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];n.setAttribute("data-"+o,r)}i.appendChild(n)},createStyle:function(t,e,i){i=i||{};var n=document.createElement("style");n.type="text/css";for(var r in e)if(e.hasOwnProperty(r)){var s=e[r];n.setAttribute("data-"+r,s)}n.sheet?(n.innerHTML=t,n.sheet.cssText=t,o(n,{insertAt:i.insertAt})):n.styleSheet?(o(n,{insertAt:i.insertAt}),n.styleSheet.cssText=t):(n.appendChild(document.createTextNode(t)),o(n,{insertAt:i.insertAt}))}}},{}],3:[function(t,e,i){(function(e,n){function o(t,e){this._id=t,this._clearFn=e}var r=t("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},u=0;i.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i.setImmediate="function"==typeof e?e:function(t){var e=u++,n=!(arguments.length<2)&&a.call(arguments,1);return l[e]=!0,r(function(){l[e]&&(n?t.apply(null,n):t.call(null),i.clearImmediate(e))}),e},i.clearImmediate="function"==typeof n?n:function(t){delete l[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":23,timers:3}],4:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(){var t=new s.HandlebarsEnvironment;return u.extend(t,s),t.SafeString=a.default,t.Exception=l.default,t.Utils=u,t.escapeExpression=u.escapeExpression,t.VM=c,t.template=function(e){return c.template(e,t)},t}i.__esModule=!0;var s=o(t("./handlebars/base")),a=n(t("./handlebars/safe-string")),l=n(t("./handlebars/exception")),u=o(t("./handlebars/utils")),c=o(t("./handlebars/runtime")),h=n(t("./handlebars/no-conflict")),d=r();d.create=r,h.default(d),d.default=d,i.default=d,e.exports=i.default},{"./handlebars/base":5,"./handlebars/exception":8,"./handlebars/no-conflict":18,"./handlebars/runtime":19,"./handlebars/safe-string":20,"./handlebars/utils":21}],5:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},a.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}i.__esModule=!0,i.HandlebarsEnvironment=o;var r=t("./utils"),s=n(t("./exception")),a=t("./helpers"),l=t("./decorators"),u=n(t("./logger"));i.VERSION="4.1.0";i.COMPILER_REVISION=7;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};i.REVISION_CHANGES=c;o.prototype={constructor:o,logger:u.default,log:u.default.log,registerHelper:function(t,e){if("[object Object]"===r.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===r.toString.call(t))r.extend(this.partials,t);else{if(void 0===e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===r.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var h=u.default.log;i.log=h,i.createFrame=r.createFrame,i.logger=u.default},{"./decorators":6,"./exception":8,"./helpers":9,"./logger":17,"./utils":21}],6:[function(t,e,i){"use strict";i.__esModule=!0,i.registerDefaultDecorators=function(t){n.default(t)};var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./decorators/inline"))},{"./decorators/inline":7}],7:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerDecorator("inline",function(t,e,i,o){var r=t;return e.partials||(e.partials={},r=function(o,r){var s=i.partials;i.partials=n.extend({},s,e.partials);var a=t(o,r);return i.partials=s,a}),e.partials[o.args[0]]=o.fn,r})},e.exports=i.default},{"../utils":21}],8:[function(t,e,i){"use strict";function n(t,e){var i=e&&e.loc,r=void 0,s=void 0;i&&(t+=" - "+(r=i.start.line)+":"+(s=i.start.column));for(var a=Error.prototype.constructor.call(this,t),l=0;l<o.length;l++)this[o[l]]=a[o[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{i&&(this.lineNumber=r,Object.defineProperty?Object.defineProperty(this,"column",{value:s,enumerable:!0}):this.column=s)}catch(t){}}i.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,i.default=n,e.exports=i.default},{}],9:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.registerDefaultHelpers=function(t){o.default(t),r.default(t),s.default(t),a.default(t),l.default(t),u.default(t),c.default(t)};var o=n(t("./helpers/block-helper-missing")),r=n(t("./helpers/each")),s=n(t("./helpers/helper-missing")),a=n(t("./helpers/if")),l=n(t("./helpers/log")),u=n(t("./helpers/lookup")),c=n(t("./helpers/with"))},{"./helpers/block-helper-missing":10,"./helpers/each":11,"./helpers/helper-missing":12,"./helpers/if":13,"./helpers/log":14,"./helpers/lookup":15,"./helpers/with":16}],10:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerHelper("blockHelperMissing",function(e,i){var o=i.inverse,r=i.fn;if(!0===e)return r(this);if(!1===e||null==e)return o(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):o(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return r(e,i)})},e.exports=i.default},{"../utils":21}],11:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils"),o=function(t){return t&&t.__esModule?t:{default:t}}(t("../exception"));i.default=function(t){t.registerHelper("each",function(t,e){function i(e,i,o){u&&(u.key=e,u.index=i,u.first=0===i,u.last=!!o,c&&(u.contextPath=c+e)),l+=r(t[e],{data:u,blockParams:n.blockParams([t[e],e],[c+e,null])})}if(!e)throw new o.default("Must pass iterator to #each");var r=e.fn,s=e.inverse,a=0,l="",u=void 0,c=void 0;if(e.data&&e.ids&&(c=n.appendContextPath(e.data.contextPath,e.ids[0])+"."),n.isFunction(t)&&(t=t.call(this)),e.data&&(u=n.createFrame(e.data)),t&&"object"==typeof t)if(n.isArray(t))for(var h=t.length;a<h;a++)a in t&&i(a,a,a===t.length-1);else{var d=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==d&&i(d,a-1),d=p,a++);void 0!==d&&i(d,a-1,!0)}return 0===a&&(l=s(this)),l})},e.exports=i.default},{"../exception":8,"../utils":21}],12:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("../exception"));i.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new n.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=i.default},{"../exception":8}],13:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers.if.call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},e.exports=i.default},{"../utils":21}],14:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),e[0]=o,t.log.apply(t,e)})},e.exports=i.default},{}],15:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},e.exports=i.default},{}],16:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerHelper("with",function(t,e){n.isFunction(t)&&(t=t.call(this));var i=e.fn;if(n.isEmpty(t))return e.inverse(this);var o=e.data;return e.data&&e.ids&&((o=n.createFrame(e.data)).contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:o,blockParams:n.blockParams([t],[o&&o.contextPath])})})},e.exports=i.default},{"../utils":21}],17:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("./utils"),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];console[e].apply(console,n)}}};i.default=o,e.exports=i.default},{"./utils":21}],18:[function(t,e,i){(function(t){"use strict";i.__esModule=!0,i.default=function(e){var i=void 0!==t?t:window,n=i.Handlebars;e.noConflict=function(){return i.Handlebars===e&&(i.Handlebars=n),e}},e.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a){function l(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(s=[e].concat(a)),i(t,e,t.helpers,t.partials,o.data||n,r&&[o.blockParams].concat(r),s)}return l=s(i,l,t,a,n,r),l.program=e,l.depth=a?a.length:0,l.blockParams=o||0,l}function o(){return""}function r(t,e){return e&&"root"in e||((e=e?u.createFrame(e):{}).root=t),e}function s(t,e,i,n,o,r){if(t.decorator){var s={};e=t.decorator(e,s,i,n&&n[0],o,r,n),a.extend(e,s)}return e}i.__esModule=!0,i.checkRevision=function(t){var e=t&&t[0]||1,i=u.COMPILER_REVISION;if(e!==i){if(e<i){var n=u.REVISION_CHANGES[i],o=u.REVISION_CHANGES[e];throw new l.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new l.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},i.template=function(t,e){function i(e){function n(e){return""+t.main(o,e,o.helpers,o.partials,l,c,u)}var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=a.data;i._setup(a),!a.partial&&t.useData&&(l=r(e,l));var u=void 0,c=t.useBlockParams?[]:void 0;return t.useDepths&&(u=a.depths?e!=a.depths[0]?[e].concat(a.depths):a.depths:[e]),(n=s(t.main,n,o,a.depths||[],l,c))(e,a)}if(!e)throw new l.default("No environment passed to template");if(!t||!t.main)throw new l.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var o={strict:function(t,e){if(!(e in t))throw new l.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:a.escapeExpression,invokePartial:function(i,n,o){o.hash&&(n=a.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,o);var r=e.VM.invokePartial.call(this,i,n,o);if(null==r&&e.compile&&(o.partials[o.name]=e.compile(i,t.compilerOptions,e),r=o.partials[o.name](n,o)),null!=r){if(o.indent){for(var s=r.split("\n"),u=0,c=s.length;u<c&&(s[u]||u+1!==c);u++)s[u]=o.indent+s[u];r=s.join("\n")}return r}throw new l.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,o,r){var s=this.programs[t],a=this.fn(t);return e||r||o||i?s=n(this,t,a,e,i,o,r):s||(s=this.programs[t]=n(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=a.extend({},e,t)),i},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(i){i.partial?(o.helpers=i.helpers,o.partials=i.partials,o.decorators=i.decorators):(o.helpers=o.merge(i.helpers,e.helpers),t.usePartial&&(o.partials=o.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=o.merge(i.decorators,e.decorators)))},i._child=function(e,i,r,s){if(t.useBlockParams&&!r)throw new l.default("must pass block params");if(t.useDepths&&!s)throw new l.default("must pass parent depths");return n(o,e,t[e],i,0,r,s)},i},i.wrapProgram=n,i.resolvePartial=function(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t},i.invokePartial=function(t,e,i){var n=i.data&&i.data["partial-block"];i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var r=void 0;if(i.fn&&i.fn!==o&&function(){i.data=u.createFrame(i.data);var t=i.fn;r=i.data["partial-block"]=function(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return i.data=u.createFrame(i.data),i.data["partial-block"]=n,t(e,i)},t.partials&&(i.partials=a.extend({},i.partials,t.partials))}(),void 0===t&&r&&(t=r),void 0===t)throw new l.default("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)},i.noop=o;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./utils")),l=function(t){return t&&t.__esModule?t:{default:t}}(t("./exception")),u=t("./base")},{"./base":5,"./exception":8,"./utils":21}],20:[function(t,e,i){"use strict";function n(t){this.string=t}i.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},i.default=n,e.exports=i.default},{}],21:[function(t,e,i){"use strict";function n(t){return r[t]}function o(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}i.__esModule=!0,i.extend=o,i.indexOf=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},i.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return a.test(t)?t.replace(s,n):t},i.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},i.createFrame=function(t){var e=o({},t);return e._parent=t,e},i.blockParams=function(t,e){return t.path=e,t},i.appendContextPath=function(t,e){return(t?t+".":"")+e};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},s=/[&<>"'`=]/g,a=/[&<>"'`=]/,l=Object.prototype.toString;i.toString=l;var u=function(t){return"function"==typeof t};u(/x/)&&(i.isFunction=u=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),i.isFunction=u;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};i.isArray=c},{}],22:[function(t,e,i){e.exports=t("./dist/cjs/handlebars.runtime").default},{"./dist/cjs/handlebars.runtime":4}],23:[function(t,e,i){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){g&&f&&(g=!1,f.length?m=f.concat(m):_=-1,m.length&&l())}function l(){if(!g){var t=r(a);g=!0;for(var e=m.length;e;){for(f=m,m=[];++_<e;)f&&f[_].run();_=-1,e=m.length}f=null,g=!1,s(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var h,d,p=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(t){d=o}}();var f,m=[],g=!1,_=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];m.push(new u(t,e)),1!==m.length||g||r(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],24:[function(t,e,i){var n=".hotspot {\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  width: 1.5em;\n  height: 1.5em;\n  background-color: white;\n  position: absolute;\n}\n.hotspot .tooltiptext {\n  background: #FFFFFF;\n  border-radius: 2px;\n  padding: 7px;\n  font-size: 12px;\n  visibility: hidden;\n  color: black;\n  text-align: left;\n  top: 25px;\n  left: 50%;\n  transform: translateX(-50%);\n  transition: visibility 0s linear 0.4s,opacity 0.4s linear;\n  width: max-content;\n  -webkit-box-shadow: 0 3px 10px 0 rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: 0 3px 10px 0 rgba(0, 0, 0, 0.2);\n  box-shadow: 0 3px 10px 0 rgba(0, 0, 0, 0.2);\n  min-height: 20px;\n  max-width: 150px;\n  overflow: hidden;\n  /* Position the tooltip */\n  position: absolute;\n  z-index: 1;\n}\n.hotspot .tooltiptext.left {\n  transform: translateX(-100%);\n}\n.hotspot .tooltiptext.right {\n  transform: translateX(0%);\n}\n.hotspot .tooltiptext.top {\n  top: -25px;\n}\n.hotspot .tooltiptext p {\n  margin: 0;\n  line-height: 1.2;\n}\n.hotspot .tooltiptext .cta-thumbnail img {\n  width: 100%;\n  margin-bottom: 10px;\n}\n.hotspot .tooltiptext .cta-title {\n  font-family: Lato;\n  font-size: 12px;\n  color: #000000;\n  font-weight: bold;\n  letter-spacing: 0;\n  text-transform: capitalize;\n}\n.hotspot .tooltiptext .cta-text {\n  font-family: Lato;\n  font-size: 12px;\n  color: #000000;\n  letter-spacing: 0;\n  padding: 3px;\n}\n.hotspot .tooltiptext .cta-url {\n  background-color: #282828;\n  border: none;\n  box-shadow: none;\n  color: #ffffff;\n  display: block;\n  font-size: 1.2rem;\n  font-weight: 400;\n  overflow: hidden;\n  padding: 10px 24px;\n  text-overflow: ellipsis;\n  text-transform: uppercase;\n  white-space: nowrap;\n}\n.hotspot .tooltiptext:before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  top: -5px;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-bottom: 5px solid white;\n}\n.hotspot:hover {\n  background: #FFFFFF;\n  border: 3px solid #79b0da;\n  transition-delay: 0.1s;\n  -webkit-transition: opacity 0.1s ease-in;\n  -moz-transition: opacity 0.1s ease-in;\n  -ms-transition: opacity 0.1s ease-in;\n  -o-transition: opacity 0.1s ease-in;\n  transition: opacity 0.1s ease-in;\n}\n.hotspot:hover .tooltiptext {\n  visibility: visible;\n}\n";t("browserify-css").createStyle(n,{href:"public/js/modules/editor/moderation/hotspots/hotspot-item.css"},{insertAt:"bottom"}),e.exports=n},{"browserify-css":2}],25:[function(t,e,i){var n=t("handlebars/runtime").default.template;e.exports=n({1:function(t,e,i,n,o){var r,s,a=null!=e?e:t.nullContext||{},l=i.helperMissing,u=t.escapeExpression;return'                <div class="tooltiptext '+u("function"==typeof(s=null!=(s=i.direction||(null!=e?e.direction:e))?s:l)?s.call(a,{name:"direction",hash:{},data:o}):s)+'">\n                <div class="cta-thumbnail">\n                  <img src="'+u("function"==typeof(s=null!=(s=i.cta_thumbnail||(null!=e?e.cta_thumbnail:e))?s:l)?s.call(a,{name:"cta_thumbnail",hash:{},data:o}):s)+'" />\n                </div>\n                <p class="cta-title">\n                    '+u("function"==typeof(s=null!=(s=i.cta_name||(null!=e?e.cta_name:e))?s:l)?s.call(a,{name:"cta_name",hash:{},data:o}):s)+'\n                </p>\n               <p class="cta-text">\n'+(null!=(r=i.if.call(a,null!=e?e.cta_url:e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o}))?r:"")+(null!=(r=i.unless.call(a,null!=e?e.cta_url:e,{name:"unless",hash:{},fn:t.program(4,o,0),inverse:t.noop,data:o}))?r:"")+"                </p>\n\n                </div>\n\n"},2:function(t,e,i,n,o){var r,s=null!=e?e:t.nullContext||{},a=i.helperMissing,l=t.escapeExpression;return'                 <a class="cta-url" href="'+l("function"==typeof(r=null!=(r=i.cta_url||(null!=e?e.cta_url:e))?r:a)?r.call(s,{name:"cta_url",hash:{},data:o}):r)+'" target="_blank">'+l("function"==typeof(r=null!=(r=i.cta_text||(null!=e?e.cta_text:e))?r:a)?r.call(s,{name:"cta_text",hash:{},data:o}):r)+"</a>\n"},4:function(t,e,i,n,o){var r;return"                  "+t.escapeExpression("function"==typeof(r=null!=(r=i.cta_text||(null!=e?e.cta_text:e))?r:i.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"cta_text",hash:{},data:o}):r)+"\n"},6:function(t,e,i,n,o){return'                            <div class="option-panel">\n                                <i class="fas fa-arrows-alt"></i>\n                                <i class="fas fa-times"></i>\n                            </div>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){var r,s=null!=e?e:t.nullContext||{};return"\n"+(null!=(r=i.unless.call(s,null!=e?e.editing:e,{name:"unless",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?r:"")+"\n"+(null!=(r=i.if.call(s,null!=e?e.editing:e,{name:"if",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o}))?r:"")},useData:!0})},{"handlebars/runtime":22}],26:[function(t,e,i){"use strict";$(function(){var e=new(t("./popup/popupModalView"));$(document.body).append(e.el),viewportUnitsBuggyfill.init(),HM.CompatiblePostMessage.listenTo("bootstrap",function(t){viewportUnitsBuggyfill.refresh(),e.bootstrap(t)}),HM.CompatiblePostMessage.listenTo("show",function(t){var i=t.index,n=t.fromEditMode,o=t.fromPostHighlight;e.show(i,n,o)}),HM.CompatiblePostMessage.listenTo("hide",function(t){e.close($.Event(),!0)}),HM.CompatiblePostMessage.listenTo("postRejected",function(t){e.postRejected(t.post_id)}),HM.CompatiblePostMessage.listenTo("personalizationChanged",function(t){e.updatePersonalizations(t.data)})})},{"./popup/popupModalView":29}],27:[function(t,e,i){var n=t("handlebars/runtime").default.template;e.exports=n({1:function(t,e,i,n,o){var r,s,a=null!=e?e:t.nullContext||{},l=i.helperMissing;return'    <style id="customPopupFont" type="text/css">@font-face {font-family:"'+(null!=(r="function"==typeof(s=null!=(s=i.popup_font||(null!=e?e.popup_font:e))?s:l)?s.call(a,{name:"popup_font",hash:{},data:o}):s)?r:"")+'";src:url("'+(null!=(r="function"==typeof(s=null!=(s=i.popup_font_woff_url||(null!=e?e.popup_font_woff_url:e))?s:l)?s.call(a,{name:"popup_font_woff_url",hash:{},data:o}):s)?r:"")+'") format("woff");}</style>\n'},3:function(t,e,i,n,o){var r,s,a,l="";return s=null!=(s=i.popup_font||(null!=e?e.popup_font:e))?s:i.helperMissing,a={name:"popup_font",hash:{},fn:t.program(4,o,0),inverse:t.noop,data:o},r="function"==typeof s?s.call(null!=e?e:t.nullContext||{},a):s,i.popup_font||(r=i.blockHelperMissing.call(e,r,a)),null!=r&&(l+=r),l},4:function(t,e,i,n,o){var r;return'        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family='+(null!=(r=t.lambda(e,e))?r:"")+':300,400" media="all">\n'},6:function(t,e,i,n,o){return"        font-family: "+t.escapeExpression(t.lambda(e,e))+";\n"},8:function(t,e,i,n,o){return"        color: "+t.escapeExpression(t.lambda(e,e))+"\n"},10:function(t,e,i,n,o){var r=t.lambda,s=t.escapeExpression;return"        ._71n7_title a.external-link {\n            color: "+s(r(e,e))+"\n        }\n        ._71n7_modal_share a.accentColor {\n            color: "+s(r(e,e))+"\n        }\n"},12:function(t,e,i,n,o){return"        .accent-color-hover:hover {\n            color: "+t.escapeExpression(t.lambda(e,e))+"\n        }\n"},14:function(t,e,i,n,o){return"        ._71n7_title a.external-link:hover {\n            color: "+t.escapeExpression(t.lambda(e,e))+"\n        }\n"},16:function(t,e,i,n,o){var r;return"        ._71n7_title .connected-hashtag {\n            color: "+t.escapeExpression("function"==typeof(r=null!=(r=i.inherited_connected_hashtag_highlight_color||(null!=e?e.inherited_connected_hashtag_highlight_color:e))?r:i.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"inherited_connected_hashtag_highlight_color",hash:{},data:o}):r)+"\n        }\n"},18:function(t,e,i,n,o){var r;return"            background-color:"+t.escapeExpression("function"==typeof(r=null!=(r=i.popup_background_color||(null!=e?e.popup_background_color:e))?r:i.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"popup_background_color",hash:{},data:o}):r)+";\n"},20:function(t,e,i,n,o){var r;return"            color:"+t.escapeExpression("function"==typeof(r=null!=(r=i.popup_font_color_body||(null!=e?e.popup_font_color_body:e))?r:i.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"popup_font_color_body",hash:{},data:o}):r)+";\n"},22:function(t,e,i,n,o){var r;return"            background-color:"+t.escapeExpression("function"==typeof(r=null!=(r=i.popup_lightbox_color||(null!=e?e.popup_lightbox_color:e))?r:i.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"popup_lightbox_color",hash:{},data:o}):r)+";\n"},24:function(t,e,i,n,o){var r;return"            color:"+t.escapeExpression("function"==typeof(r=null!=(r=i.popup_font_color_author||(null!=e?e.popup_font_color_author:e))?r:i.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"popup_font_color_author",hash:{},data:o}):r)+";\n"},26:function(t,e,i,n,o){return"            visibility:hidden;\n"},28:function(t,e,i,n,o){var r;return"            color:"+t.escapeExpression("function"==typeof(r=null!=(r=i.popup_font_color_author_username||(null!=e?e.popup_font_color_author_username:e))?r:i.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"popup_font_color_author_username",hash:{},data:o}):r)+";\n"},30:function(t,e,i,n,o){var r;return"        color:"+t.escapeExpression("function"==typeof(r=null!=(r=i.popup_font_color_author_username||(null!=e?e.popup_font_color_author_username:e))?r:i.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"popup_font_color_author_username",hash:{},data:o}):r)+"\n"},32:function(t,e,i,n,o){var r;return"        background-color:"+t.escapeExpression("function"==typeof(r=null!=(r=i.popup_image_background_color||(null!=e?e.popup_image_background_color:e))?r:i.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"popup_image_background_color",hash:{},data:o}):r)+";\n"},34:function(t,e,i,n,o){return"    ._71n7_author_timeago{\n        visibility:hidden;\n    }\n"},36:function(t,e,i,n,o){var r;return"    ._71n7_title .connected-hashtag {\n        color: "+t.escapeExpression("function"==typeof(r=null!=(r=i.popup_font_color_hashtag_highlight||(null!=e?e.popup_font_color_hashtag_highlight:e))?r:i.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"popup_font_color_hashtag_highlight",hash:{},data:o}):r)+"\n    }\n"},38:function(t,e,i,n,o){var r,s=null!=e?e:t.nullContext||{},a=i.helperMissing,l=t.escapeExpression;return"    ._71n7_title a.external-link {\n        color: "+l("function"==typeof(r=null!=(r=i.popup_font_color_link||(null!=e?e.popup_font_color_link:e))?r:a)?r.call(s,{name:"popup_font_color_link",hash:{},data:o}):r)+"\n    }\n    ._71n7_modal_share a.accentColor {\n        color: "+l("function"==typeof(r=null!=(r=i.popup_font_color_link||(null!=e?e.popup_font_color_link:e))?r:a)?r.call(s,{name:"popup_font_color_link",hash:{},data:o}):r)+"\n    }\n"},40:function(t,e,i,n,o){var r,s=null!=e?e:t.nullContext||{},a=i.helperMissing,l=t.escapeExpression;return"    ._71n7_cta_button, ._71n7_cta_button:hover, ._71n7_cta_button:active {\n        background-color: "+l("function"==typeof(r=null!=(r=i.cta_button_color||(null!=e?e.cta_button_color:e))?r:a)?r.call(s,{name:"cta_button_color",hash:{},data:o}):r)+";\n        color: "+l("function"==typeof(r=null!=(r=i.cta_text_color||(null!=e?e.cta_text_color:e))?r:a)?r.call(s,{name:"cta_text_color",hash:{},data:o}):r)+";\n    }\n"},42:function(t,e,i,n,o){return"    ._71n7_cta {\n        display: none !important;\n    }\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){var r,s,a,l=null!=e?e:t.nullContext||{},u=i.helperMissing,c="function",h=i.blockHelperMissing,d=t.escapeExpression,p=(null!=(r=i.if.call(l,null!=e?e.popup_font_woff_url:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(3,o,0),data:o}))?r:"")+'\n<style id="popup-modal-inherited-style-template">\n    ._71n7_title {\n\n';return s=null!=(s=i.inherited_font||(null!=e?e.inherited_font:e))?s:u,a={name:"inherited_font",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o},r=typeof s===c?s.call(l,a):s,i.inherited_font||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="\n",s=null!=(s=i.inherited_font_color||(null!=e?e.inherited_font_color:e))?s:u,a={name:"inherited_font_color",hash:{},fn:t.program(8,o,0),inverse:t.noop,data:o},r=typeof s===c?s.call(l,a):s,i.inherited_font_color||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="\n    }\n",s=null!=(s=i.inherited_accent_color||(null!=e?e.inherited_accent_color:e))?s:u,a={name:"inherited_accent_color",hash:{},fn:t.program(10,o,0),inverse:t.noop,data:o},r=typeof s===c?s.call(l,a):s,i.inherited_accent_color||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="\n",s=null!=(s=i.inherited_accent_color_hover||(null!=e?e.inherited_accent_color_hover:e))?s:u,a={name:"inherited_accent_color_hover",hash:{},fn:t.program(12,o,0),inverse:t.noop,data:o},r=typeof s===c?s.call(l,a):s,i.inherited_accent_color_hover||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="\n",s=null!=(s=i.inherited_accent_color_hover||(null!=e?e.inherited_accent_color_hover:e))?s:u,a={name:"inherited_accent_color_hover",hash:{},fn:t.program(14,o,0),inverse:t.noop,data:o},r=typeof s===c?s.call(l,a):s,i.inherited_accent_color_hover||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="\n",s=null!=(s=i.inherited_connected_hashtag_highlight_color_disabled||(null!=e?e.inherited_connected_hashtag_highlight_color_disabled:e))?s:u,a={name:"inherited_connected_hashtag_highlight_color_disabled",hash:{},fn:t.noop,inverse:t.program(16,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.inherited_connected_hashtag_highlight_color_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="</style>\n\n<style id='popup-modal-style-template'>\n    ._71n7_modal_show ._71n7_modal {\n        transform:scale("+d(typeof(s=null!=(s=i.popup_size_multiplier||(null!=e?e.popup_size_multiplier:e))?s:u)===c?s.call(l,{name:"popup_size_multiplier",hash:{},data:o}):s)+","+d(typeof(s=null!=(s=i.popup_size_multiplier||(null!=e?e.popup_size_multiplier:e))?s:u)===c?s.call(l,{name:"popup_size_multiplier",hash:{},data:o}):s)+");\n    }\n\n    ._71n7_content_holder{\n",s=null!=(s=i.popup_background_color_disabled||(null!=e?e.popup_background_color_disabled:e))?s:u,a={name:"popup_background_color_disabled",hash:{},fn:t.noop,inverse:t.program(18,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_background_color_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="    }\n\n    ._71n7_title{\n",s=null!=(s=i.popup_font_color_body_disabled||(null!=e?e.popup_font_color_body_disabled:e))?s:u,a={name:"popup_font_color_body_disabled",hash:{},fn:t.noop,inverse:t.program(20,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_font_color_body_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="        font-family:"+d(typeof(s=null!=(s=i.popup_font||(null!=e?e.popup_font:e))?s:u)===c?s.call(l,{name:"popup_font",hash:{},data:o}):s)+";\n    }\n\n    ._71n7_title a{\n",s=null!=(s=i.popup_font_color_body_disabled||(null!=e?e.popup_font_color_body_disabled:e))?s:u,a={name:"popup_font_color_body_disabled",hash:{},fn:t.noop,inverse:t.program(20,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_font_color_body_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="    }\n\n    .popup-modal-bg {\n",s=null!=(s=i.popup_lightbox_color_disabled||(null!=e?e.popup_lightbox_color_disabled:e))?s:u,a={name:"popup_lightbox_color_disabled",hash:{},fn:t.noop,inverse:t.program(22,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_lightbox_color_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="    }\n\n    ._71n7_author_name .author_name{\n",s=null!=(s=i.popup_font_color_author_disabled||(null!=e?e.popup_font_color_author_disabled:e))?s:u,a={name:"popup_font_color_author_disabled",hash:{},fn:t.noop,inverse:t.program(24,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_font_color_author_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),s=null!=(s=i.popup_show_author_name||(null!=e?e.popup_show_author_name:e))?s:u,a={name:"popup_show_author_name",hash:{},fn:t.noop,inverse:t.program(26,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_show_author_name||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="\n    }\n    ._71n7_author_name .author_username{\n",s=null!=(s=i.popup_font_color_author_username_disabled||(null!=e?e.popup_font_color_author_username_disabled:e))?s:u,a={name:"popup_font_color_author_username_disabled",hash:{},fn:t.noop,inverse:t.program(28,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_font_color_author_username_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),s=null!=(s=i.popup_show_author_username||(null!=e?e.popup_show_author_username:e))?s:u,a={name:"popup_show_author_username",hash:{},fn:t.noop,inverse:t.program(26,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_show_author_username||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="    }\n\n\n    ._71n7_author_name .author_username{\n",s=null!=(s=i.popup_font_color_author_username_disabled||(null!=e?e.popup_font_color_author_username_disabled:e))?s:u,a={name:"popup_font_color_author_username_disabled",hash:{},fn:t.noop,inverse:t.program(30,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_font_color_author_username_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="    }\n\n    ._71n7_image_holder{\n",s=null!=(s=i.popup_image_background_color_disabled||(null!=e?e.popup_image_background_color_disabled:e))?s:u,a={name:"popup_image_background_color_disabled",hash:{},fn:t.noop,inverse:t.program(32,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_image_background_color_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="    }\n\n\n",s=null!=(s=i.popup_show_timestamp||(null!=e?e.popup_show_timestamp:e))?s:u,a={name:"popup_show_timestamp",hash:{},fn:t.noop,inverse:t.program(34,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_show_timestamp||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="\n",s=null!=(s=i.popup_font_color_hashtag_highlight_disabled||(null!=e?e.popup_font_color_hashtag_highlight_disabled:e))?s:u,a={name:"popup_font_color_hashtag_highlight_disabled",hash:{},fn:t.noop,inverse:t.program(36,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_font_color_hashtag_highlight_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="\n",s=null!=(s=i.popup_font_color_link_disabled||(null!=e?e.popup_font_color_link_disabled:e))?s:u,a={name:"popup_font_color_link_disabled",hash:{},fn:t.noop,inverse:t.program(38,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.popup_font_color_link_disabled||(r=h.call(e,r,a)),null!=r&&(p+=r),p+="\n",s=null!=(s=i.cta_button_show_popup||(null!=e?e.cta_button_show_popup:e))?s:u,a={name:"cta_button_show_popup",hash:{},fn:t.program(40,o,0),inverse:t.noop,data:o},r=typeof s===c?s.call(l,a):s,i.cta_button_show_popup||(r=h.call(e,r,a)),null!=r&&(p+=r),s=null!=(s=i.cta_button_show_popup||(null!=e?e.cta_button_show_popup:e))?s:u,a={name:"cta_button_show_popup",hash:{},fn:t.noop,inverse:t.program(42,o,0),data:o},r=typeof s===c?s.call(l,a):s,i.cta_button_show_popup||(r=h.call(e,r,a)),null!=r&&(p+=r),p+"\n</style>\n\n<style id='popup-modal-style-custom-css'>\n    "+(null!=(r=typeof(s=null!=(s=i.popup_custom_css||(null!=e?e.popup_custom_css:e))?s:u)===c?s.call(l,{name:"popup_custom_css",hash:{},data:o}):s)?r:"")+"\n</style>\n"},useData:!0})},{"handlebars/runtime":22}],28:[function(t,e,i){"use strict";e.exports=Backbone.View.extend({template:t("./popupModalStyle.handlebars"),profileData:{},initialize:function(){},update:function(t,e){var i=this;switch(_.extend(this.profileData,t),["popup_show_author_name","popup_show_author_username","popup_show_timestamp"].forEach(function(t){i.profileData[t]=void 0===i.profileData[t]||!!i.profileData[t]}),this.profileData.popup_size_multiplier=1,this.profileData.popup_size){case"small":this.profileData.popup_size_multiplier="0.9";break;case"normal":this.profileData.popup_size_multiplier="1.0";break;case"large":this.profileData.popup_size_multiplier="1.1"}switch(this.profileData.cta_button_show){case"both":case"popup":this.profileData.cta_button_show_popup=!0;break;case"post":this.profileData.cta_button_show_popup=!1;break;default:this.profileData.cta_button_show_popup=!0}this.profileData.inherited_accent_color=this.ignore_accent_color(e.get("color_namebar_buttons"))?"#000000":e.get("color_namebar_buttons"),this.profileData.inherited_accent_color_hover=HM.PersonalizedThemeStylesheet.hexToRGB(this.profileData.inherited_accent_color,-40,1),this.profileData.inherited_font_color=this.profileData.font_secondary,this.profileData.inherited_font=this.profileData.font_secondary,this.profileData.inherited_connected_hashtag_highlight_color=this.profileData.connected_hashtag_highlight_color,this.profileData.inherited_connected_hashtag_highlight_color_disabled=this.profileData.connected_hashtag_highlight_color_disabled,this.profileData.popup_custom_css=e.get("popup_custom_css")},ignore_accent_color:function(t){return!t||(t=t.toString().replace("#",""),(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3>230)},render:function(){this.$el.html(this.template(this.profileData))}})},{"./popupModalStyle.handlebars":27}],29:[function(t,e,i){"use strict";var n=t("./popupModalStyleView.js"),o=t("../utils/accessibility");e.exports=Backbone.View.extend({template:"popupModalTemplate",RIGHT_KEY:39,LEFT_KEY:37,ESCAPE_KEY:27,HIDE_TRANSITION_TIME:300,initialize:function(e){var i=this;$(window).on("keyup",function(t){t.which==i.RIGHT_KEY?i.cyclePostsRight(t):t.which==i.LEFT_KEY?i.cyclePostsLeft(t):t.which==i.ESCAPE_KEY&&i.close(t)}),this.initialized=!1,this.HotspotItem=t("./editor/moderation/hotspots/hotspot-item"),this.extraAssetCacheParameters={}},bootstrap:function(t){HM.bootstrap={profile:t.profile},HM.hypeHelper.onEditor=function(){return t.onEditor},this.posts=t.posts,this.profile=new Backbone.Model(t.profile),this.loadPersonalizations()},show:function(e,i,n){function o(e){var i,n,o=t("./editor/moderation/hotspots/hotspot-collection");if(e.hotspots=new o,e.ctas=[],e.cta.length>0)_.each(e.cta,function(t){t=JSON.parse(t);var i={};i.cta_url=t.url,i.cta_text=t.text,i.cta_icon=t.icon,i.cta_name=t.name,i.cta_display="inherit",i.cta_thumbnail=t.thumbnail,i.cta_id=t.id;var n=_.findWhere(t.ctas_lookup,{associated_id:parseInt(e.post_id.split("_")[1]),cta_id:t.id});n&&(i.cta_lookup_id=n.id,i.hotspots=new o(n.hotspots.map(function(t){return _.extend(t,i)})),i.hotspots.models&&e.hotspots.add(i.hotspots.models)),e.ctas.push(i)}),i=e.ctas[e.ctas.length-1];else{try{n=JSON.parse(e.cta)}catch(t){n={}}_.isEmpty(n)&&(i=HM.hypeHelper.loadCtaMetaData(s.profile.toJSON(),{social_feed_id:e.social_feed_id}))}return i}var r=this.posts[e],s=this;this.index=e,this.preload(this.posts[this.index+1]),this.preload(this.posts[this.index-1]),_.isUndefined(i)||(this.editMode=i),this.fromPostHighlight=n,this.post=new HM.Hype(r),this.postJSON=function(t){var e=o(t);return _.extend({},t,{image:s.imageForPost(t),timeago:t.timeago,fburl:"http://www.facebook.com/sharer.php?u="+encodeURIComponent(t.url)+"&t="+encodeURIComponent(t.title),twurl:"https://twitter.com/intent/tweet?url="+encodeURIComponent(t.url)+"&text="+encodeURIComponent(t.title),emailurl:"mailto:?subject="+encodeURIComponent("Check out this link I found!")+"&body="+encodeURIComponent(t.url+" via "+window.location.href),cta:e,has_cta:t.ctas&&t.ctas.length>0,is_twitter:parseInt(t.source,10)===HM.Hype.SOURCES.TWITTER,embed:HM.hypeHelper.isEmbeddableVideo(t),rtl:t.language&&["ar","arc","dv","far","ha","he","khw","ks","ku","ps","ur","yi"].indexOf(t.language)>-1,acct_image:t.acct_image.indexOf("d33w9bm0n1egwm.cloudfront.net")>=0?"":t.acct_image,hotspot_enabled:s.profile.get("enabled").hotspots})}(r),this.render()},updatePersonalizations:function(t){"popup_custom_css"in(t=t||{})?(this.profile.set(t),this.data={}):this.embedDisplayProfile=_.extend({},this.embedDisplayProfile,t),this.styleView&&(this.styleView.update(t,this.profile),this.styleView.render())},loadPersonalizations:function(){var t;try{t=$.parseJSON(this.profile.get("embed_display_profile"))||{}}catch(e){t={}}this.embedDisplayProfile=t;try{var e=t.time_language||"en";$.timeago.settings.strings=$.timeago.settings.locales[e]}catch(t){console.error&&console.error(t)}this.initialized||(this.fakeSettingsModel=new Backbone.Model(t),HM.PersonalizedThemeStylesheet.loadFont(this.profile,{"data-viewport-units-buggyfill":"ignore"}),this.initialized=!0),this.extraAssetCacheParameters=t.image_effect&&"none"!==t.image_effect?{e:t.image_effect}:{}},postRejected:function(t){if(!_.isEmpty(this.posts)){var e=this.posts[this.index],i=_.filter(this.posts,function(e){return e.post_id!=t});this.posts=i,e&&e.post_id==t&&this.close($.Event(),!0)}},serializeData:function(){var t=this.initializeShareTooltip().$el,e=this.profile.get("enabled");return _.extend(this.postJSON,{is_display_theme:this.profile.get("hideControls"),font_secondary:this.profile.get("font_secondary"),shareTooltip:t.html(),powered_by_tint:e&&e.powered_by_tint_logo_popup,show_author:!!this.profile.get("show_author"),edit_mode:!!this.editMode,accessibility:{modal:o.modal(this.postJSON),post:o.post(this.postJSON)}})},render:function(){var t=this;return HM.TemplateManager.get(this.template,function(e){$(t.el).html(Mustache.render(e,t.serializeData())),HM.ShareTooltipView.mount(t.$(".post-share-open"),t.$(".share-options-menu").html()),t.$("img._71n7_image").on("error",_.bind(t.makeTextOnly,t)),t.$("img._71n7_author_image").on("error",_.bind(t.authorImageFallback,t)),t.applyTextSizing(),t.styleView=new n({el:t.$("#popupModalStyleContainer")}),t.styleView.update(t.embedDisplayProfile,t.profile),t.styleView.render(),t.createEmbed(),setTimeout(function(){t.$el.addClass("_71n7_modal_show")},0),setTimeout(function(){t.$("._71n7_modal_close a").focus(),t.$("#_71n7_description").text(o.modal(t.postJSON).post)},300)}),this.$("._71n7_title a").click(function(t){t.stopPropagation()}),$(".cta-holder").flickity({pageDots:!1,cellAlign:"left",contain:!0,prevNextButtons:this.profile.get("enabled").hotspots}),this.postJSON.hotspots.each(function(e){var i=new t.HotspotItem({post:t.post,model:t.postJSON,hotspot:e,user:t.user});t.$("._71n7_image_holder").append(i.el),i.render()}),this},createEmbed:function(){this.embed&&this.embed.dispose();var t={};t=this.fromPostHighlight?{muteVideo:this.fakeSettingsModel.get("highlightMuteVideo"),playback:"dont-autoplay"!==this.fakeSettingsModel.get("highlightVideoPlayback")?"automatic":"none"}:{playback:"automatic"},this.embed=HM.hypeHelper.generateEmbed(this.posts[this.index],t),this.embed&&(this.$("._71n7_image_holder").html(this.embed.render().el),this.embed.on("all",function(t){HM.CompatiblePostMessage.trigger(window.parent,"_71n7_modal_player_event",{event:t})}))},applyTextSizing:function(){new HM.PostModalTextResizer(this.$("._71n7_title"),this.postJSON.modified_title).execute()},initializeShareTooltip:function(){return new HM.ShareTooltipView({model:this.postJSON,offset:this.postJSON,settings:this.fakeSettingsModel}).render()},close:function(t,e){t.preventDefault();var i=this;!e&&this.editMode||(this.$el.removeClass("_71n7_modal_show"),setTimeout(function(){HM.CompatiblePostMessage.trigger(window.parent,"_71n7_modal_close"),i.$el.empty()},this.HIDE_TRANSITION_TIME))},goToHotspot:function(t){this.goToCTA(t)},goToCTA:function(t){$(t.currentTarget).hasClass("flickity-prev-next-button")||(t.preventDefault(),HM.hypeHelper.sendCTAClickthroughToAnalytics(this.post),this.postJSON.cta&&this.postJSON.cta.cta_url&&window.open(this.postJSON.cta.cta_url,"_blank"))},goToLink:function(t){t.preventDefault(),HM.hypeHelper.sendClickthroughToAnalytics(this.post),this.postJSON.modified_url&&window.open(this.postJSON.modified_url,"_blank")},makeTextOnly:function(){this.$("._71n7_image_holder").remove(),this.$("._71n7_content_holder").addClass("_71n7_content_holder_text_only"),this.applyTextSizing()},cyclePostsRight:function(t){t.preventDefault();var e=(this.index+1)%this.posts.length;this.show(e)},cyclePostsLeft:function(t){t.preventDefault();var e=0===this.index?this.posts.length-1:this.index-1;this.show(e)},preload:function(t){t&&t.original_image&&((new Image).src=this.imageForPost(t)),t&&t.acct_image&&((new Image).src=HM.AssetCache.fetch(t.acct_image,this.extraAssetCacheParameters))},imageForPost:function(t){return HM.AssetCache.fetch(t.image,_.extend({w:1e3,h:1e3,c:"limit",f:"auto",fl:"lossy"},this.extraAssetCacheParameters))},authorImageFallback:function(){this.$("img._71n7_author_image").attr("src","https://cdn.hypemarks.com/assets/analytics/EmptyProfile.png")},wrapDialogTabFocus:function(t){t.preventDefault(),this.$($(t.target).data("return")).focus()},setCtaIndex:function(t,e){this.$(".hotspot").removeClass("glow");var i=this.postJSON.ctas[$(t.target).data("flickity").selectedIndex].cta_id;this.$('.hotspot[data-cta-id="'+i+'"]').addClass("glow")},events:{"focusin .screenreader-focus-guard":"wrapDialogTabFocus","click ._71n7_modal_close, .popup-modal-bg":"close","click ._71n7_modal_right":"cyclePostsRight","click ._71n7_modal_left":"cyclePostsLeft","click ._71n7_cta button":"goToCTA","click ._71n7_title":"goToLink","click .hotspot":"goToHotspot","settle.flickity .cta-holder":"setCtaIndex"}})},{"../utils/accessibility":"./utils/accessibility","./editor/moderation/hotspots/hotspot-collection":"./editor/moderation/hotspots/hotspot-collection","./editor/moderation/hotspots/hotspot-item":"./editor/moderation/hotspots/hotspot-item","./popupModalStyleView.js":28}],30:[function(t,e,i){"use strict";var n=function(t){var e=$(t).offset().top,i=e+$(t).outerHeight(),n=$(window).scrollTop(),o=n+$(window).height();return i>n&&e<o},o={initializeVideo:function(){},getAttributes:function(t){return{}},play:function(){},pause:function(){},disposeVideo:function(){}};e.exports=Backbone.View.extend(_.extend({initialize:function(t){var e=t.embedData,i=t.options;this.options=i,this.embedData=e,this.post=this.embedData.postJSON,this.listenTo(this,"ready",this.scrolled,this),$(this.el).on("mouseenter.".concat(this.id),this.hovered.bind(this)),$(window).on("scroll.".concat(this.id),_.debounce(this.scrolled.bind(this),250).bind(this)),this.options.introspect&&(this.intervalID=setInterval(this.scrolled.bind(this),1e3)),this.initializeVideo()},attributes:function(t){this.id=this.id||_.uniqueId("VideoView");var e={id:this.id};return t?_.extend(e,this.getAttributes(t)):e},render:function(){var t=this.serializeData();return this.$el.attr(this.getAttributes(t)),this.template&&this.$el.html(this.template(t)),this},hovered:function(){"hover"===this.options.playback&&this.play()},scrolled:function(){if("automatic"===this.options.playback){var t=n(this.el);t?this.play():t||(this.pause(),this.options.introspect&&(clearInterval(this.intervalID),this.intervalID=setInterval(this.scrolled.bind(this),3e3)))}},dispose:function(){$(this.el).off(".".concat(this.id)),$(window).off(".".concat(this.id)),clearInterval(this.intervalID),this.disposeVideo(),this.stopListening()}},o))},{}],31:[function(t,e,i){"use strict";var n=t("./base-video-view").extend({initializeVideo:function(){var t=this,e="automatic"===this.options.playback,i=this.options,o=i.muteVideo,r=i.loop;this.url=this.embedData.embed.url,n.initializeFacebookAPI(),n.ready.then(function(){FB.Event.subscribe("xfbml.ready",function(i){"video"===i.type&&i.id===t.id&&(t.player=i.instance,t.trigger("ready"),t[e?"play":"pause"](),t.player[o?"mute":"unmute"](),t.player.subscribe("error",function(){t.trigger("error")}),t.player.subscribe("startedPlaying",function(){t.trigger("play")}),t.player.subscribe("finishedPlaying",function(){t.trigger("ended"),r&&t.play()}))}),FB.Event.subscribe("xfbml.resize",function(){t.trigger("resize")})})},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},render:function(){return this.$el.attr({class:"fb-video","data-href":this.url,"data-allowfullscreen":!0,id:this.id}),n.ready.then(function(){setTimeout(function(){FB.XFBML.parse()},1)}),this}},{ready:$.Deferred(),requested:!1,initializeFacebookAPI:function(){var t=this,e=function(){t.ready.resolve(),FB.XFBML.parse()};this.requested||(window.fbAsyncInit?(window.conflictingfbAsyncInit=window.fbAsyncInit,window.fbAsyncInit=function(){e(),window.conflictingfbAsyncInit()}):window.fbAsyncInit=function(){e()},function(){var e,i=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||((e=document.createElement("script")).id="facebook-jssdk",e.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10",i.parentNode.insertBefore(e,i),t.requested=!0)}())}});e.exports=n},{"./base-video-view":30}],32:[function(t,e,i){"use strict";var n=t("./base-video-view").extend({tagName:"video",getAttributes:function(t){var e={width:"100%",poster:this.post.image,controls:this.options.controls,loop:this.options.loop};return t.autoplay&&(e.autoplay="",e.playsinline=""),t.muteVideo&&(e.muted="",e.oncanplay="this.muted=true"),e},events:function(){return{loadstart:this.mediaEventCallback("ready"),error:this.mediaEventCallback("error"),play:this.mediaEventCallback("play"),ended:this.mediaEventCallback("ended")}},mediaEventCallback:function(t){var e=this;return function(i){i.target.id===e.id&&e.trigger(t)}},play:function(){var t=this,e=this.el.play();null!==e&&e.catch(function(e){window.setTimeout(function(){t.el.play().catch(function(e){t.trigger("error")})},100)})},pause:function(){var t=this,e=this.el.pause();null!==e&&e.catch(function(e){t.el.pause().catch(function(e){t.trigger("error")})})},serializeData:function(){var t=this.post.post_id;return{url:this.embedData.url,id:t,autoplay:"automatic"===this.options.playback,muteVideo:this.options.muteVideo}},render:function(){n.__super__.render.apply(this,arguments);var t=this,e=$("<source />").attr("type","video/mp4").attr("src",this.embedData.url).on("error",function(){t.trigger("error")});return this.$el.append(e),this}});e.exports=n},{"./base-video-view":30}],33:[function(t,e,i){"use strict";var n=t("./base-video-view").extend({tagName:"iframe",getAttributes:function(t){return{src:"https://player.vimeo.com/video/".concat(t.vimeoid,"?autoplay=").concat(t.autoplay,"&autopause=0&loop=").concat(t.loop),width:"100%",frameborder:0,webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0}},render:function(){var e=this;this.$el.attr(this.getAttributes(this.serializeData()));var i="undefined"!=typeof __karma__?function(){this.on=function(){}}:t("@vimeo/player");return this.player=new i(this.el),this.player.on("loaded",function(){e.trigger("ready"),e.player.setVolume(e.options.muteVideo?0:1)}),this.player.on("play",function(){e.trigger("play")}),this.player.on("ended",function(){e.trigger("ended")}),this.player.on("error",function(){e.trigger("error")}),this},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},serializeData:function(){return{vimeoid:this.embedData.vimeoMatches[this.embedData.vimeoMatches.length-1],autoplay:"automatic"===this.options.playback?"1":"0",loop:this.options.loop?1:0}}});e.exports=n},{"./base-video-view":30,"@vimeo/player":1}],34:[function(t,e,i){"use strict";var n=t("./base-video-view").extend({tagName:"iframe",getAttributes:function(t){if(t)return{src:"https://vine.co/v/".concat(t.id,"/card?audio=").concat(t.audio,"&autoplay=").concat(t.autoplay,'"'),width:"100%",frameborder:"0"}},serializeData:function(){return{id:/vine\.co\/v\/.+/.exec(this.post.url)[0].split("?")[0].split("/")[2],audio:this.options.muteVideo?0:1,autoplay:"automatic"===this.options.playback?1:0}},events:{error:function(){this.trigger("error")},load:function(){var t=this;this.trigger("ready"),this.trigger("play"),setTimeout(function(){t.trigger("ended")},13e3)}}});e.exports=n},{"./base-video-view":30}],35:[function(t,e,i){"use strict";var n=t("./base-video-view").extend({initializeVideo:function(){var t=this;this.embed=new HM.yt.Embed(this.id,{onReady:this.onReady.bind(this),onEnd:this.onEnd.bind(this),mute:!!this.options.muteVideo,events:{onStateChange:function(e){e.data===YT.PlayerState.ENDED&&t.onEnd()}}})},tagName:"iframe",getAttributes:function(t){return{title:"YouTube video player",class:"youtube-player",type:"text/html",width:"100%",src:"https://www.youtube.com/embed/".concat(t.id,"?enablejsapi=1&autoplay=").concat(t.autoplay,"&rel=0&showinfo=0&controls=").concat(t.controls,"&loop=").concat(t.loop,"&playlist=").concat(t.id),frameborder:0,allowFullScreen:!0}},serializeData:function(){return{id:this.embedData.youtubeMatches[1]||this.embedData.youtubeMatches[2],autoplay:"automatic"===this.options.playback?1:0,controls:this.options.controls?1:0,loop:this.options.loop?1:0}},onReady:function(){this.trigger("ready")},onEnd:function(){this.trigger("ended")},play:function(){this.embed&&this.embed.player&&this.embed.player.playVideo&&this.embed.player.playVideo()},pause:function(){this.embed&&this.embed.player&&this.embed.player.stopVideo&&this.embed.player.stopVideo()},disposeVideo:function(){if(this.embed&&this.embed.player)try{this.embed.player.stopVideo(),this.embed.player.destroy()}catch(t){}}});e.exports=n},{"./base-video-view":30}]},{},[26]),function(t){var e=/(\s*\S+|\s)$/;t.truncate=function(e,i){return t("<div></div>").append(e).truncate(i).html()},t.fn.truncate=function(i){t.isNumeric(i)&&(i={length:i});var n=t.extend({},t.truncate.defaults,i);return this.each(function(){var i=t(this);n.noBreaks&&i.find("br").replaceWith(" ");var o=i.text(),r=o.length-n.length;n.stripTags&&i.text(o),n.words&&r>0&&(r=o.length-o.slice(0,n.length).replace(e,"").length-1),r<0||!r&&!n.truncated||t.each(i.contents().get().reverse(),function(e,i){var o=t(i),s=o.text().length;return s<=r?(n.truncated=!0,r-=s,void o.remove()):3===i.nodeType?(t(i.splitText(s-r-1)).replaceWith(n.ellipsis),!1):(o.truncate(t.extend(n,{length:s-r})),!1)})})},t.truncate.defaults={stripTags:!1,words:!1,noBreaks:!1,length:1/0,ellipsis:"…"}}(jQuery),void 0===HM)var HM={};HM.TemplateManager={templates:{},mustacheTemplates:{},get:function(t,e){t=t.replace(/[^A-Za-z0-9_-]/g,"");var i=this.templates[t];if(i&&i.promise)i.done(e);else if(i)e(i);else{var n=$("#"+t);if(1===n.length){var o=n.html();this.templates[t]=o,e(o)}else{var r=this,s=$.Deferred();this.templates[t]=s,$.get("/templates/"+t).done(function(i){r.templates[t]=i,e(i),s.resolve(i)}).fail(function(){console.log("something went wrong getting the template")})}}}},HM.padzero=function(t){return t<10?"0"+t:t},HM.pad2zeros=function(t){return t<100&&(t="0"+t),t<10&&(t="0"+t),t},HM.toISOString=function(t){return t.getUTCFullYear()+"-"+HM.padzero(t.getUTCMonth()+1)+"-"+HM.padzero(t.getUTCDate())+"T"+HM.padzero(t.getUTCHours())+":"+HM.padzero(t.getUTCMinutes())+":"+HM.padzero(t.getUTCSeconds())+"."+HM.pad2zeros(t.getUTCMilliseconds())+"Z"},HM.fnToISO=function(){var t=new Date;alert(HM.toISOString(t))},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n?this:t||window,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o}),HM.logError=function(t){console.log(t.toString()+" "+t.lineNumber+" "+t.fileName+" "+t.stack)},HM.getParameter=function(t,e){try{void 0===e&&(e=window.location.href);var i,n,o=e.split("?")[1].split("&");for(i=0;i<o.length;i++)if((n=o[i].split("="))[0]==t)return unescape(n[1]);return null}catch(t){return null}},HM.filepickerClient=null,HM.filepicker=function(){return HM.filepickerClient||"undefined"==typeof filestack||(HM.filepickerClient=filestack.init(HM.inkfilepickerKey)),HM.filepickerClient},HM.isSocialIcon=function(t){return-1!=["fa-twitter","fa-instagram","fa-facebook","fa-facebook-f","fa-youtube","fa-pinterest","fa-linkedin","fa-linkedin-in","fa-yelp","fa-tumblr","fa-google-plus","fa-google-plus-g","fa-flickr","fa-reddit","fa-reddit-alien","fa-slack","fa-slack-hash","fa-weixin"].indexOf(t)},HM.rgb2hex=function(t,e,i){function n(t){var e=t.toString(16);return 1==e.length?"0"+e:e}return"#"+n(t)+n(e)+n(i)},HM.toHHMMSS=function(t){var e=parseInt(t,10),i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),t=e-3600*i-60*n;return i<10&&(i="0"+i),n<10&&(n="0"+n),t<10&&(t="0"+t),i+":"+n+":"+t},HM.getWindow=function(){return window},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"dev"===HM.env||"test"===HM.env||"demo"===HM.env||HM.getParameter("log",window.location.href)||(console={},console.log=console.error=console.warn=function(){}),HM.fixedEncodeURIComponent=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,escape)},HM.singlePageViewUrls=/youtube|vimeo|instagram|soundcloud|flickr|slideshare/,HM.savedFilters=[],$.ajaxSetup({xhrFields:{withCredentials:!0},headers:{"X-Requested-With":"XMLHttpRequest"}}),Backbone.View=function(t){return t.extend({constructor:function(e){this.options=e||{},t.apply(this,arguments)}})}(Backbone.View),HM.Media={Processing:{_parse:function(t){if(!t)return!1;var e=t.match(/^https?:\/\/(?:cdn\.filestackcontent|process\.filestackapi)\.com\/[^/]+\/((?:(?:[a-z_]+(?:=[^/]+)?)\/)*)?(.+)/i);return!!e&&(e[1]||(e[1]=""),e[2].indexOf("b64://")>-1&&(e[2]=atob(e[2].split("b64://")[1])),{tasks:_.object(_(_.compact(e[1].split("/"))).map(function(t){return t=t.split("=",2),[t[0],!t[1]||_.object(_(t[1].split(",")).map(function(t){return t.split(":")}))]})),url:e[2]})},_removeEmpty:function(t){var e=this;return Object.keys(t).forEach(function(i){t[i]&&"object"==typeof t[i]?(e._removeEmpty(t[i]),0===Object.keys(t[i]).length&&delete t[i]):""!==t[i]&&null!==t[i]||delete t[i]}),t},transform:function(t,e){(e=e||{}).compress=!0;var i=this._parse(t);i&&(e=$.extend(!0,i.tasks,e),t=i.url),e.resize&&(e.resize.height&&(e.resize.height=parseInt(e.resize.height)),e.resize.width&&(e.resize.width=parseInt(e.resize.width)));try{return HM.filepicker().transform(t,this._removeEmpty(e),!0).replace("process.filestackapi.com","cdn.filestackcontent.com")}catch(e){return t}}}},HM.AssetCache={_parse:function(t){if(!t)return!1;var e=t.match(/^(https?:\/\/asset-cache-\d+.hypemarks.com\/image\/(?:[^/]+))\/(?:((?:[a-z]+_[^,/]+,?)*)\/)?([^?#]+)/i);return!!e&&{base:e[1].replace(/^http:/,"https:").replace(/_name\/$/,""),transformations:e[2]?_.object(_(e[2].split(",")).map(function(t){return t.split("_",2)})):[],uri:e[3]}},fetch:function(t,e){if(!t)return"";if(e=e||{},t.match(/^https?:\/\/(?:cdn\.filestackcontent|process\.filestackapi)\.com\//)){var i={};if(("w"in e||"h"in e||"c"in e)&&(i.resize=i.resize||{},"w"in e&&(i.resize.width=parseInt(e.w)||null),"h"in e&&(i.resize.height=parseInt(e.h)||null),"c"in e&&(i.resize.fit="fill"==e.c?"crop":null)),"e"in e)switch(e.e){case"sepia":i.sepia=!0;break;case"grayscale":i.monochrome=!0;break;case"negate":i.negative=!0}return HM.Media.Processing.transform(t,i)}var n=this._parse(t);return n?n.transformations=_(n.transformations).extend(e):n={base:"https://asset-cache-"+(Math.floor(6*Math.random())+1)+".hypemarks.com/image/fetch",transformations:e,uri:encodeURI(t)},_.compact([n.base,_.map(_.pairs(_(n.transformations).pick(_.identity)),function(t){return t.join("_")}).join(","),n.uri]).join("/")}},function(t){function e(t,e){var i=t.find("> span");this.execute=function(){this.resizeText(t,i)!=n&&this.truncateText(t,i,e)}}function i(t){return Math.max(t.outerHeight(),t.get(0)&&t.get(0).scrollHeight)}var n=1,o=["normal","smaller","small"];e.prototype.maxHeight=function(t){var e=t.css("max-height"),i=t.css("padding-top"),n=t.css("padding-bottom");return/vw/.test(e)?e=parseFloat(e,10)/100*$(window).width():/vh/.test(e)&&(e=parseFloat(e,10)/100*$(window).height()),/vw/.test(i)?i=parseFloat(i,10)/100*$(window).width():/vh/.test(i)&&(i=parseFloat(i,10)/100*$(window).height()),/vw/.test(n)?n=parseFloat(n||0,10)/100*$(window).width():/vh/.test(n)&&(n=parseFloat(n||0,10)/100*$(window).height()),parseInt(e,10)-parseInt(i,10)-parseInt(n||0,10)+1},e.prototype.resizeText=function(t,e){for(var r=0;r<o.length;r++)if(t.removeClass("font-size-"+o[r-1]),t.addClass("font-size-"+o[r]),i(e)<=this.maxHeight(t))return n;return 2},e.prototype.truncateText=function(t,e,n){e.html(n);for(var o=$.trim(e.text()).length,r=0;i(e)>this.maxHeight(t)&&"…"!==$.trim(e.text())&&r<200;)r++,e.html($.truncate(e.html(),{length:o-3,noBreaks:!0,words:!0})),o=$.trim(e.text()).length},t.HM.PostModalTextResizer=e}(window),(HM=void 0===HM?{}:HM).CompatiblePostMessage=function(){function t(t){try{return JSON.parse(t),!0}catch(t){return!1}}function e(t,e){var i=void 0===window.addEventListener?"attachEvent":"addEventListener";window[i](t,e,!1)}function i(t,e){var i=void 0===window.removeEventListener?"detachEvent":"removeEventListener";window[i](t,e,!1)}return{listenTo:function(i,n){var o=function(e){if(t(e.data)){var o=JSON.parse(e.data);o.message==i&&n(o,e)}};return e("message",o),o},stopListeningTo:function(t){i("message",t)},trigger:function(t,e,i){(i=i||{}).message=e,t.postMessage(JSON.stringify(i),"*")}}}(),"object"!=typeof HM?HM={hypeHelper:{}}:"object"==typeof HM&&"object"!=typeof HM.hypeHelper&&(HM.hypeHelper={}),function(t){var e={accountNames:["facebook_accounts","twitter_accounts","instagram_accounts","youtube_accounts","pinterest_accounts","rss_accounts","googleplus_accounts","linkedin_accounts","vine_accounts","tumblr_accounts","flickr_accounts","google_news_accounts","wechat_accounts","hootsuite_accounts","public_post_accounts","slack_accounts","spark_accounts","sms_accounts","review_trackers_accounts","instagram_business_accounts"],LIVE_VIEWERS_THRESHOLD:200,findLoadingState:function(t){if(void 0!==HM.bootstrap&&void 0!==HM.bootstrap.profile&&void 0!==HM.bootstrap.profile.facebook_accounts){for(var e=!1,i=!0,n=!0,o=0;o<this.accountNames.length;o++){var r=this.accountNames[o];if(void 0!==HM.bootstrap.profile[r])for(var s=0;s<HM.bootstrap.profile[r].length;s++){i=!1;var a=HM.bootstrap.profile[r][s].last_crawled;void 0!==a&&0===parseInt(a,10)&&(e=!0),HM.bootstrap.profile[r][s].is_ugc||(n=!1)}}return t&&t.where({social_id:"custom"}).length>0&&(i=!1),{noAccounts:i,stillLoading:e,hasOnlyUgc:HM.enabled&&HM.enabled.privateUgc&&n}}return{noAccounts:!0,stillLoading:!1}},getConnectedHashtags:function(){var t=[];if(void 0!==HM.bootstrap&&void 0!==HM.bootstrap.profile&&void 0!==HM.bootstrap.profile.facebook_accounts)for(var e=0;e<this.accountNames.length;e++){var i=this.accountNames[e];if(void 0!==HM.bootstrap.profile[i])for(var n=0;n<HM.bootstrap.profile[i].length;n++)if(HM.bootstrap.profile[i][n].hashtag||1===HM.bootstrap.profile[i][n].types){var o=HM.bootstrap.profile[i][n].label;o="#"===o[0]?o:"#"+o,t.push(o)}}return _.uniq(t)},normalizeColor:function(t){return t&&t.match(/^([A-Fa-z0-9]{3}){1,2}$/)&&(t="#"+t),t},disableLivePolling:function(){if(!HM.enabled.disableNewPostFetchForBusyTint)return!1;var t=HM.getUser().user.get("live_viewers")&&(HM.getUser().user.get("live_viewers").subscription_count||0);return t>this.LIVE_VIEWERS_THRESHOLD&&analytics.keen_track("feed-fetch-disabled-on-pusher",{tint_id:HM.getUser().user.get("id"),viewers:t}),t>this.LIVE_VIEWERS_THRESHOLD},loadCtaMetaData:function(t,e){var i=require("./editor/moderation/hotspots/hotspot-collection");if(e.hotspots=new i,!e.hasOwnProperty("cta")||_.isEmpty(e.cta))if(""!==t.embed_display_profile||!1!==t.embed_display_profile){try{cta=JSON.parse(t.embed_display_profile).cta}catch(t){}if("undefined"==typeof cta||_.isEmpty(cta))return e.cta_display="none",e;if(!cta.feeds||-1===cta.feeds.indexOf(""+e.social_feed_id))return e.cta_display="none",e;e.cta_url=cta.url,e.cta_text=cta.text,e.cta_icon=cta.icon,e.cta_name=cta.name,e.cta_display="inherit"}else e.cta_display="none";else if(_.isEmpty(e.cta))e.cta_display="none";else try{var n=e.cta;e.ctas=[],_.each(n,function(t){t=JSON.parse(t),item={},item.cta_url=t.url,item.cta_text=t.text,item.cta_icon=t.icon,item.cta_display="inherit",item.cta_thumbnail=t.thumbnail,item.cta_name=t.name,item.cta_id=t.id;var n=_.find(t.ctas_lookup,{associated_id:parseInt(e.post_id.split("_")[1]),cta_id:t.id});n&&(item.cta_lookup_id=n.id,item.hotspots=new i(n.hotspots.map(function(t){return _.extend(t,item)})),item.hotspots.models&&e.hotspots.add(item.hotspots.models)),e.ctas.push(item)});var o=e.ctas[e.ctas.length-1];e.cta_url=o.cta_url,e.cta_text=o.cta_text,e.cta_icon=o.cta_icon,e.cta_display="inherit",e.cta_thumbnail=o.cta_thumbnail,e.cta_name=o.name,e.cta_id=o.cta_id;var r=_.find(o.ctas_lookup,{associated_id:parseInt(e.post_id.split("_")[1]),cta_id:o.cta_id})||{};e.cta_lookup_id=r.id}catch(t){console.log("CTA was malformed.")}if(e.cta_url){var s=HM.getParameter("cta_append");if(s){s=s.replace(/^[?&]/,"");var a=/[?]/.test(e.cta_url)?"&":"?";e.cta_url+=a+s}}return e.has_cta="none"!==e.cta_display,e},addUtmCodes:function(t){return"campaign source medium content term".split(" ").forEach(function(e){var i=HM.getParameter("utm_"+e);i&&(t[e]=i)}),t},isDoubleByte:function(t){for(var e=0,i=t.length;e<i;e++)if(t.charCodeAt(e)>255)return!0;return!1},renderHypeMessage:function(e,i){var n=this.el;void 0===n&&(n=t("#hypeHolderInner"));var o="";void 0!==i&&void 0!==i.style&&(o='style="'+i.style+'"'),t(n).html('<div class="dropShadow post-loading" '+o+" >"+e+"</div>");var r=t(".post-loading").outerWidth();t(".post-loading").css({position:"fixed",left:/\/edit/.test(window.location.href)?(t(window).width()-300-r)/2+300:(t(window).width()-r)/2,top:"70px",display:HM.hypeHelper.isEditorViewer()?"none":""})},currentThemeIsAutoPopup:function(){var t=void 0!==HM.bootstrap&&void 0!==HM.bootstrap.profile?HM.bootstrap.profile.theme:null;if("hypeTemplate_waterfall_events"===t||"hypeTemplate_mosaic"===t)return!0;var e=t?HM.Themes.info(t):null,i=HM.getUser().user.settings();return!!(e&&i&&e.supports_waterfall&&i.get("waterfallToggle")&&i.get("highlightPostsToggle"))},renderSinglePostOverlay:function(t){var e=t.post,i=t.posts,n=t.fromEditMode,o=t.focusElement,r=i.indexOf(e),s=HM.hypeHelper.isEmbed(),a=HM.hypeHelper.currentThemeIsAutoPopup(),l=i.toJSON(),u=HM.bootstrap.profile;if(u.hideControls=a,s&&!a)return HM.CompatiblePostMessage.trigger(window.parent,"showPopupModal",{index:r,posts:l,profile:u}),void HM.hypeHelper.maintainFocusUponModalClose(o);HM.PostModalManager.show(r,l,u,n,!!t.fromPostHighlight),HM.hypeHelper.maintainFocusUponModalClose(o)},maintainFocusUponModalClose:function(t){HM.PostModalManager.listen(function(){t&&window.focus()})},goToCTA:function(e){var i=t(e.currentTarget).parents(".post").eq(0).attr("data-postid"),n=this.model.findWhere({post_id:i});HM.hypeHelper.goToPostCTA(n,e)},goToPostCTA:function(t,e){this.sendCTAClickthroughToAnalytics(t),this.openCTALink(e)},openCTALink:function(e){var i=t(e.currentTarget).find("[data-url]").data("url");i&&window.open(i,"_blank")},trackClick:function(e,i){var n=t(e.currentTarget).parents(".post").eq(0).attr("data-postid"),o=i.where({post_id:n})[0];return HM.hypeHelper.trackPostClick(o,i,e.currentTarget)},trackPostClick:function(t,e,i){return this.sendClickthroughToAnalytics(t),this.showSinglePostOverlayIfNecessary(t,e,i)},sendCTAClickthroughToAnalytics:function(t){HM.hypeHelper.onEditor()||this.sendPostEventToAnalytics(t,"CTA Clickthrough")},sendClickthroughToAnalytics:function(t){HM.hypeHelper.onEditor()||this.sendPostEventToAnalytics(t,"Post Clickthrough")},sendPostEventToAnalytics:function(t,e){hmAnalytics.track(e,{post_id:t.get("post_id"),feed_id:t.get("social_id"),tint:HM.bootstrap.profile.user_name,tint_id:HM.bootstrap.profile.id})},showSinglePostOverlayIfNecessary:function(e,i,n){var o="newtab"!==e.get("popup_function"),r=!/facebook.com/.test(HM.referer),s="undefined"==typeof Wix,a=!t(".single-post.overlay").length,l=!HM.isMobile,u=!HM.noPopup,c=!t(n).hasClass("external-link");return l&&r&&s&&a&&u&&o&&c?(t("html").is(".ie8")?window.open(e.get("modified_url"),"_blank"):HM.hypeHelper.renderSinglePostOverlay.call(that,{post:e,posts:i,focusElement:n}),!1):!HM.getParameter("nolinkredir",window.location.href)||"true"!==HM.getParameter("nolinkredir",window.location.href)},resizeForBanner:function(t,e){return HM.hypeHelper.resizeForBannerSettings(t.settings(),e)},iFrameRenderBanner:function(e,i){var n=e.getIfSupported("banner");if(n&&n.url){var o=t(window.parent),r=o.width()*e.bannerAspectRatio(),s=o.height()-r;window.frameElement&&t(window.frameElement.parentElement).css({position:"fixed","margin-top":0,height:s,top:r,left:0,right:0}),HM.TemplateManager.get("bannerTemplate",function(i){var n=t.extend({},e.attributes,{hgt:r+"px"}),o=Mustache.render(i,n);t(window.parent.document).find("#banner").html(o)})}else window.frameElement&&(t(window.frameElement.parentElement).css({position:"fixed","margin-top":0,height:"100%",top:0,left:0,right:0}),t(window.parent.document).find("#banner").empty())},resizeForBannerSettings:function(e,i){i=i||{};var n=e.shouldRunThemeInIFrame()&&!HM.hypeHelper.onModerate();if(HM.getParameter("innerFrame"))HM.hypeHelper.iFrameRenderBanner(e,i);else if(n)t(i.el).css({position:"fixed","margin-top":0,top:"54px",height:t(window).height()-54,left:HM.Constants.EDITOR_WIDTH,right:0,"background-color":"#ffffff"});else{var o=new HM.TintLayout(e),r=o.viewport(),s=o.themeTop();"boolean"==typeof i.noModifyHeight&&i.noModifyHeight?t(i.el).css({position:i.noPositionCSS?"":"relative","margin-top":s,top:"",left:"",right:"",background:""}):t(i.el).css({position:i.noPositionCSS?"":"fixed","margin-top":0,height:o.themeHeight(),top:s,left:r.left(),right:r.right(),background:""})}return e.hasBanner()},animation:{addPost:function(){t(".hypeHelper_animation").remove(),t("body").append(t("<div>").addClass("hypeHelper_animation animated hypeHelper_animation_addPost fadeInDown").html('<i class="fas fa-download"></i>')),window.setTimeout(function(){t(".hypeHelper_animation").removeClass("fadeInDown").addClass("fadeOutDown"),window.setTimeout(function(){t(".hypeHelper_animation").remove()},1e3)},1500)},poll:function(){t(".hypeHelper_animation").remove(),t("body").append(t("<div>").addClass("hypeHelper_animation animated hypeHelper_animation_poll bounceIn").html('<i class="fas fa-redo-alt fa-spin"></i>')),window.setTimeout(function(){t(".hypeHelper_animation").removeClass("bounceIn").addClass("bounceOut"),window.setTimeout(function(){t(".hypeHelper_animation").remove()},1e3)},1500)},resetProgressBar:function(t){console.log("resetProgressBar "+t)}},parseDisplayProfileForLayout:function(t){var e={hypeTemplate:{mw:280,p:20},hypeTemplate_v2:{mw:280,p:25},hypeTemplate_photo_tall:{mw:280,p:20},hypeTemplate_photo_large:{mw:340,p:20},hypeTemplate_photo:{mw:340,p:20},hypeTemplate_news:{mw:280,p:2},hypeTemplate_pin:{mw:222,p:16},hypeTemplate_inverse:{mw:250,p:10},hypeTemplate_tano:{mw:280,p:20},hypeTemplate_waterfall:{mw:250,p:10},hypeTemplate_waterfall_events:{mw:250,p:10},hypeTemplate_modern:{mw:200,p:15},hypeTemplate_edit:{mw:320,p:20}},i=t.embedDisplayProfile(),n=t.get("theme");HM.hypeHelper.onModerate()?this.minimumWidth=280:/string|number/.test(typeof i.postwidth)?this.minimumWidth=parseInt(i.postwidth,10):e[n]&&(this.minimumWidth=e[n].mw),HM.hypeHelper.onModerate()?(this.padding=e.hypeTemplate_edit.p,this.minimumWidth=e.hypeTemplate_edit.mw):/string|number/.test(typeof i.postpadding)?this.padding=parseInt(i.postpadding,10):e[n]&&(this.padding=e[n].p)},getDisplayProfile:function(e){var i={postwidth:void 0,postpadding:void 0,sliderwidth:void 0,sliderpadding:void 0,slidertextconfig:void 0,banner:void 0,transitionDelay:void 0,animationIndex:void 0,waterfallSpeed:void 0,gridwidth:void 0,gridheight:void 0,gridpadding:void 0,fontcolor_post:void 0};try{profileMeta=JSON.parse(e)}catch(t){console.log("hypeHelper.getDisplayProfile(): Invalid profile meta, so reconfiguring"),profileMeta={}}return t.extend(i,profileMeta)},shouldRenderBanner:function(t){var e=t;return _.isFunction(t.settings)&&(e=t.settings()),!e.shouldRunThemeInIFrame()&&!HM.getParameter("innerFrame")&&e.hasBanner()&&"hypeTemplate_advertisingUnit"!==e.get("theme")&&!/\/edit\/moderate/.test(window.location.href)},setupExpiredTrialPlanModal:function(e,i){function n(){i&&HM.hypeHelper.alertExpiredTrial(),e.unbind("click").bind("click",function(){return modalView=new HM.PlanModalView({extend:extend}),modalView.render(),!1})}e.addClass("disabled"),e.unbind().bind("click",function(){return!1}),void 0===HM.PlanModalView?t.getScript("/public/js/modules/planModal.js").done(function(){n()}).fail(function(t,e,i){console.log(i)}):n()},alertExpiredTrial:function(){var e=!HM.enabled.trial_extended,i="";e&&(i=' or <button class="plan-modal-alert-extend tnt-btn tnt-btn-1">Extend Trial</button>'),t(HM).trigger("alert",{type:"info",message:'No new data coming in! Your trial has ended. <button class="plan-modal-alert-choose tnt-btn tnt-btn-1">Choose Plan</button>'+i,autoFade:!1,position:"relative",behindModal:!0}),t(".plan-modal-alert-choose").unbind("click").bind("click",function(){window.location.href="/pricing"}),t(".plan-modal-alert-extend").unbind("click").bind("click",function(){if(e){var t=new HM.PlanModalView({extend:e,type:"extend"});hmAnalytics.track("Extend Trial: Click"),t.render()}})},sendNotification:function(e){HM.pusher&&(e.sender_session_id=HM.pusher.sessionID,t.ajax({url:HM.apiBaseUrl+"send_notification",data:{user_id:HM.bootstrap.profile.user_id,t_s:HM.t_s,data:e},dataType:"jsonp"}))},listenForNotifications:function(){void 0===HM.pusher&&(HM.pusher=new Pusher(HM.p_k));var e=""+HM.bootstrap.profile.user_id;void 0===HM.pusher.channel(e)&&HM.pusher.subscribe(e).bind("push_notification",function(e){if(console.log("Pusher notification",e),void 0===e.sender_session_id||""+HM.pusher.sessionID!=""+e.sender_session_id){var i={new_feed:["router_renderPosts","editor_feedLoaded"],new_feed_no_posts:["editor_feedLoaded"],new_posts:["hype_poll"],new_private_posts:["hype_editor_poll"],approved_post:["hype-approve"],rejected_post:["hype-reject"],deleted_post:["hype-reject"],display_post:["hype-display"]};HM.hypeHelper.onModerate()&&"new_feed"==e.action&&t(".post").length>0&&(e.action="new_posts");var n=i[e.action];n||(n=[e.action]),n&&_.each(n,function(i){console.log("trigger",i,e),"router_renderPosts"===i&&(HM.bootstrap.hypes=void 0),t(HM).trigger(i,e)})}})},refreshSession:function(e){t.get("/auth/refresh_session").done(function(i){t.getScript("/phptojavascript.js").done(function(t){e&&e()})})},initializeTags:function(t,e){t.tagit({autocomplete:{source:e,delay:0,minLength:2},removeConfirmation:!0,placeholderText:"enter Tags"})},template:function(){return HM.hypeHelper.onModerate()?"hypeTemplate_edit":HM.bootstrap.profile.theme&&/hypeTemplate_waterfall/.test(HM.bootstrap.profile.theme)||/hypeTemplate_waterfall/.test(HM.themeOverride)?"hypeTemplate_inverse":HM.themeOverride?HM.themeOverride:HM.bootstrap.profile.theme&&-1!==HM.bootstrap.profile.theme.indexOf("hypeTemplate")?HM.bootstrap.profile.theme:void 0},onModerate:function(){return/\/edit\/moderate/.test(window.location.href)||/w_moderate/.test(window.location.href)||/w_edit/.test(window.location.href)||/w_moderate_all/.test(window.location.href)},onEditor:function(){return this.onModerate()||/\/edit\/personalize/.test(window.location.href)},setDefaultTimeZone:function(e){Date.prototype.stdTimezoneOffset=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())};var i=(new Date).stdTimezoneOffset(),n=i>0?"-":"";i=((i=Math.abs(i))/60).toFixed(2),t(e+' option[data-offset="'+n+i+'"]').attr("selected","selected")},convertDateToMoment:function(t,e,i,n,o,r,s){function a(t,e){for(var i=t+"";i.length<e;)i="0"+i;return i}var l=n;!o&&n<12&&(l=n+12),o&&12==n&&(l=n-12);var u=a(t,4)+"-"+a(e,2)+"-"+a(i,2)+"T"+a(l,2)+":"+a(r,2)+s;return moment(u).zone(u)},setDateTime:function(t){var e="."+t+"-inputs ",i=this.modal.find(e+".date").val().split("/"),n=parseInt(this.modal.find(e+".hour").val(),10),o=parseInt(this.modal.find(e+".minutes").val(),10),r="am"===this.modal.find(e+".am-pm").val(),s=this.modal.find(".time-zone").val().replace(":","");return HM.hypeHelper.convertDateToMoment(parseInt(i[2],10),parseInt(i[0],10),parseInt(i[1],10),n,r,o,s)},areValidDates:function(e){return this.startTime.isValid()?this.startTime.isBefore(moment().zone(t(this.el).find(".time-zone").val()).startOf("day"))&&(""!==t(this.el).find(".start-date").val()||e)?(t(this.el).find(".start-inputs").addClass("error"),t(HM).trigger("alert",["error","Start time cannot be in the past"]),!1):(t(this.el).find(".start-inputs").removeClass("error"),this.endTime.isValid()||""===t(this.el).find(".end-date").val()&&!e?this.endTime.isBefore(moment())&&(""!==t(this.el).find(".end-date").val()||e)?(t(this.el).find(".end-inputs").addClass("error"),t(HM).trigger("alert",["error","End time cannot be in the past"]),!1):(t(this.el).find(".end-inputs").removeClass("error"),this.startTime.isValid()&&this.endTime.isValid()&&this.endTime.isBefore(this.startTime)?(t(this.el).find(".end-inputs").addClass("error"),t(HM).trigger("alert",["error","The end time cannot be before the start time"]),!1):this.startTime.isValid()&&this.endTime.isValid()&&this.endTime.isSame(this.startTime)?(t(this.el).find(".end-inputs").addClass("error"),t(HM).trigger("alert",["error","The end time cannot be the same as the start time"]),!1):this.endTime.isValid()?(t(HM).trigger("hide.alert"),!0):(t(HM).trigger("hide.alert"),!1)):(t(this.el).find(".end-inputs").addClass("error"),t(HM).trigger("alert",["error","Invalid end date"]),!1)):(this.modal.find(".start-inputs").addClass("error"),t(HM).trigger("alert",["error","Invalid start date"]),!1)},eventAlert:function(e,i){var n={type:e,message:i+"<span id='event-countdown'></span>",position:"relative",autoFade:!1,solo:!0,behindModal:!0};/\/edit/.test(window.location.href)&&(n.parent="#hypeHolder"),t(HM).trigger("alert",n)},scheduledEventAlert:function(e,i,n){var o=this;this.eventAlert("info",i+" starting in:"),e.test&&(n=0),t("#event-countdown").countdown(1e3*(e.start-n),function(e){t(this).html(e.strftime(o.countdownFormat))}).on("finish.countdown",function(){o.duringEventAlert(e,i,n)})},duringEventAlert:function(e,i,n){var o=this;e.test&&(n=0,i="InsTINT Updates Test"),this.eventAlert("success",i+" ending in:"),setTimeout(function(){t("#event-countdown").countdown(1e3*(e.stop+n),function(e){t(this).html(e.strftime(o.countdownFormat))}).on("finish.countdown",function(){o.endEventAlert(i)})},500)},endEventAlert:function(t){var e="InsTINT Updates"===t?"are":"is";this.eventAlert("info","Your "+t+" "+e+" over")},testInstintUpdates:function(e,i){t.post(HM.apiBaseUrl+"instint_update",{user_id:i,test:!0},null,"json").done(function(i){i.success?(t(HM).trigger("alert",["success","insTINT Updates Test Started."]),e.model.fetch({reset:!0})):t(HM).trigger("alert",["error","Sorry, there was a problem starting the insTINT Updates test."])}).fail(function(){t(HM).trigger("alert",["error","Sorry, there was a problem starting the insTINT Updates test."])})},countdownFormat:' <span class="num">%D</span> <span class="unit">days</span>                         <span class="num">%H</span> <span class="unit">hours</span>                         <span class="num">%M</span> <span class="unit">minutes</span>                         <span class="num">%S</span> <span class="unit">seconds</span>',renderProfileAndPostsAndCollections:function(){HM.hypeHelper.clearPosts(),HM.bootstrap.hypes=void 0,window.setTimeout(function(){t(HM).trigger("router_renderPosts"),t(HM).trigger("router_renderProfileAndCollections")},0)},clearPosts:function(){t(HM).trigger("router_removeTheme")},initializeChromecast:function(){t.getScript("/public/js/modules/chromecast.js").done(function(){HM.chromecast.init(),console.log("chromecast script loaded")}).fail(function(){console.log("chromecast initialization failed")})},castToChromecast:function(t){1===t.get("personalizations").length?this.castPersonalization(t.get("user_name"),t.get("personalizations")[0].id):new HM.SelectPersonalizationChromecastModalView({model:t}).render()},castPersonalization:function(t,e){HM.chromecast.sendMessage(t+"?personalization_id="+e)},renderInstintUpdates:function(e){void 0!==HM.currentUser&&0!==HM.currentUser.plan_settings.amount?t.when(t.getScript("https://js.stripe.com/v1/"),t.getScript("https://checkout.stripe.com/v2/checkout.js")).done(function(){t.getScript("/public/js/modules/realtimeDatePicker.js").done(function(){new HM.RealtimeDatePickerView(e).render()}).fail(function(t,e,i){console.log(i)})}):HM.hypeHelper.renderPlanUpgradeModal("Instint Updates")},renderPlanUpgradeModal:function(t){"string"==typeof t&&hmAnalytics.track("Upgrade: Click",{location:t});var e=require("./editor/upgrade-modal/main-view");this.upgradeModalView=new e({location:t}),this.upgradeModalView.render()},featureEnabled:function(t){return void 0===HM.enabled||!!HM.enabled[t]},enforceFeatureEnabled:function(t,e){if(this.featureEnabled(t))return this.renderPlanUpgradeModal(e),!1},hideThemeLoadingIndicator:function(){t("#hypeHolderLoading").css("display","none")},showThemeLoadingIndicator:function(){t("#hypeHolderLoading").css("display","block")},isBootstrapped:function(t){return HM.bootstrap.stale?(console.log("Can't bootstrap, stale filters!"),!1):!!(HM.bootstrap&&HM.bootstrap.profile&&HM.bootstrap.hypes&&(HM.bootstrap.hypes.data||HM.bootstrap.hypes).length)},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},getLocationHref:function(){return location.href},shouldRunThemeInIFrame:function(t){return HM.isThemeRunner?!/\/innerFrame/.test(HM.hypeHelper.getLocationHref())&&t.runs_in_iframe:/\/edit/.test(HM.hypeHelper.getLocationHref())&&t.runs_in_iframe},sendEventToIFrame:function(t,e){var i=window.document.getElementById("outerFrame"),n=null,o=null,r=null;if(i){var s=i.contentWindow.document.getElementById("innerFrame");(o=(n=s||i).contentWindow.$)&&(r=o(n.contentWindow.document).find("body"))}r&&r.trigger.apply(r,arguments),HM.PostModalManager.getElement().then(function(t){var i=t.contentWindow;HM.CompatiblePostMessage.trigger(i,"personalizationChanged",{data:e})})},sendNotificationOrDispatchToIFrame:function(t){HM.isThemeRunner?HM.hypeHelper.sendEventToIFrame("iframe-notification",t):HM.hypeHelper.sendNotification(t)},getEditorWindowFromIFrame:function(){try{if(HM.hypeHelper.isEditorViewer())return parent.parent.window}catch(t){}return null},toggleFullScreen:function(){require("screenfull").toggle(top.document.documentElement)},safeJSONParse:function(t){var e={};if("string"==typeof t)try{e=JSON.parse(t)}catch(t){}return e},stripQuotes:function(t){return t.replace(/^["']|["']$/g,"")},getEmbedDisplayProfileProperty:function(t){return HM.bootstrap&&HM.bootstrap.profile&&HM.bootstrap.profile.embed_display_profile?HM.hypeHelper.safeJSONParse(HM.bootstrap.profile.embed_display_profile)[t]:null},confirmBulkModerationDeselect:function(e){t(HM).trigger("confirm-if-posts-selected",{success:e})},normalizeCollectionResponse:function(t,e){return t.data?(e&&(e.hasNextPage=t.has_next_page,e.nextPage=t.next_page,e.cached=t.cached),t=t.data):e&&(e.hasNextPage=!1,e.nextPage=null,e.cached=!1),t},updatePaginationRange:function(t,e){var i=0,n=0;t.length>0&&(n=(i=t[0].relative_offset+1)+t.length-1),e.currentRangeStart=i,e.currentRangeEnd=n,e.trigger("updateMetaData")}};HM.hypeHelper=_.extend(HM.hypeHelper,e)}($);var $t71n7=$t71n7||$;!function(t){HM.yt={id:0,init:function(){if(!this.requested){var e=document.createElement("script");e.src="//www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i),this.ready=t.Deferred(),this.requested=!0}},api_ready:function(){this.ready||(this.ready=t.Deferred(),this.requested=!0),this.ready.resolveWith(this)}},HM.yt.Embed=function(t,e){this.element_id=t;HM.yt.init(),this.options=e||{},this.makePlayerObj()},HM.yt.Embed.prototype={makePlayerObj:function(e){if(document.getElementById(this.element_id)){var i=this;HM.yt.ready.then(function(){var e=t.extend(!0,{events:{onStateChange:function(t){console.log("yt state change:",t.data),t.data==YT.PlayerState.ENDED&&(i.videoEnded(),i.player.destroy(),delete i.player)},onReady:function(){i.videoReady()}}},i.options);i.player=new YT.Player(i.element_id,e)})}else setTimeout(this.makePlayerObj.bind(this),250)},videoEnded:function(){this.options.onEnd&&this.options.onEnd()},videoReady:function(){this.options.mute&&this.player.mute(),this.options.onReady&&this.options.onReady()}}}($t71n7),window.onYouTubeIframeAPIReady?(window.conflictingOnYouTubeIframeAPIReady=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=function(){HM.yt.api_ready(),window.conflictingOnYouTubeIframeAPIReady()}):window.onYouTubeIframeAPIReady=function(){HM.yt.api_ready()},"object"!=typeof HM?HM={hypeHelper:{}}:"object"==typeof HM&&"object"!=typeof HM.hypeHelper&&(HM.hypeHelper={}),HM.hypeHelper.isEmbed=function(){return HM.getParameter("innerFrame")||HM.getParameter("outerFrame")?!HM.hypeHelper.isEditorViewer()&&top!==self.parent:!/\/(app\/|admin)/.test(HM.referer)&&top!==self},HM.hypeHelper.isEditorViewer=function(){var t=new RegExp(HM.bootstrap.profile.user_name+"/edit","i");if(HM.getParameter("innerFrame")||HM.getParameter("outerFrame"))try{return!top.isEmbedPreview&&t.test(top.location.href)}catch(t){}return!1},require=function(){function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){return o(e[s][1][t]||t)},c,c.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}return t}()({"./video/base-video-view":[function(t,e,i){"use strict";var n=function(t){var e=$(t).offset().top,i=e+$(t).outerHeight(),n=$(window).scrollTop(),o=n+$(window).height();return i>n&&e<o},o={initializeVideo:function(){},getAttributes:function(t){return{}},play:function(){},pause:function(){},disposeVideo:function(){}};e.exports=Backbone.View.extend(_.extend({initialize:function(t){var e=t.embedData,i=t.options;this.options=i,this.embedData=e,this.post=this.embedData.postJSON,this.listenTo(this,"ready",this.scrolled,this),$(this.el).on("mouseenter.".concat(this.id),this.hovered.bind(this)),$(window).on("scroll.".concat(this.id),_.debounce(this.scrolled.bind(this),250).bind(this)),this.options.introspect&&(this.intervalID=setInterval(this.scrolled.bind(this),1e3)),this.initializeVideo()},attributes:function(t){this.id=this.id||_.uniqueId("VideoView");var e={id:this.id};return t?_.extend(e,this.getAttributes(t)):e},render:function(){var t=this.serializeData();return this.$el.attr(this.getAttributes(t)),this.template&&this.$el.html(this.template(t)),this},hovered:function(){"hover"===this.options.playback&&this.play()},scrolled:function(){if("automatic"===this.options.playback){var t=n(this.el);t?this.play():t||(this.pause(),this.options.introspect&&(clearInterval(this.intervalID),this.intervalID=setInterval(this.scrolled.bind(this),3e3)))}},dispose:function(){$(this.el).off(".".concat(this.id)),$(window).off(".".concat(this.id)),clearInterval(this.intervalID),this.disposeVideo(),this.stopListening()}},o))},{}],"./video/facebook":[function(t,e,i){"use strict";var n=t("./base-video-view").extend({initializeVideo:function(){var t=this,e="automatic"===this.options.playback,i=this.options,o=i.muteVideo,r=i.loop;this.url=this.embedData.embed.url,n.initializeFacebookAPI(),n.ready.then(function(){FB.Event.subscribe("xfbml.ready",function(i){"video"===i.type&&i.id===t.id&&(t.player=i.instance,t.trigger("ready"),t[e?"play":"pause"](),t.player[o?"mute":"unmute"](),t.player.subscribe("error",function(){t.trigger("error")}),t.player.subscribe("startedPlaying",function(){t.trigger("play")}),t.player.subscribe("finishedPlaying",function(){t.trigger("ended"),r&&t.play()}))}),FB.Event.subscribe("xfbml.resize",function(){t.trigger("resize")})})},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},render:function(){return this.$el.attr({class:"fb-video","data-href":this.url,"data-allowfullscreen":!0,id:this.id}),n.ready.then(function(){setTimeout(function(){FB.XFBML.parse()},1)}),this}},{ready:$.Deferred(),requested:!1,initializeFacebookAPI:function(){var t=this,e=function(){t.ready.resolve(),FB.XFBML.parse()};this.requested||(window.fbAsyncInit?(window.conflictingfbAsyncInit=window.fbAsyncInit,window.fbAsyncInit=function(){e(),window.conflictingfbAsyncInit()}):window.fbAsyncInit=function(){e()},function(){var e,i=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||((e=document.createElement("script")).id="facebook-jssdk",e.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10",i.parentNode.insertBefore(e,i),t.requested=!0)}())}});e.exports=n},{"./base-video-view":"./video/base-video-view"}],"./video/player":[function(t,e,i){"use strict";var n=t("./youtube"),o=t("./facebook"),r=t("./vine"),s=t("./vimeo"),a=t("./video"),l={embedData:function(t){var e=t;"function"==typeof t.toJSON&&(e=t.toJSON());var i={};return i.postJSON=e,i.youtubeRegex=/youtube.com\/watch\?.*v=([a-z0-9A-Z_\-]+)|youtu.be\/([a-z0-9A-Z_\-]+)/g,i.vimeoRegex=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,i.youtubeMatches=i.youtubeRegex.exec(e.url),i.embed=function(t){var i=!1;try{i=JSON.parse(e.embed)}catch(t){}return i}(e.embed),i.vimeoMatches=i.vimeoRegex.exec(e.url)||i.vimeoRegex.exec(i.embed&&i.embed.url),i.isNotChromecast=!/CrKey/.test(window.navigator.userAgent),i.isYoutube=!!i.youtubeMatches,i.isVimeo=!!i.vimeoMatches,i.isVine=/\/\/vine\.co\/v/.test(e.url),i.isVideo=i.embed&&/\.mp4/.test(i.embed.html),i.isCustomVideo=i.embed&&/filepicker\.io|filestackcontent\.com/.test(i.embed.html),i.isTwitterVideo=i.embed&&i.embed.video_data,i.isFacebookAPIVideo=e.source==HM.Hype.SOURCES.FACEBOOK&&i.embed,i.postJSON=e,i.isEmbeddableVideo=i.isYoutube||i.isVimeo||i.isVine||i.isFacebookAPIVideo||i.isNotChromecast&&(i.isTwitterVideo||i.isCustomVideo||i.isVideo),i},view:function(t,e){var i,a=l.embedData(t);if(a.isYoutube)i=n;else if(a.isVimeo)i=s;else if(a.isVine)i=r;else if(a.isTwitterVideo&&a.isNotChromecast)i=this.video(a.embed.video_data.url,e,a.postJSON);else if(a.isCustomVideo&&a.isNotChromecast)i=this.video(a.embed.html,e,a.postJSON);else if(a.isVideo&&a.isNotChromecast){var u;void 0!==a.embed.object?u=a.embed.object.html:"undefined"!==a.embed.html&&(u=a.embed.html),i=this.video(u,e,a.postJSON)}else{if(!a.isFacebookAPIVideo)return!1;i=o}return i instanceof Backbone.View?i:new i({options:e,embedData:a})},video:function(t,e,i){return new a({embedData:{url:t,postJSON:i},options:e})}};e.exports=l},{"./facebook":"./video/facebook","./video":"./video/video","./vimeo":"./video/vimeo","./vine":"./video/vine","./youtube":"./video/youtube"}],"./video/video":[function(t,e,i){"use strict";var n=t("./base-video-view").extend({tagName:"video",getAttributes:function(t){var e={width:"100%",poster:this.post.image,controls:this.options.controls,loop:this.options.loop};return t.autoplay&&(e.autoplay="",e.playsinline=""),t.muteVideo&&(e.muted="",e.oncanplay="this.muted=true"),e},events:function(){return{loadstart:this.mediaEventCallback("ready"),error:this.mediaEventCallback("error"),play:this.mediaEventCallback("play"),ended:this.mediaEventCallback("ended")}},mediaEventCallback:function(t){var e=this;return function(i){i.target.id===e.id&&e.trigger(t)}},play:function(){var t=this,e=this.el.play();null!==e&&e.catch(function(e){window.setTimeout(function(){t.el.play().catch(function(e){t.trigger("error")})},100)})},pause:function(){var t=this,e=this.el.pause();null!==e&&e.catch(function(e){t.el.pause().catch(function(e){t.trigger("error")})})},serializeData:function(){var t=this.post.post_id;return{url:this.embedData.url,id:t,autoplay:"automatic"===this.options.playback,muteVideo:this.options.muteVideo}},render:function(){n.__super__.render.apply(this,arguments);var t=this,e=$("<source />").attr("type","video/mp4").attr("src",this.embedData.url).on("error",function(){t.trigger("error")});return this.$el.append(e),this}});e.exports=n},{"./base-video-view":"./video/base-video-view"}],"./video/vimeo":[function(t,e,i){"use strict";var n=t("./base-video-view").extend({tagName:"iframe",getAttributes:function(t){return{src:"https://player.vimeo.com/video/".concat(t.vimeoid,"?autoplay=").concat(t.autoplay,"&autopause=0&loop=").concat(t.loop),width:"100%",frameborder:0,webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0}},render:function(){var e=this;this.$el.attr(this.getAttributes(this.serializeData()));var i="undefined"!=typeof __karma__?function(){this.on=function(){}}:t("@vimeo/player");return this.player=new i(this.el),this.player.on("loaded",function(){e.trigger("ready"),e.player.setVolume(e.options.muteVideo?0:1)}),this.player.on("play",function(){e.trigger("play")}),this.player.on("ended",function(){e.trigger("ended")}),this.player.on("error",function(){e.trigger("error")}),this},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},serializeData:function(){return{vimeoid:this.embedData.vimeoMatches[this.embedData.vimeoMatches.length-1],autoplay:"automatic"===this.options.playback?"1":"0",loop:this.options.loop?1:0}}});e.exports=n},{"./base-video-view":"./video/base-video-view","@vimeo/player":"@vimeo/player"}],"./video/vine":[function(t,e,i){"use strict";var n=t("./base-video-view").extend({tagName:"iframe",getAttributes:function(t){if(t)return{src:"https://vine.co/v/".concat(t.id,"/card?audio=").concat(t.audio,"&autoplay=").concat(t.autoplay,'"'),width:"100%",frameborder:"0"}},serializeData:function(){return{id:/vine\.co\/v\/.+/.exec(this.post.url)[0].split("?")[0].split("/")[2],audio:this.options.muteVideo?0:1,autoplay:"automatic"===this.options.playback?1:0}},events:{error:function(){this.trigger("error")},load:function(){var t=this;this.trigger("ready"),this.trigger("play"),setTimeout(function(){t.trigger("ended")},13e3)}}});e.exports=n},{"./base-video-view":"./video/base-video-view"}],"./video/youtube":[function(t,e,i){"use strict";var n=t("./base-video-view").extend({initializeVideo:function(){var t=this;this.embed=new HM.yt.Embed(this.id,{onReady:this.onReady.bind(this),onEnd:this.onEnd.bind(this),mute:!!this.options.muteVideo,events:{onStateChange:function(e){e.data===YT.PlayerState.ENDED&&t.onEnd()}}})},tagName:"iframe",getAttributes:function(t){return{title:"YouTube video player",class:"youtube-player",type:"text/html",width:"100%",src:"https://www.youtube.com/embed/".concat(t.id,"?enablejsapi=1&autoplay=").concat(t.autoplay,"&rel=0&showinfo=0&controls=").concat(t.controls,"&loop=").concat(t.loop,"&playlist=").concat(t.id),frameborder:0,allowFullScreen:!0}},serializeData:function(){return{id:this.embedData.youtubeMatches[1]||this.embedData.youtubeMatches[2],autoplay:"automatic"===this.options.playback?1:0,controls:this.options.controls?1:0,loop:this.options.loop?1:0}},onReady:function(){this.trigger("ready")},onEnd:function(){this.trigger("ended")},play:function(){this.embed&&this.embed.player&&this.embed.player.playVideo&&this.embed.player.playVideo()},pause:function(){this.embed&&this.embed.player&&this.embed.player.stopVideo&&this.embed.player.stopVideo()},disposeVideo:function(){if(this.embed&&this.embed.player)try{this.embed.player.stopVideo(),this.embed.player.destroy()}catch(t){}}});e.exports=n},{"./base-video-view":"./video/base-video-view"}],1:[function(t,e,i){(function(e,n){function o(t,e){this._id=t,this._clearFn=e}var r=t("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},u=0;i.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i.setImmediate="function"==typeof e?e:function(t){var e=u++,n=!(arguments.length<2)&&a.call(arguments,1);return l[e]=!0,r(function(){l[e]&&(n?t.apply(null,n):t.call(null),i.clearImmediate(e))}),e},i.clearImmediate="function"==typeof n?n:function(t){delete l[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":2,timers:1}],2:[function(t,e,i){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){g&&f&&(g=!1,f.length?m=f.concat(m):_=-1,m.length&&l())}function l(){if(!g){var t=r(a);g=!0;for(var e=m.length;e;){for(f=m,m=[];++_<e;)f&&f[_].run();_=-1,e=m.length}f=null,g=!1,s(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var h,d,p=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(t){d=o}}();var f,m=[],g=!1,_=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];m.push(new u(t,e)),1!==m.length||g||r(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],3:[function(t,e,i){"use strict";var n=t("./video/player");(HM=HM||{}).hypeHelper=HM.hypeHelper||{},HM.hypeHelper.isEmbeddableVideo=function(t){return n.embedData(t).isEmbeddableVideo},HM.hypeHelper.generateEmbed=function(t,e){return e=_.defaults(e||{},{muteVideo:!1,controls:!1,playback:"none"}),!(!t||!this.isEmbeddableVideo(t))&&n.view(t,e)}},{"./video/player":"./video/player"}],"@vimeo/player":[function(t,e,i){(function(t,n){!function(t,n){"object"==typeof i&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):(t.Vimeo=t.Vimeo||{},t.Vimeo.Player=n())}(this,function(){"use strict";function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t,e,i){var n=E.get(t.element)||{};e in n||(n[e]=[]),n[e].push(i),E.set(t.element,n)}function o(t,e){return(E.get(t.element)||{})[e]||[]}function r(t,e,i){var n=E.get(t.element)||{};if(!n[e])return!0;if(!i)return n[e]=[],E.set(t.element,n),!0;var o=n[e].indexOf(i);return-1!==o&&n[e].splice(o,1),E.set(t.element,n),n[e]&&0===n[e].length}function s(t,e){var i=o(t,e);if(i.length<1)return!1;var n=i.shift();return r(t,e,n),n}function a(t,e){var i=E.get(t);E.set(e,i),E.delete(t)}function l(t,e){return 0===t.indexOf(e.toLowerCase())?t:""+e.toLowerCase()+t.substr(0,1).toUpperCase()+t.substr(1)}function u(t){return t instanceof window.HTMLElement}function c(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function h(t){return/^(https?:)?\/\/((player|www).)?vimeo.com(?=$|\/)/.test(t)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=t.url,n=e||i;if(!n)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(c(n))return"https://vimeo.com/"+n;if(h(n))return n.replace("http:","https:");if(e)throw new TypeError("“"+e+"” is not a valid video id.");throw new TypeError("“"+n+"” is not a vimeo.com url.")}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M.reduce(function(e,i){var n=t.getAttribute("data-vimeo-"+i);return(n||""===n)&&(e[i]=""===n?1:n),e},e)}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(i,n){if(!h(t))throw new TypeError("“"+t+"” is not a vimeo.com url.");var o="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(t);for(var r in e)e.hasOwnProperty(r)&&(o+="&"+r+"="+encodeURIComponent(e[r]));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",o,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var e=JSON.parse(s.responseText);i(e)}catch(t){n(t)}else n(new Error("“"+t+"” is not embeddable."));else n(new Error("“"+t+"” was not found."))},s.onerror=function(){var t=s.status?" ("+s.status+")":"";n(new Error("There was an error fetching the embed code from Vimeo"+t+"."))},s.send()})}function m(t,e){var i=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=i,e.appendChild(n.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function g(t){return"string"==typeof t&&(t=JSON.parse(t)),t}function _(t,e,i){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var n={method:e};void 0!==i&&(n.value=i);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(n=JSON.stringify(n)),t.element.contentWindow.postMessage(n,t.origin)}}function v(t,e){var i=[],n=void 0;if((e=g(e)).event)"error"===e.event&&o(t,e.data.method).forEach(function(i){var n=new Error(e.data.message);n.name=e.data.name,i.reject(n),r(t,e.data.method,i)}),i=o(t,"event:"+e.event),n=e.data;else if(e.method){var a=s(t,e.method);a&&(i.push(a),n=e.value)}i.forEach(function(e){try{if("function"==typeof e)return void e.call(t,n);e.resolve(n)}catch(t){}})}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var w=void 0!==Array.prototype.indexOf,b=void 0!==window.postMessage;if(!w||!b)throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var x="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},k=(e(function(t,e){!function(t){function e(t,e){function n(t){if(!this||this.constructor!==n)return new n(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&i.call(this,t)}return e||g(t,"size",{get:p}),t.constructor=n,n.prototype=t,n}function i(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function n(t){return this.has(t)&&(this._keys.splice(m,1),this._values.splice(m,1),this._itp.forEach(function(t){m<t[0]&&t[0]--})),-1<m}function o(t){return this.has(t)?this._values[m]:void 0}function r(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(m=t.length;m--&&!_(t[m],e););else m=t.indexOf(e);return-1<m}function s(t){return r.call(this,this._values,t)}function a(t){return r.call(this,this._keys,t)}function l(t,e){return this.has(t)?this._values[m]=e:this._values[this._keys.push(t)-1]=e,this}function u(t){return this.has(t)||this._values.push(t),this}function c(){(this._keys||0).length=this._values.length=0}function h(){return d(this._itp,this._values)}function d(t,e,i){var n=[0],o=!1;return t.push(n),{next:function(){var r,s=n[0];return!o&&s<e.length?(r=i?[e[s],i[s]]:e[s],n[0]++):(o=!0,t.splice(t.indexOf(n),1)),{done:o,value:r}}}}function p(){return this._values.length}function f(t,e){for(var i=this.entries();;){var n=i.next();if(n.done)break;t.call(e,n.value[1],n.value[0],this)}}var m,g=Object.defineProperty,_=function(t,e){return t===e||t!==t&&e!==e};"undefined"==typeof WeakMap&&(t.WeakMap=e({delete:n,clear:c,get:o,has:a,set:l},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(t.Map=e({delete:n,has:a,get:o,set:l,keys:function(){return d(this._itp,this._keys)},values:h,entries:function(){return d(this._itp,this._keys,this._values)},forEach:f,clear:c})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(t.Set=e({has:s,add:u,delete:n,clear:c,keys:h,values:h,entries:function(){return d(this._itp,this._values,this._values)},forEach:f})),"undefined"==typeof WeakSet&&(t.WeakSet=e({delete:n,add:u,clear:c,has:s},!0))}(void 0!==x?x:window)}),e(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e,i,n){i[e]=i[e]||n(),t.exports&&(t.exports=i[e])}("Promise",x,function(){function t(t,e){f.add(t,e),p||(p=g(f.drain))}function i(t){var i,n=void 0===t?"undefined":e(t);return null==t||"object"!=n&&"function"!=n||(i=t.then),"function"==typeof i&&i}function o(){for(var t=0;t<this.chain.length;t++)r(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function r(t,e,n){var o,r;try{!1===e?n.reject(t.msg):(o=!0===e?t.msg:e.call(void 0,t.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(r=i(o))?r.call(o,n.resolve,n.reject):n.resolve(o)}catch(t){n.reject(t)}}function s(e){var n,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(n=i(e))?t(function(){var t=new u(r);try{n.call(e,function(){s.apply(t,arguments)},function(){a.apply(t,arguments)})}catch(e){a.call(t,e)}}):(r.msg=e,r.state=1,r.chain.length>0&&t(o,r))}catch(t){a.call(new u(r),t)}}}function a(e){var i=this;i.triggered||(i.triggered=!0,i.def&&(i=i.def),i.msg=e,i.state=2,i.chain.length>0&&t(o,i))}function l(t,e,i,n){for(var o=0;o<e.length;o++)!function(o){t.resolve(e[o]).then(function(t){i(o,t)},n)}(o)}function u(t){this.def=t,this.triggered=!1}function c(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var i=new c(this);this.then=function(e,n){var r={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return r.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");r.resolve=t,r.reject=e}),i.chain.push(r),0!==i.state&&t(o,i),r.promise},this.catch=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){s.call(i,t)},function(t){a.call(i,t)})}catch(t){a.call(i,t)}}var d,p,f,m=Object.prototype.toString,g=void 0!==n?function(t){return n(t)}:setTimeout;try{Object.defineProperty({},"x",{}),d=function(t,e,i,n){return Object.defineProperty(t,e,{value:i,writable:!0,configurable:!1!==n})}}catch(t){d=function(t,e,i){return t[e]=i,t}}f=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,i,n;return{add:function(o,r){n=new t(o,r),i?i.next=n:e=n,i=n,n=void 0},drain:function(){var t=e;for(e=i=p=void 0;t;)t.fn.call(t.self),t=t.next}}}();var _=d({},"constructor",h,!1);return h.prototype=_,d(_,"__NPO__",0,!1),d(h,"resolve",function(t){var i=this;return t&&"object"==(void 0===t?"undefined":e(t))&&1===t.__NPO__?t:new i(function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");e(t)})}),d(h,"reject",function(t){return new this(function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");i(t)})}),d(h,"all",function(t){var e=this;return"[object Array]"!=m.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");var o=t.length,r=Array(o),s=0;l(e,t,function(t,e){r[t]=e,++s===o&&i(r)},n)})}),d(h,"race",function(t){var e=this;return"[object Array]"!=m.call(t)?e.reject(TypeError("Not an array")):new e(function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");l(e,t,function(t,e){i(e)},n)})}),h})})),E=new WeakMap,M=["id","url","width","maxwidth","height","maxheight","portrait","title","byline","color","autoplay","autopause","loop","responsive","speed"],T=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),S=new WeakMap,C=new WeakMap,H=function(){function t(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"string"==typeof e&&(e=document.getElementById(e)),!u(e))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==e.nodeName){var o=e.querySelector("iframe");o&&(e=o)}if("IFRAME"===e.nodeName&&!h(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(S.has(e))return S.get(e);this.element=e,this.origin="*";var r=new k(function(t,o){var r=function(e){if(h(e.origin)&&i.element.contentWindow===e.source){"*"===i.origin&&(i.origin=e.origin);var n=g(e.data),o="event"in n&&"ready"===n.event,r="method"in n&&"ping"===n.method;if(o||r)return i.element.setAttribute("data-ready","true"),void t();v(i,n)}};if(window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent&&window.attachEvent("onmessage",r),"IFRAME"!==i.element.nodeName){var s=p(e,n);f(d(s),s).then(function(t){var n=m(t,e);return i.element=n,a(e,n),S.set(i.element,i),t}).catch(function(t){return o(t)})}});return C.set(this,r),S.set(this.element,this),"IFRAME"===this.element.nodeName&&_(this,"ping"),this}return T(t,[{key:"callMethod",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new k(function(o,r){return e.ready().then(function(){i(e,t,{resolve:o,reject:r}),_(e,t,n)})})}},{key:"get",value:function(t){var e=this;return new k(function(n,o){return t=l(t,"get"),e.ready().then(function(){i(e,t,{resolve:n,reject:o}),_(e,t)})})}},{key:"set",value:function(t,e){var n=this;return k.resolve(e).then(function(e){if(t=l(t,"set"),void 0===e||null===e)throw new TypeError("There must be a value to set.");return n.ready().then(function(){return new k(function(o,r){i(n,t,{resolve:o,reject:r}),_(n,t,e)})})})}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===o(this,"event:"+t).length&&this.callMethod("addEventListener",t).catch(function(){}),i(this,"event:"+t,e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");r(this,"event:"+t,e)&&this.callMethod("removeEventListener",t).catch(function(t){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=C.get(this);return k.resolve(t)}},{key:"addCuePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}]),t}();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: "+t)};[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")).forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var i=p(t);f(d(i),i).then(function(e){return m(e,t)}).catch(e)}catch(t){e(t)}})}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=function(e){if(h(e.origin)&&e.data&&"spacechange"===e.data.event)for(var i=t.querySelectorAll("iframe"),n=0;n<i.length;n++)if(i[n].contentWindow===e.source){var o=i[n].parentElement;o&&-1!==o.className.indexOf("vimeo-space")&&(o.style.paddingBottom=e.data.data[0].bottom+"px");break}};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}(),H})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{timers:1}]},{},[3]),HM.Hype=Backbone.Model.extend({defaults:{brand_id:"",brand_name:"",brand_image:"",user_id:"",url:"",title:"",user_name:"",name:"",profile_picture:"",timestamp:"",linkid:"",post_id:"",likes:"[]",description:"",image:"",color:"",collection_name:"",collection_id:"",acct_name:"",acct_url:"",acct_username:"",acct_image:"https://cdn.hypemarks.com/assets/analytics/EmptyProfile.png",user_rights:{}},url:function(){var t=HM.getParameter("wl_token",window.location.href),e="";e=t?"/api/post/"+this.get("post_id")+"?wl_token="+t:void 0===this.get("post_id")?"/api/post":"/api/post/"+this.get("post_id");var i=HM.hypeHelper.getEmbedDisplayProfileProperty("image_effect");return i&&"none"!==i&&(e+=(e.indexOf("?")>0?"&":"?")+"image_effect="+i),e},numericId:function(){if(this.get("post_id"))return this.get("post_id").replace("user_","")},authorObject:function(){return this.parsedAuthor=this.parsedAuthor||$.parseJSON(this.get("author")||"{}"),this.parsedAuthor||{}},newlyApprovedCreated:function(){return 9*Math.floor(Date.now()/1e3)},isRecurring:function(){return void 0!==this.get("recur_frequency")&&""!==this.get("recur_frequency")&&0!==this.get("recur_frequency")&&"0"!==this.get("recur_frequency")},idAttribute:"uniqueId",validate:function(t){},manipulateData:function(t){void 0===t&&(t=this),void 0!==t.get("post_id")&&""!==t.get("post_id")&&t.set("uniqueId",t.get("post_id")+"_"+t.get("offset")+"_"+t.get("created"),{silent:!0});var e=t.get("image");!0===t.get("highlight")&&t.set("image",HM.AssetCache.fetch(e,{w:600}),{silent:!0});var i=t.get("url");i?(/http/.test(t.get("url"))||(i="http://"+t.get("url")),2!==parseInt(t.get("source"),10)||/^rss_/.test(t.get("social_id"))||(i="https://twitter.com/x/status/"+t.get("social_post_id")),t.set("modified_url",i,{silent:!0})):this.isCustomPost()&&(t.set("url","#",{silent:!0}),t.set("modified_url","#",{silent:!0}));var n=t.get("title").replace(/&amp;/gi,"&");if(2===parseInt(t.get("source"),10)&&(n=function(e,i){function n(t,e,i){return'</a><a class="twitter-link external-link" href="'+i+'" target="_blank">'+t+'&hellip;</a><a href="'+e+'" class="heading urlLink" tabindex="-1" target="_blank">'}var o=String(e),r=t.get("tweet_urls");return _.each(r,function(e){o=o.replace(e.display_url,n(e.display_url,t.get("modified_url"),e.url))}),o}(n=function(t,e){var i=/\B@\w{1,15}/g;return String(t).replace(i,function(t,i,n){return'</a><a class="twitter-account external-link" href="https://twitter.com/'+t.substring(1)+'" aria-label="View '+t+' on Twitter" target="_blank">'+t+'</a><a href="'+e+'" class="heading urlLink" tabindex="-1" target="_blank">'})}(n=function(t,e){var i=/#[\w\u00C0-\u017F]+/g;return String(t).replace(i,function(t,i,n){if(0!==i&&!/\s/.test(n[i-1])||/#/.test(n[i+t.length]))return t;var o=t.substring(1);return'</a><a class="twitter-hashtag external-link" href="https://twitter.com/hashtag/'+o+'" aria-label="View hashtag '+o+' on Twitter" target="_blank">'+t+'</a><a href="'+e+'" class="heading urlLink" tabindex="-1" target="_blank">'})}(n,i),i))),"undefined"!=typeof emojione){n=emojione.unicodeToImage(n);var o=HM.hypeHelper.getEmbedDisplayProfileProperty("image_effect");if(o&&"none"!==o&&!HM.hypeHelper.getEmbedDisplayProfileProperty("no_image_effect_emoji")){var r=$("<div />");r.html(n).find(".emojione").each(function(){$(this).attr("src",HM.AssetCache.fetch($(this).attr("src"),{e:o}))}),n=r.html()}}if(t.get("language")&&["ar","arc","dv","far","ha","he","khw","ks","ku","ps","ur","yi"].indexOf(t.get("language"))>-1&&(n='<div class="_71n7_rtl">'+n+"</div>"),parseInt(t.get("source"),10)!==HM.Hype.SOURCES.INSTAGRAM&&parseInt(t.get("source"),10)!==HM.Hype.SOURCES.INSTAGRAM_BUSINESS||(n=n.replace(/(#[^\s#]+?(?=#[^\s]+?))/g,"$1 ")),n=t.addConnectedHashtagSpans(n),parseInt(t.get("source"),10)===HM.Hype.SOURCES.REVIEW_TRACKERS&&(n=t.addStarsContainer(n)),t.set("modified_title",n,{silent:!0}),"https:"!==(HM.getWindow?HM.getWindow():window).location.protocol||/facebook/.test(HM.referer)||t.set("image",t.get("image").replace(/^http:\/\//,"https://"),{silent:!0}),"0"!==t.get("timestamp")&&0!==t.get("timestamp")||t.set("timestamp",Math.floor((new Date).getTime()/1e3),{silent:!0}),parseInt(t.get("timestamp"),10)>(new Date).getTime()/1e3&&t.set("timestamp",Math.floor(parseInt(t.get("timestamp"),10)/10),{silent:!0}),t.get("author"))try{var s=t.get("author");s.constructor==="string".constructor&&(s=JSON.parse(t.get("author"))),7===t.get("source")&&(s.username=""),t.set("author",JSON.stringify(s),{silent:!0})}catch(t){console.log("err in hype.js:85"),console.log(t)}"true"===HM.getParameter("noimages",window.location.href)&&t.set("image","",{silent:!0}),t.get("post_id")||t.set("post_id",t.get("id"),{silent:!0}),"true"===HM.getParameter("noimagescaling",window.location.href)&&t.set("image",HM.AssetCache.fetch(t.get("image"),{h:null,w:null,c:null,f:null}),{silent:!0});var a=!1,l=new Date;if(t.get("created")){var u=t.get("created"),c=new Date;1e3*(parseInt(u,10)-86400)>c.getTime()&&(a=!0,u=Math.round(parseInt(u,10)/10)),c.setTime(u+"000");var h=new Date;c.getTime()>h.getTime()&&(c=h),l=c,timeago=$.timeago(c)}t.set("isotimestamp",l.toISOString(),{silent:!0}),t.set("timeago",$.timeago(l)),t.set("sticky",a)},initialize:function(){var t=this;this.on("change",function(e){t.manipulateData(e)}),this.manipulateData(this)},addConnectedHashtagSpans:function(t){var e=HM.hypeHelper.getConnectedHashtags();return _(e).each(function(e){var i=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");i=new RegExp("(^|[\\s>])("+i+")(?=[\\s<]|$)","i"),t=t.replace(i,'$1<span class="connected-hashtag">$2</span>')}),t},addStarsContainer:function(t){var e=/^((<img.+:star:[^>]+)>)+/;return t.replace(e,'<p class="review-trackers-stars">$&</p>')},isCustomPost:function(){return this.get("source")===HM.Hype.SOURCES.CUSTOM},isInstagramPost:function(){return this.get("source")===HM.Hype.SOURCES.INSTAGRAM},isFacebookPost:function(){return this.get("source")===HM.Hype.SOURCES.FACEBOOK},isInstagramBusinessPost:function(){return this.get("source")==HM.Hype.SOURCES.INSTAGRAM_BUSINESS},isCopyrighted:function(){var t=this.get("user_rights");if(!t)return!1;var e=t.copyright_detection_report;return e?e.copyright:void 0},author:function(){function t(t,e){return t.length>(e||16)?t.substring(0,e||16)+"…":t}try{var e=JSON.parse(this.get("author"));if(res={},e&&e.name){var i=e.name,n=t(i),o=e.username?"@"+e.username:"",r=t(o),s=e.link,a=(o+"\n"+(e.byline||"")).trim(),l=_.escape(a).replace("\n","<br>"),u=""!==e.picture?e.picture:this.get("acct_image");if("https:"===window.location.protocol&&(u=u.replace(/^http:\/\//,"https://")),u.match(/\/image\/(?:unknown|generic)\//)){var c=HM.hypeHelper.getEmbedDisplayProfileProperty("generic_avatar_background_color"),h=HM.hypeHelper.getEmbedDisplayProfileProperty("generic_avatar_text_color");c&&(u=u.replace(/image\/(unknown|generic)\//,"image/$1/b_"+encodeURIComponent(c)+",")),h&&(u=u.replace(/image\/(unknown|generic)\//,"image/$1/co_"+encodeURIComponent(h)+","))}return this.get("source")===HM.Hype.SOURCES.TWITTER&&(n=i=e.fullname?e.fullname:e.name,r=o,s="http://www.twitter.com/"+e.username),{acct_name:n,acct_name_full:i,acct_url:s,acct_image:u,acct_username:r,acct_username_full:o,acct_byline:a,acct_byline_html:l}}return!1}catch(t){return!1}},toJSON:function(){var t=Backbone.Model.prototype.toJSON.call(this);$.extend(t,this.author()),$.extend(t,{text_only:!t.image}),_(HM.Hype.SOURCES).each(function(e,i){t["is_"+i.toLowerCase()]=t.source==e,t.source==e&&(t.source_network=i.toLowerCase())}),t.metadata&&t.metadata.image_objects_rekognition&&(t.hue_tags_des="Image may contain: "+t.metadata.image_objects_rekognition.slice(0,5).join(", "));var e=HM.Hype.SOURCE_ACCOUNTS[t.source];t.source_network=t.source?e.network:"custom",t.network_title=HM.Hype.SOURCE_TITLES[t.source],t.image_500w=HM.AssetCache.fetch(t.image,{w:500}),t.source&&e.account&&(t.source!==HM.Hype.SOURCES.PUBLIC_POST||HM.hypeHelper.onModerate())&&(t.network_icon=e.account.favicon,t.social_icon=HM.isSocialIcon(e.account.favicon));var i=e&&e.account&&_.isString(e.account.customImage);return i&&(t.has_custom_icon=i,t.network_icon=e.account.customImage),t.timeago=$.timeago(t.isotimestamp),t},nextRelativeOffset:function(){return relativeOffset=this.get("relative_offset"),relativeOffset+1}},{SOURCES:{FACEBOOK:1,TWITTER:2,INSTAGRAM:3,YOUTUBE:4,PINTEREST:5,RSS:6,GOOGLEPLUS:7,LINKEDIN:8,VINE:9,TUMBLR:10,CUSTOM:11,FLICKR:12,GOOGLE_NEWS:13,WECHAT:14,PUBLIC_POST:16,SLACK:17,SPARK:18,SMS:19,REVIEW_TRACKERS:20,INSTAGRAM_BUSINESS:21},SOURCE_ACCOUNTS:{1:{network:"facebook",account:HM.FacebookAccount},2:{network:"twitter",account:HM.TwitterAccount},3:{network:"instagram",account:HM.InstagramAccount},4:{network:"youtube",account:HM.YoutubeAccount},5:{network:"pinterest",account:HM.PinterestAccount},6:{network:"rss",account:HM.RSSAccount},7:{network:"googleplus",account:HM.GoogleplusAccount},8:{network:"linkedin",account:HM.LinkedinAccount},9:{network:"vine",account:HM.VineAccount},10:{network:"tumblr",account:HM.TumblrAccount},11:{network:"custom"},12:{network:"flickr",account:HM.FlickrAccount},13:{network:"google_news",account:HM.GoogleNewsAccount},14:{network:"wechat",account:HM.WechatAccount},16:{network:"public_post",account:HM.PublicPostAccount},17:{network:"slack",account:HM.SlackAccount},18:{network:"spark",account:HM.SparkAccount},19:{network:"sms",account:HM.SmsAccount},20:{network:"review_trackers",account:HM.ReviewTrackersAccount},21:{network:"instagram_business",account:HM.InstagramBusinessAccount}},SOURCE_TITLES:{1:"Facebook",2:"Twitter",3:"Instagram",4:"YouTube",5:"Pinterest",6:"RSS",7:"Google Plus",8:"LinkedIn",9:"Vine",10:"Tumblr",11:"Custom",12:"Flickr",13:"Google News",14:"WeChat",15:"Hootsuite",16:"Public",17:"Slack",18:"Spark",19:"SMS",20:"User Reviews",21:"Instagram"},VISIBILITY:{DELETED:-2,PRIVATE:0,PUBLIC:1,RECURRING:2,IMAGE_MODERATE_DELETE:-5,IMAGE_MODERATE_FAILED:-6}}),HM.SliderHypeCollection=Backbone.Collection.extend({model:HM.Hype,url:"/api/posts",comparator:function(t){return-1*t.get("created")}}),HM.DisplayHypeCollection=Backbone.Collection.extend({model:HM.Hype,url:"/api/posts",comparator:function(t){return-1*t.get("created")}}),HM.HypeCollection=Backbone.Collection.extend({model:HM.Hype,url:"/api/posts",filters:{},generateURL:function(){var t="/api/posts/"+this.username+"?";if(this.filters.param&&(t=t+this.filters.param+"&",delete this.filters.param),!this.filters.moderation){this.filters.remove_duplicate_images=HM.bootstrap.profile.remove_duplicate_images;var e=HM.Themes.info(this.theme).api_filters;_.extend(this.filters,e),0===HM.bootstrap.profile.textupdates&&(this.filters.select="image_only");var i=HM.hypeHelper.safeJSONParse(HM.bootstrap.profile.embed_display_profile);i.image_effect&&"none"!==i.image_effect?this.filters.image_effect=i.image_effect:delete this.filters.image_effect,HM.isMobile&&(this.filters.nocache=!0,HM.bootstrap.hypes=void 0)}var n={"rights-requested":["requested","pending"],"rights-approved":["approved"],"rights-expired":["expired"],"rights-error":["token_error,missing,error"]},o=[];for(var r in n)this.filters[r]&&(o=o.concat(n[r]));this.filters.user_rights=o.join(",");var s={visibility:"feed",social_feed_ids:"sf"};_.each(this.filters,function(e,i){i&&e&&(t=t+encodeURIComponent(s[i]||i)+"="+encodeURIComponent(e)+"&")}),"globalfeed"===this.username&&(t+="auth_user_id="+HM.currentAuthUser.id),this.url=t},initialize:function(){var t=this;this.on("change:sticky",function(e){/edit\/moderate/.test(window.location.href)?e.get("sticky")?HM.showAlert("The post you selected has been pinned to the top of your TINT. Refresh the page to see it there!",{type:"success",autoFadeTimeout:7e3}):HM.showAlert("The post you selected has been unpinned from the top. Refresh the page to see it in its new location.",{type:"success",autoFadeTimeout:7e3}):t.sort()},this)},SHIFT_FIRST_POST_LEFT:-1,SHIFT_FIRST_POST_RIGHT:1,POSTS_ARE_THE_SAME:0,parse:function(t){return this._normalizeJson(t)},_normalizeJson:function(t){return HM.hypeHelper.normalizeCollectionResponse(t,this)},compareSticky:function(t,e){return t.get("sticky")&&!e.get("sticky")?this.SHIFT_FIRST_POST_LEFT:!t.get("sticky")&&e.get("sticky")?this.SHIFT_FIRST_POST_RIGHT:this.POSTS_ARE_THE_SAME},compareApproved:function(t,e){var i=t.get("approved_at")||0,n=e.get("approved_at")||0;return i>n?this.SHIFT_FIRST_POST_LEFT:i<n?this.SHIFT_FIRST_POST_RIGHT:this.POSTS_ARE_THE_SAME},compareCreated:function(t,e){return t.get("created")>e.get("created")?this.SHIFT_FIRST_POST_LEFT:t.get("created")<e.get("created")?this.SHIFT_FIRST_POST_RIGHT:this.POSTS_ARE_THE_SAME},isSameImage:function(t,e){return(null!==t||null!==e)&&((t^e).toString(2).match(/1/g)||[]).length<17},isHue:function(){return"posts_ordered_by"in this.filters&&"hue"==this.filters.posts_ordered_by},compareHue:function(t,e){return this.POSTS_ARE_THE_SAME},comparator:function(t,e){if(/order=random/.test(window.location.search))return _.sample([0,1,-1]);if(this.isHue())return this.compareHue();var i=this.compareSticky(t,e),n=this.compareApproved(t,e),o=this.compareCreated(t,e);return i!==this.POSTS_ARE_THE_SAME?i:n!==this.POSTS_ARE_THE_SAME?n:o},parse:function(t){var e=this;return 1===(t=this._normalizeJson(t)).length&&t[0].error&&(console.log("Discarding apparent error:",t[0]),t=[]),this.filters.remove_duplicate_images&&(t=_(t).reduce(function(t,i){var n=e.findWhere({phash_str:i.phash_str});return n&&e.isSameImage(n.get("phash_str"),i.phash_str)?e._reset():t.push(i),t},[])),t}}),HM.EditorPostCollection=HM.HypeCollection.extend({constructor:function(t,e){this.has_account=!1,this.shouldShowExamplePosts(t)&&(t=HM.EXAMPLE_POSTS,this.postsAreExamples=!0),Backbone.Collection.call(this,t,e)},shouldShowExamplePosts:function(t,e){return _.isEmpty(t)&&!HM.getParameter("wl_token")&&!this.has_account},parse:function(t){var e=this;return 1===(t=this._normalizeJson(t)).length&&t[0].error&&(console.log("Discarding apparent error:",t[0]),t=[]),HM.hypeHelper.updatePaginationRange(t,this),t=_(t).reduce(function(t,i){var n=e.findWhere({post_id:i.post_id});return t.push(n||i),t},[]),this.shouldShowExamplePosts(t)?(this.postsAreExamples=!0,HM.EXAMPLE_POSTS):(this.postsAreExamples=!1,t)},add:function(t,e){return this.postsAreExamples&&(this._reset(),this.postsAreExamples=!1),Backbone.Collection.prototype.add.call(this,t,e)}});var BaseView=function(t){this.bindings=[],this.delegations=[],Backbone.View.apply(this,[t])};_.extend(BaseView.prototype,Backbone.View.prototype,{bindTo:function(t,e,i){t.unbind(e),t.bind(e,i),this.bindings.push({model:t,ev:e,callback:i})},delegateTo:function(t,e,i,n){t.undelegate(e,i),t.delegate(e,i,n),this.delegations.push({model:t,ev:i,target:e,callback:n})},unbindFromAll:function(){_.each(this.bindings,function(t){t.model.unbind(t.ev,t.callback)}),_.each(this.delegations,function(t){t.model.undelegate(t.target,t.ev,t.callback)}),this.bindings=[],this.delegations=[]},dispose:function(){this.unbindFromAll(),this.unbind(),this.undelegateEvents(),this.stopListening(),"function"==typeof this.onClose&&this.onClose()}}),BaseView.extend=Backbone.View.extend;var hmAnalytics={identified:function(){try{return!!sessionStorage.getItem("identified")||!1}catch(t){return this._identified||!1}},track:function(t,e,i){if("true"!==HM.getParameter("notrack")&&"1"!==navigator.doNotTrack){void 0===i&&(i="all"),this.identified()||this.identify(i),"undefined"==typeof ga||"segment"!==i&&"all"!==i||ga("send","event","All",t);var n=$.cookie("uuid");n&&$.extend(e,{uuid:n}),"undefined"==typeof analytics||"segment"!==i&&"all"!==i||analytics.track(t,e)}},identify:function(t,e,i){if("true"!==HM.getParameter("notrack")&&"1"!==navigator.doNotTrack&&(void 0===t&&(t="all"),$.cookie("uuid")||$.cookie("uuid",this.get_uuid(),{expires:365,path:"/",domain:"."+this.get_current_domain()}),void 0!==HM.currentAuthUser&&void 0!==HM.currentUser&&void 0!==HM.currentUser.tints)){var n={username:HM.currentAuthUser.username,email:HM.currentAuthUser.email,subscriptionPlan:0===HM.currentAuthUser.creator_id?HM.currentAuthUser.plan:"inherit",created:HM.currentAuthUser.created,userId:HM.currentAuthUser.id,industry:HM.currentAuthUser.industry,organization:HM.currentAuthUser.organization,number_of_tints:HM.currentUser.tints.length,ownerId:0===HM.currentAuthUser.creator_id?HM.currentAuthUser.id:HM.currentAuthUser.creator_id,number_of_feeds:HM.currentUser.feed_count.active};if("object"==typeof e&&$.extend(n,e),"undefined"!=typeof analytics&&("segment"===t||"all"===t)){if("function"==typeof analytics.group){var o=HM.currentAuthUser.creator_id||HM.currentAuthUser.id;analytics.group(o,{name:o})}analytics.identify(HM.currentAuthUser.email,n),this.identify_location()}try{sessionStorage.setItem("identified",!0)}catch(t){this._identified=!0}}},identify_location:function(){function t(t){return e.hasOwnProperty(t)?e[t]:t}if(analytics.page){var e={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};$.getJSON("https://ipinfo.io?token="+HM.ipinfoioKey+"&callback=?",function(e){analytics.identify(HM.currentAuthUser.email,{ip_country:t(e.country).toLowerCase(),ip_country_code:e.country.toLowerCase(),ip_state:e.region.toLowerCase(),ip_city:e.city.toLowerCase()}),analytics.page()})}},get_uuid:function(){var t=$.cookie("uuid");if(!t){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};t=e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}return t},get_current_domain:function(){for(var t=0,e=document.domain,i=e.split("."),n="_gd"+(new Date).getTime();t<i.length-1&&-1==document.cookie.indexOf(n+"="+n);)e=i.slice(-1-++t).join("."),document.cookie=n+"="+n+";domain="+e+";";return e},kenshoo_track:function(t,e,i,n,o){var r=("https:"==document.location.protocol?"https":"http")+"://5212.xg4ken.com/media/redir.php?track=1&id=403713b4-399e-42c0-abc4-b69ae401caab&type="+t+"&val="+e+"&orderId="+i+"&valueCurrency="+o+"&promoCode="+n+"&ref="+document.referrer,s=new Image(1,1);s.src=r,s.onload=function(){}},alias:function(t){void 0===t&&(t="all"),"undefined"==typeof mixpanel||"mixpanel"!==t&&"all"!==t||analytics.alias(HM.currentAuthUser.email)}};HM.PersonalizedThemeStylesheet=BaseView.extend({template:"personalizedThemeStylesheetTemplate",initialize:function(t){$(window).on("resize.profileHolder",_.debounce(_.bind(this.layout,this),50)),t.bind&&this.listenTo(this.model,"reset change",this.render,this)},onClose:function(){$(window).off("resize.personalizedThemeStylesheet")},events:{"click .powered-by-logo":"trackLogoClick"},trackLogoClick:function(){hmAnalytics.track("Powered By TINT: Click")},render:function(t){var e=this;return HM.TemplateManager.get(this.template,function(i){var n=_.extend(t||{},e.serializeData());console.log("PersonalizedThemeStylesheet: bg_page_image",n),e.$el.html(Mustache.render(i,n)),HM.PersonalizedThemeStylesheet.loadFonts(e.model),setTimeout(e.layout.bind(e),0)}),this},renderHTML:function(){return this.renderer.render(this.template,this.serializeData())},layout:function(){var t=new HM.TintLayout(this.model),e=t.banner();this.$(".profile-banner").css({height:e.height(),width:e.width(),top:e.top(),left:e.left()}),this.$(".powered-by-logo, .btn.public-add-post").css({top:t.poweredByTintTop()})},serializeData:function(){var t=this.model.toJSON(),e=HM.hypeHelper.getDisplayProfile("{}");switch(/"|'/.test(t.font_secondary)||(t.font_secondary="'"+t.font_secondary+"'"),t.color_namebar_buttons&&(6===t.color_namebar_buttons.length&&-1===t.color_namebar_buttons.indexOf("#")&&(t.color_namebar_buttons="#"+t.color_namebar_buttons),t.color_namebar_buttons_lighter=HM.PersonalizedThemeStylesheet.hexToRGB(t.color_namebar_buttons,20,1),t.color_namebar_buttons_rgba=HM.PersonalizedThemeStylesheet.hexToRGB(t.color_namebar_buttons)),!t.publicpost_button_color_disabled&&t.publicpost_button_color||(t.publicpost_button_color=t.color_namebar_buttons),t.publicpost_button_text||(t.publicpost_button_text="Add a post"),t.fontcolor_post&&(t.fontcolor_post_darker=HM.PersonalizedThemeStylesheet.hexToRGB(t.fontcolor_post,-40,1)),t.cta_button_show){case"both":t.cta_button_show_popup=!0,t.cta_button_show_post=!0;break;case"popup":t.cta_button_show_popup=!0,t.cta_button_show_post=!1;break;case"post":t.cta_button_show_popup=!1,t.cta_button_show_post=!0;break;default:t.cta_button_show_popup=!0,t.cta_button_show_post=!0}HM.hypeHelper.shouldRunThemeInIFrame(HM.Themes.info(this.model.get("theme")));return _.extend(t,{background_override:HM.bodyBackgroundOverride,has_bg_color:this.model.hasBackgroundColor(),has_bg_image:this.model.hasBackgroundImage(),bg_image_css:this.model.hasBackgroundImage()&&this.generateBackgroundImageCSS(),should_render_banner:HM.hypeHelper.shouldRenderBanner(this.model),should_add_drop_shadow:"hypeTemplate_atmosphere"!==this.model.get("theme"),should_render_powered_by_tint:!0===this.model.get("powered_by_tint_logo"),theme_is_mosaic:"hypeTemplate_mosaic"==this.model.get("theme"),is_editing:/\/edit/.test(window.location.href),hide_share_buttons:!this.model.get("sharebuttons"),hide_author:!this.model.get("show_author"),lineheight_secondary:parseInt(this.model.get("fontsize_secondary"),10)+2,fontsize_secondary_wide:parseInt(this.model.get("fontsize_secondary"),10)+5,lineheight_secondary_wide:parseInt(this.model.get("fontsize_secondary"),10)+7,fontcolor_post:this.model.isColorString(t.fontcolor_post)?t.fontcolor_post:e.fontcolor_post,color_namebar_buttons_rgba:t.color_namebar_buttons_rgba,text_on_hover:this.model.get("text_on_hover"),is_iframe_theme:this.model.shouldRunThemeInIFrame()})},generateBackgroundImageCSS:function(){var t,e=this.model.get("bg_page_image");return/^url\(/.test(e)||(t="url("+e+")"),"https:"!==window.location.protocol||/https/.test(t)||(t=t.replace("http","https")),t}},{loadFonts:function(t,e){for(var i in t.attributes)/font_secondary$|font_family$/.test(i)&&this.loadFont(t.get(i),e,t.get(i+"_woff_url"))},loadFont:function(t,e,i){if(e=e||{},"string"==typeof t){t=t.replace(/ Bold$/,"");var n={};if(i){$("#customFont").length>0&&$("#customFont").remove();var o=$('<style id="customFont" type="text/css">@font-face {font-family:"'+t+'";src:url("'+i+'") format("woff");}</style>');$("head").append(o),n={custom:{families:[t]}}}else n={google:{families:[t+":300,400"]}};WebFont.load(_.extend({fontactive:function(t,e){$(HM).trigger("webfontActive",arguments)}},n))}},hexToRGB:function(t,e,i){3===(t=t.replace("#","")).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=parseInt(t,16),o=[n>>16&255,n>>8&255,255&n],r=.8;return i&&(r=i),/number/.test(typeof e)&&(o=_.map(o,function(t){var i=t+e;return i>255?i=255:i<0&&(i=0),i})),"rgba("+o[0]+","+o[1]+","+o[2]+", "+r+")"}}),HM.ShareTooltipView=BaseView.extend({template:"shareTooltipTemplate",initialize:function(t){this.postAttributes=t.model,this.settings=t.settings,this.via=t.via||"tint"},serializeData:function(){return{shareOptions:this.shareOptions()}},twurl:function(){return this.buildUrl("tw").url},fburl:function(){return this.buildUrl("fb").url},buildUrl:function(t){var e=this.postAttributes,i={"[VIA]":this.via?"&via="+this.via:"","[LINK]":encodeURIComponent(e.url),"[TITLE]":encodeURIComponent(e.title),"[IMAGE]":encodeURIComponent(e.original_image),"[TITLE_SCRUBBED]":encodeURIComponent(this.scrubTitle(e.title)),"[BODY]":encodeURIComponent(e.title+"\n\n"+e.url)};for(var n in i)t=t.replace(n,i[n]);return t},scrubTitle:function(t){return t.replace(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-]*)?\??(?:[\-\+=&;%@\.\w]*)#?(?:[\.\!\/\\\w]*))?)/,"")},buildShareOptions:function(t){var e=_.clone(this.SHARE_OPTIONS[t]);if(e)return e.url=this.buildUrl(e.url),e.tintId=this.postAttributes.user_id,e.postId=this.postAttributes.post_id,e},SHARE_OPTIONS:{tw:{code:"tw",name:"Twitter",icon:"fab fa-twitter",url:"https://twitter.com/intent/tweet?url=[LINK]&text=[TITLE_SCRUBBED]"},fb:{code:"fb",name:"Facebook",icon:"fab fa-facebook",url:"http://www.facebook.com/sharer.php?u=[LINK][VIA]&t=[TITLE]"},li:{code:"li",name:"LinkedIn",icon:"fab fa-linkedin-in",url:"https://www.linkedin.com/shareArticle?url=[LINK]&title=[TITLE]&source=TINT"},pin:{code:"pin",name:"Pinterest",icon:"fab fa-pinterest",url:"https://www.pinterest.com/pin/create/button/?url=[LINK]&description=[TITLE]&media=[IMAGE]"},email:{code:"email",name:"Email",icon:"fas fa-envelope",url:"mailto:?subject=You+are+going+to+love+this&body=[BODY]"}},shareOptions:function(){var t=this;return(this.settings&&this.settings.get("sharebuttonoptions")||["tw","fb"]).map(function(e){return t.buildShareOptions(e)}).filter(function(t){return t})},render:function(){var t=this;return HM.TemplateManager.get(t.template,function(e){t.$el.html(Mustache.render(e,t.serializeData()))}),this}},{mount:function(t,e){t.tooltipster({trigger:"click",theme:"share-options",offsetX:10,content:e,contentAsHTML:!0,interactive:!0,functionReady:function(e,i){setTimeout(function(){$("li:first-child > a",i.tooltip).focus(),$(".share-menu-focus-guard",i.tooltip).focusin(function(e){e.preventDefault(),t.tooltipster("hide").focus()})},0)}})}}),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,a){function l(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,l){var u=a.data(l,i);if(u){var c=u[e];if(c&&"_"!=e.charAt(0)){var h=c.apply(u,n);o=void 0===o?h:o}else s(r+" is not a valid method")}else s(i+" not initialized. Cannot call methods, i.e. "+r)}),void 0!==o?o:t}function u(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),a.data(n,i,o))})}(a=a||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){return"string"==typeof t?l(this,t,o.call(arguments,1)):(u(this,t),this)},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s=void 0===r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),o=i[n+=s?0:1]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<l;e++)t[a[e]]=0;return t}function i(t){var e=getComputedStyle(t);return e||s("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function n(){if(!u){u=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var s=i(e);o.isBoxSizeOuter=r=200==t(s.width),n.removeChild(e)}}function o(o){if(n(),"string"==typeof o&&(o=document.querySelector(o)),o&&"object"==typeof o&&o.nodeType){var s=i(o);if("none"==s.display)return e();var u={};u.width=o.offsetWidth,u.height=o.offsetHeight;for(var c=u.isBorderBox="border-box"==s.boxSizing,h=0;h<l;h++){var d=a[h],p=s[d],f=parseFloat(p);u[d]=isNaN(f)?0:f}var m=u.paddingLeft+u.paddingRight,g=u.paddingTop+u.paddingBottom,_=u.marginLeft+u.marginRight,v=u.marginTop+u.marginBottom,y=u.borderLeftWidth+u.borderRightWidth,w=u.borderTopWidth+u.borderBottomWidth,b=c&&r,x=t(s.width);!1!==x&&(u.width=x+(b?0:m+y));var k=t(s.height);return!1!==k&&(u.height=k+(b?0:g+w)),u.innerWidth=u.width-(m+y),u.innerHeight=u.height-(g+w),u.outerWidth=u.width+_,u.outerHeight=u.height+v,u}}var r,s="undefined"==typeof console?function(){}:function(t){console.error(t)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=a.length,u=!1;return o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){var o=[];return(t=i.makeArray(t)).forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var r=i.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+r),u=i.makeArray(a).concat(i.makeArray(l)),c=s+"-options",h=t.jQuery;u.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(c);try{i=r&&JSON.parse(r)}catch(e){return void(n&&n.error("Error parsing "+s+" on "+t.className+": "+e))}var a=new e(t,i);h&&h.data(t,o,a)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=e(t,t.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.x=0,this.shift=0},n.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.changeSelectedClass("add")},e.unselect=function(){this.changeSelectedClass("remove")},e.changeSelectedClass=function(t){this.cells.forEach(function(e){e.element.classList[t]("is-selected")})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=e(t,t.fizzyUIUtils))}(window,function(t,e){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,n=0;i||(i=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),o=setTimeout(t,i);return n=e+i,o});var o={};o.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},o.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;i(function(){e.animate()})}};var r="string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform";return o.positionSlider=function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft&&r?-t:t;var i=this.getPositionValue(t);this.slider.style[r]=this.isAnimating?"translate3d("+i+",0,0)":"translateX("+i+")";var n=this.slides[0];if(n){var o=-this.x-n.target,s=o/this.slidesWidth;this.dispatchEvent("scroll",null,[s,o])}},o.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.positionSlider())},o.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},o.settle=function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle"))},o.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},o._shiftCells=function(t,e,i){for(var n=0;n<t.length;n++){var o=t[n],r=e>0?i:0;o.wrapShift(r),e-=o.size.outerWidth}},o._unshiftCells=function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},o.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},o.applyForce=function(t){this.velocity+=t},o.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},o.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},o.applyDragForce=function(){if(this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},o.applySelectedAttraction=function(){if(!this.isPointerDown&&!this.isFreeScrolling&&this.cells.length){var t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(t)}},o}),function(t,e){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(i,n,o,r,s,a){return e(t,i,n,o,r,s,a)});else if("object"==typeof module&&module.exports)module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var i=t.Flickity;t.Flickity=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,i.Cell,i.Slide,i.animatePrototype)}}(window,function(t,e,i,n,o,r,s){function a(t,e){for(t=n.makeArray(t);t.length;)e.appendChild(t.shift())}function l(t,e){var i=n.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var o=p[this.element.flickityGUID];return o.option(e),o}u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}else h&&h.error("Bad element for Flickity: "+(i||t))}var u=t.jQuery,c=t.getComputedStyle,h=t.console,d=0,p={};l.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},l.createMethods=[];var f=l.prototype;n.extend(f,e.prototype),f._create=function(){var e=this.guid=++d;this.element.flickityGUID=e,p[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),l.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(t){n.extend(this.options,t)},f.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),a(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var t,e=this.options.initialIndex;t=this.isInitActivated?this.selectedIndex:void 0!==e&&this.cells[e]?e:0,this.select(t,!1,!0),this.isInitActivated=!0}},f._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},f._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new o(t,this)},this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(t){t=t||0,this.maxCellHeight=t?this.maxCellHeight||0:0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,o=t;o<n;o++){var r=this.cells[o];r.setPosition(e),e+=r.size.outerWidth,this.maxCellHeight=Math.max(r.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(t){t.forEach(function(t){t.getSize()})},f.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new r(this);this.slides.push(t);var e="left"==this.originSide?"marginRight":"marginLeft",i=this._getCanCellFit();this.cells.forEach(function(n,o){if(t.cells.length){var s=t.outerWidth-t.firstMargin+(n.size.outerWidth-n.size[e]);i.call(this,o,s)?t.addCell(n):(t.updateTarget(),t=new r(this),this.slides.push(t),t.addCell(n))}else t.addCell(n)},this),t.updateTarget(),this.updateSelectedSlide()}},f._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},f._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},f._getGapCells=function(t,e,i){for(var n=[];t>0;){var o=this.cells[e];if(!o)break;n.push(o),e+=i,t-=o.size.outerWidth}return n},f._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],o=n<this.size.innerWidth,r=this.cursorPosition+this.cells[0].size[e],s=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){o?t.target=n*this.cellAlign:(t.target=Math.max(t.target,r),t.target=Math.min(t.target,s))},this)}},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),u&&this.$element){var o=t+=this.options.namespaceJQueryEvents?".flickity":"";if(e){var r=u.Event(e);r.type=t,o=r}this.$element.trigger(o,i)}},f.select=function(t,e,i){this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t]&&(this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select"),this.dispatchEvent("cellSelect")))},f._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&e>1))return t;var i=n.modulo(t,e),o=Math.abs(i-this.selectedIndex),r=Math.abs(i+e-this.selectedIndex),s=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&r<o?t+=e:!this.isDragSelect&&s<o&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},f.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},f.next=function(t,e){this.select(this.selectedIndex+1,t,e)},f.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectCell=function(t,e,i){var n;"number"==typeof t?n=this.cells[t]:("string"==typeof t&&(t=this.element.querySelector(t)),n=this.getCell(t));for(var o=0;n&&o<this.slides.length;o++)if(-1!=this.slides[o].cells.indexOf(n))return void this.select(o,e,i)},f.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},f.getCells=function(t){var e=[];return(t=n.makeArray(t)).forEach(function(t){var i=this.getCell(t);i&&e.push(i)},this),e},f.getCellElements=function(){return this.cells.map(function(t){return t.element})},f.getParentCell=function(t){var e=this.getCell(t);return e||(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},f.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var o=[],r=e-t;r<=e+t;r++){var s=this.options.wrapAround?n.modulo(r,i):r,a=this.slides[s];a&&(o=o.concat(a.getCellElements()))}return o},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},f.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(l,"onresize",150),f.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},f.watchCSS=function(){this.options.watchCSS&&(-1!=c(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},f.onkeydown=function(t){if(this.options.accessibility&&(!document.activeElement||document.activeElement==this.element))if(37==t.keyCode){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()}else if(39==t.keyCode){var i=this.options.rightToLeft?"previous":"next";this.uiChange(),this[i]()}},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.cells.forEach(function(t){t.destroy()}),this.unselectSelectedSlide(),this.element.removeChild(this.viewport),a(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.emitEvent("destroy"),u&&this.$element&&u.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete p[this.guid]},n.extend(f,s),l.data=function(t){var e=(t=n.getQueryElement(t))&&t.flickityGUID;return e&&p[e]},n.htmlInit(l,"flickity"),u&&u.bridget&&u.bridget("flickity",l),l.Cell=o,l}),function(t,e){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.Unipointer=e(t,t.EvEmitter)}(window,function(t,e){function i(){}var n=i.prototype=Object.create(e.prototype);n.bindStartEvent=function(t){this._bindStartEvent(t,!0)},n.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},n._bindStartEvent=function(e,i){var n=(i=void 0===i||!!i)?"addEventListener":"removeEventListener";t.navigator.pointerEnabled?e[n]("pointerdown",this):t.navigator.msPointerEnabled?e[n]("MSPointerDown",this):(e[n]("mousedown",this),e[n]("touchstart",this))},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},n.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},n.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},n.onMSPointerDown=n.onpointerdown=function(t){this._pointerDown(t,t)},n._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},n.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return n._bindPostStartEvents=function(e){if(e){var i=o[e.type];i.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=i}},n._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},n.onmousemove=function(t){this._pointerMove(t,t)},n.onMSPointerMove=n.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},n.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},n._pointerMove=function(t,e){this.pointerMove(t,e)},n.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},n.onmouseup=function(t){this._pointerUp(t,t)},n.onMSPointerUp=n.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},n.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},n._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},n._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},n.pointerDone=function(){},n.onMSPointerCancel=n.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},n.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},n._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},n.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},i.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},i}),function(t,e){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.Unidragger=e(t,t.Unipointer)}(window,function(t,e){function i(){}function n(){}var o=n.prototype=Object.create(e.prototype);o.bindHandles=function(){this._bindHandles(!0)},o.unbindHandles=function(){this._bindHandles(!1)};var r=t.navigator;return o._bindHandles=function(t){t=void 0===t||!!t;var e;e=r.pointerEnabled?function(e){e.style.touchAction=t?"none":""}:r.msPointerEnabled?function(e){e.style.msTouchAction=t?"none":""}:i;for(var n=t?"addEventListener":"removeEventListener",o=0;o<this.handles.length;o++){var s=this.handles[o];this._bindStartEvent(s,t),e(s),s[n]("click",this)}},o.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var i=document.activeElement;i&&i.blur&&i.blur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])},o._dragPointerDown=function(t,i){this.pointerDownPoint=e.getPointerPoint(i),this.canPreventDefaultOnPointerDown(t,i)&&t.preventDefault()},o.canPreventDefaultOnPointerDown=function(t){return"SELECT"!=t.target.nodeName},o.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},o._dragPointerMove=function(t,i){var n=e.getPointerPoint(i),o={x:n.x-this.pointerDownPoint.x,y:n.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(o)&&this._dragStart(t,i),o},o.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},o.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},o._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},o._dragStart=function(t,i){this.isDragging=!0,this.dragStartPoint=e.getPointerPoint(i),this.isPreventingClicks=!0,this.dragStart(t,i)},o.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},o._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},o.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},o._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},o.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},o.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},o._staticClick=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var i=t.target.nodeName;"INPUT"!=i&&"TEXTAREA"!=i||t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},o.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},n.getPointerPoint=e.getPointerPoint,n}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(i,n,o){return e(t,i,n,o)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):t.Flickity=e(t,t.Flickity,t.Unidragger,t.fizzyUIUtils)}(window,function(t,e,i,n){function o(){return{x:t.pageXOffset,y:t.pageYOffset}}n.extend(e.defaults,{draggable:!0,dragThreshold:3}),e.createMethods.push("_createDrag");var r=e.prototype;n.extend(r,i.prototype),r._createDrag=function(){this.on("activate",this.bindDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag)},r.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(this.element.classList.add("is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)},r.unbindDrag=function(){this.isDragBound&&(this.element.classList.remove("is-draggable"),this.unbindHandles(),delete this.isDragBound)},r._uiChangeDrag=function(){delete this.isFreeScrolling},r._childUIPointerDownDrag=function(t){t.preventDefault(),this.pointerDownFocus(t)};var s={TEXTAREA:!0,INPUT:!0,OPTION:!0},a={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};r.pointerDown=function(e,i){if(s[e.target.nodeName]&&!a[e.target.type])return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(e,i);var n=document.activeElement;n&&n.blur&&n!=this.element&&n!=document.body&&n.blur(),this.pointerDownFocus(e),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this._bindPostStartEvents(e),this.pointerDownScroll=o(),t.addEventListener("scroll",this),this.dispatchEvent("pointerDown",e,[i])};var l={touchstart:!0,MSPointerDown:!0},u={INPUT:!0,SELECT:!0};return r.pointerDownFocus=function(e){if(this.options.accessibility&&!l[e.type]&&!u[e.target.nodeName]){var i=t.pageYOffset;this.element.focus(),t.pageYOffset!=i&&t.scrollTo(t.pageXOffset,i)}},r.canPreventDefaultOnPointerDown=function(t){var e="touchstart"==t.type,i=t.target.nodeName;return!e&&"SELECT"!=i},r.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},r.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},r.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},r.dragStart=function(t,e){this.dragStartPosition=this.x,this.startAnimation(),this.dispatchEvent("dragStart",t,[e])},r.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},r.dragMove=function(t,e,i){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1,o=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var r=Math.max(-this.slides[0].target,this.dragStartPosition);o=o>r?.5*(o+r):o;var s=Math.min(-this.getLastSlide().target,this.dragStartPosition);o=o<s?.5*(o+s):o}this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])},r.dragEnd=function(t,e){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])},r.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1);return i.distance<n.distance?i.index:n.index},r._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,o=1/0,r=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};r(e,o)&&(n+=i,o=e,null!==(e=this.getSlideDistance(-t,n)));)e=Math.abs(e);return{distance:o,index:n-i}},r.getSlideDistance=function(t,e){var i=this.slides.length,o=this.options.wrapAround&&i>1,r=o?n.modulo(e,i):e,s=this.slides[r];if(!s)return null;var a=o?this.slideableWidth*Math.floor(e/i):0;return t-(s.target+a)},r.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},r.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,o=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,o])},r.onscroll=function(){var t=o(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}),function(t,e){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.TapListener=e(t,t.Unipointer)}(window,function(t,e){function i(t){this.bindTap(t)}var n=i.prototype=Object.create(e.prototype);return n.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},n.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},n.pointerUp=function(i,n){if(!this.isIgnoringMouseUp||"mouseup"!=i.type){var o=e.getPointerPoint(n),r=this.tapElement.getBoundingClientRect(),s=t.pageXOffset,a=t.pageYOffset;if(o.x>=r.left+s&&o.x<=r.right+s&&o.y>=r.top+a&&o.y<=r.bottom+a&&this.emitEvent("tap",[i,n]),"mouseup"!=i.type){this.isIgnoringMouseUp=!0;var l=this;setTimeout(function(){delete l.isIgnoringMouseUp},400)}}},n.destroy=function(){this.pointerDone(),this.unbindTap()},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,n,o){return e(t,i,n,o)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):e(t,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";function o(t,e){this.direction=t,this.parent=e,this._create()}function r(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}var s="http://www.w3.org/2000/svg";(o.prototype=new i)._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"previous":"next");var i=this.createSVG();e.appendChild(i),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t=document.createElementNS(s,"svg");t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(s,"path"),i=r(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},o.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},o.prototype.handleEvent=n.handleEvent,o.prototype.onclick=function(){var t=document.activeElement;t&&t==this.element&&this.onTap()},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var a=e.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=o,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,n,o){return e(t,i,n,o)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):e(t,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){function o(t){this.parent=t,this._create()}(o.prototype=new i)._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},o.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},o.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[];t;){var n=document.createElement("li");n.className="dot",e.appendChild(n),i.push(n),t--}this.holder.appendChild(e),this.dots=this.dots.concat(i)},o.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot"),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},o.prototype.onTap=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},o.prototype.destroy=function(){this.deactivate()},e.PageDots=o,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var r=e.prototype;return r._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},r.activatePageDots=function(){this.pageDots.activate()},r.updateSelectedPageDots=function(){this.pageDots.updateSelected()},r.updatePageDots=function(){this.pageDots.setDots()},r.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=o,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(t,i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):e(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i){function n(t){this.parent=t,this.state="stopped",r&&(this.onVisibilityChange=function(){this.visibilityChange()}.bind(this),this.onVisibilityPlay=function(){this.visibilityPlay()}.bind(this))}var o,r;"hidden"in document?(o="hidden",r="visibilitychange"):"webkitHidden"in document&&(o="webkitHidden",r="webkitvisibilitychange"),(n.prototype=Object.create(t.prototype)).play=function(){if("playing"!=this.state){var t=document[o];if(r&&t)return void document.addEventListener(r,this.onVisibilityPlay);this.state="playing",r&&document.addEventListener(r,this.onVisibilityChange),this.tick()}},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),r&&document.removeEventListener(r,this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document[o]?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener(r,this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var s=i.prototype;return s._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},s.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element)}),e}var o=e.prototype;return o.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var o=this.cells.length;e=void 0===e?o:e;var r=n(i),s=e==o;if(s)this.slider.appendChild(r);else{var a=this.cells[e].element;this.slider.insertBefore(r,a)}if(0===e)this.cells=i.concat(this.cells);else if(s)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,o-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i);var u=e>this.selectedIndex?0:i.length;this._cellAddedRemoved(e,u)}},o.append=function(t){this.insert(t,this.cells.length)},o.prepend=function(t){this.insert(t,0)},o.remove=function(t){var e,n,o=this.getCells(t),r=0,s=o.length;for(e=0;e<s;e++)n=o[e],r-=this.cells.indexOf(n)<this.selectedIndex?1:0;for(e=0;e<s;e++)(n=o[e]).remove(),i.removeFrom(this.cells,n);o.length&&this._cellAddedRemoved(0,r)},o._cellAddedRemoved=function(t,e){e=e||0,this.selectedIndex+=e,this.selectedIndex=Math.max(0,Math.min(this.slides.length-1,this.selectedIndex)),this.cellChange(t,!0),this.emitEvent("cellAddedRemoved",[t,e])},o.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},o.cellChange=function(t,e){var i=this.slideableWidth;if(this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("cellChange",[t]),this.options.freeScroll){var n=i-this.slideableWidth;this.x+=n*this.cellAlign,this.positionSlider()}else e&&this.positionSliderAtSelected(),this.select(this.selectedIndex)},e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i){"use strict";function n(t){if("IMG"==t.nodeName&&t.getAttribute("data-flickity-lazyload"))return[t];var e=t.querySelectorAll("img[data-flickity-lazyload]");return i.makeArray(e)}function o(t,e){this.img=t,this.flickity=e,this.load()}e.createMethods.push("_createLazyload");var r=e.prototype;return r._createLazyload=function(){this.on("select",this.lazyLoad)},r.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=[];this.getAdjacentCellElements(e).forEach(function(t){var e=n(t);i=i.concat(e)}),i.forEach(function(t){new o(t,this)},this)}},o.prototype.handleEvent=i.handleEvent,o.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.img.getAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload")},o.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},o.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},o.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=o,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(t){return t}),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function(t,e){function i(t,e,i){return(e-t)*i+t}t.createMethods.push("_createAsNavFor");var n=t.prototype;return n._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout(function(){e.setNavCompanion(t)})}},n.setNavCompanion=function(i){i=e.getQueryElement(i);var n=t.data(i);if(n&&n!=this){this.navCompanion=n;var o=this;this.onNavCompanionSelect=function(){o.navCompanionSelect()},n.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},n.navCompanionSelect=function(t){if(this.navCompanion){var e=this.navCompanion.selectedCells[0],n=this.navCompanion.cells.indexOf(e),o=n+this.navCompanion.selectedCells.length-1,r=Math.floor(i(n,o,this.navCompanion.cellAlign));if(this.selectCell(r,!1,t),this.removeNavSelectedElements(),!(r>=this.cells.length)){var s=this.cells.slice(n,o+1);this.navSelectedElements=s.map(function(t){return t.element}),this.changeNavSelectedClass("add")}}},n.changeNavSelectedClass=function(t){this.navSelectedElements.forEach(function(e){e.classList[t]("is-nav-selected")})},n.activateAsNavFor=function(){this.navCompanionSelect(!0)},n.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},n.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},n.deactivateAsNavFor=function(){this.removeNavSelectedElements()},n.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,l=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(a=e,a.fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(a(this))})},o.makeJQueryPlugin(),o}),function(t,e){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("flickity"),require("imagesloaded")):t.Flickity=e(t,t.Flickity,t.imagesLoaded)}(window,function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var n=e.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){if(this.options.imagesLoaded){var t=this;i(this.slider).on("progress",function(e,i){var n=t.getParentCell(i.img);t.cellSizeChange(n&&n.element),t.options.freeScroll||t.positionSliderAtSelected()})}},e});